/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";class t{constructor(t,e,i){this.row=e,this.col=i,this.blockType=t}getBlockType(){return this.blockType}getRow(){return this.row}getCol(){return this.col}}var e,i;!function(t){t[t.Empty=0]="Empty",t[t.Wall=1]="Wall"}(e||(e={}));class s{constructor(e,i,s,a){this.blocks=new Array,this.canvas=a,this.cellWidth=e,this.cellHeight=i,s&&s.forEach(((e,i)=>{let s=new Array;e.forEach(((e,a)=>{s.push(new t(e,i,a))})),this.blocks.push(s)}))}drawMap(){let t=this.canvas.getContext("2d");this.blocks.forEach(((i,s)=>{i.forEach(((i,a)=>{i.blockType===e.Wall&&(t.beginPath(),t.strokeStyle="black",t.rect(this.cellWidth*a,this.cellHeight*s,this.cellWidth,this.cellHeight),t.stroke())}))}))}getBlocks(){return this.blocks}getRandomEmptyBlock(){let t=[];return this.blocks.forEach((i=>{i.forEach((i=>{i.blockType===e.Empty&&t.push(i)}))})),t[Math.round(Math.random()*t.length)]}}class a{constructor(t,e,i,s){this.walkingPlayBackRate=1,this.runningPlayBackRate=2,this.crouchingPlayBackRate=.7,this.walkingVolume=.3,this.runningVolume=.45,this.crouchingVolume=.15,this.playBackRate=e||this.walkingPlayBackRate,this.audio=document.getElementById(t),this.audio.loop=null==i||i,this.volume=s||this.walkingVolume}setAudioData(){this.audio.playbackRate=this.playBackRate,this.audio.volume=this.volume}setPlayBackRate(t){this.playBackRate=t,this.setAudioData()}setVolume(t){this.volume=t,this.setAudioData()}play(){this.audio.play()}stop(){this.audio.pause(),this.audio.currentTime=0}setAudioWalking(){this.playBackRate=this.walkingPlayBackRate,this.volume=this.walkingVolume,this.setAudioData()}setAudioCrouching(){this.playBackRate=this.crouchingPlayBackRate,this.volume=this.crouchingVolume,this.setAudioData()}setAudioRunning(){this.playBackRate=this.runningPlayBackRate,this.volume=this.runningVolume,this.setAudioData()}}class l{constructor(t){this.dir=t,this.x=Math.cos(this.toRad(t)),this.y=Math.sin(this.toRad(t))}updateDir(t){this.dir+=t,this.x=Math.cos(this.toRad(this.dir)),this.y=Math.sin(this.toRad(this.dir))}setDir(t){this.dir=t,this.x=Math.cos(this.toRad(this.dir)),this.y=Math.sin(this.toRad(this.dir))}toRad(t){return t*Math.PI/180}getDirDeg(){return this.dir}getDirRad(){return this.dir*Math.PI/180}getX(){return this.x}getY(){return this.y}}class r{constructor(){}pointInRectangle(t,e){var i=this.vector(e.A,e.B),s=this.vector(e.A,t),a=this.vector(e.B,e.C),l=this.vector(e.B,t),r=this.dot(i,s),h=this.dot(i,i),o=this.dot(a,l),n=this.dot(a,a);return 0<=r&&r<=h&&0<=o&&o<=n}vector(t,e){return{x:e.x-t.x,y:e.y-t.y}}toRad(t){return t*Math.PI/180}toDeg(t){return t/Math.PI*180}dot(t,e){return t.x*e.x+t.y*e.y}getMapBlockFromCoord(t,e,i,s){return{col:Math.ceil(t/i)-1,row:Math.ceil(e/s)-1}}getXYFromMapBlock(t,e,i){return{x:t.col*e+e/2,y:t.row*i+i/2}}inMapBlock(t,i,s,a,l){return s.getBlocks()[this.getMapBlockFromCoord(t,i,a,l).row][this.getMapBlockFromCoord(t,i,a,l).col].getBlockType()===e.Wall}dist(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}}class h{constructor(t,e,i,s,a){this.velocity=7,this.dim=1.5,this.crouchedBullet=!1,this.util=new r,this.xPos=t,this.yPos=e,this.uVecDir=i,this.areaState=a,this.crouchedBullet=s}moveBullet(){this.xPos+=this.velocity*this.uVecDir.getX(),this.yPos+=this.velocity*this.uVecDir.getY()}checkWallHit(){let t=new l(this.uVecDir.getDirDeg());for(let e=0;e<360;e+=5){let e=this.xPos+t.getX()*(this.dim+.01),i=this.yPos+t.getY()*(this.dim+.01);if(this.util.inMapBlock(e,i,this.areaState.getMap(),this.areaState.getCellWidth(),this.areaState.getCellHeight()))return!0;t.updateDir(5)}return!1}draw2D(){let t=this.areaState.getCanvas2D().getContext("2d");t.fillStyle="grey",t.moveTo(this.xPos,this.yPos),t.beginPath(),t.arc(this.xPos,this.yPos,this.dim,0,2*Math.PI),t.fill()}getX(){return this.xPos}getY(){return this.yPos}getCrouchedBullet(){return this.crouchedBullet}getDim(){return this.dim}}!function(t){t.UP="w",t.LEFT_ROTATION="a",t.DOWN="s",t.RIGHT_ROTATION="d",t.CROUCH="c",t.RUN=" "}(i||(i={}));class o{constructor(t,e,s,a,o,n){this.standingVel=1.5,this.crouchingVel=.75,this.runningVel=3,this.standingAngularVel=9,this.crouchingAngularVel=1.5,this.playerCircleRadius=2,this.keysState={},this.bullets=[],this.util=new r,this.xPos=t,this.yPos=e,this.dirUVec=s,this.movementAudioControl=o,this.shootingAudioControl=n,this.areaState=a,window.addEventListener("click",(()=>{let t=Math.atan((this.curMousePosX-this.areaState.canvas3D.width/2)/350)+this.dirUVec.getDirRad(),e=new l(this.util.toDeg(t));this.bullets.push(new h(this.getXMid(),this.getYMid(),e,this.isPlayerCrouching(),this.areaState)),this.shootingAudioControl.stop(),this.shootingAudioControl.play()})),window.addEventListener("keyup",(t=>{switch(t.key){case i.RUN:this.keysState[i.CROUCH]||(this.movementAudioControl.setAudioWalking(),this.keysState[i.RUN]=!1);break;case i.CROUCH:this.keysState[i.RUN]||(this.movementAudioControl.setAudioWalking(),this.keysState[i.CROUCH]=!1);break;case i.UP:this.keysState[i.DOWN]||(this.movementAudioControl.stop(),clearInterval(this.keysState[i.UP]),this.keysState[i.UP]=null);break;case i.DOWN:this.keysState[i.UP]||(this.movementAudioControl.stop(),clearInterval(this.keysState[i.DOWN]),this.keysState[i.DOWN]=null);break;case i.LEFT_ROTATION:clearInterval(this.keysState[i.LEFT_ROTATION]),this.keysState[i.LEFT_ROTATION]=null;break;case i.RIGHT_ROTATION:clearInterval(this.keysState[i.RIGHT_ROTATION]),this.keysState[i.RIGHT_ROTATION]=null}})),window.addEventListener("mousemove",(t=>{let e=this.areaState.getCanvas3D().getBoundingClientRect(),i=t.clientX-e.left;this.curMousePosX=i})),window.addEventListener("keydown",(t=>{switch(t.key){case i.RUN:this.keysState[i.CROUCH]||(this.movementAudioControl.setAudioRunning(),this.keysState[i.RUN]=!0);break;case i.CROUCH:this.keysState[i.RUN]||(this.movementAudioControl.setAudioCrouching(),this.keysState[i.CROUCH]=!0);break;case i.UP:if(this.keysState[i.DOWN])return;this.keysState[i.CROUCH]||this.keysState[i.RUN]||this.movementAudioControl.setAudioWalking(),this.movementAudioControl.play(),this.keysState[i.UP]||(this.keysState[i.UP]=setInterval((()=>{this.moveForward()}),25));break;case i.DOWN:if(this.keysState[i.UP])return;this.keysState[i.CROUCH]||this.keysState[i.RUN]||this.movementAudioControl.setAudioWalking(),this.movementAudioControl.play(),this.keysState[i.DOWN]||(this.keysState[i.DOWN]=setInterval((()=>{this.moveBackward()}),25));break;case i.LEFT_ROTATION:this.keysState[i.LEFT_ROTATION]||(this.keysState[i.LEFT_ROTATION]=setInterval((()=>{this.rotate("LEFT")}),25));break;case i.RIGHT_ROTATION:this.keysState[i.RIGHT_ROTATION]||(this.keysState[i.RIGHT_ROTATION]=setInterval((()=>{this.rotate("RIGHT")}),25))}}))}isPlayerMoving(){return this.keysState[i.UP]||this.keysState[i.DOWN]}isPlayerCrouching(){return this.keysState[i.CROUCH]}isPlayerRunning(){return this.keysState[i.RUN]}getBullets(){return this.bullets}setBullets(t){this.bullets=t}removeBullets(t){this.bullets.splice(t,1)}rotate(t){let e=this.keysState[i.CROUCH]?this.crouchingAngularVel:this.standingAngularVel;"LEFT"===t?this.dirUVec.updateDir(-e):"RIGHT"===t&&this.dirUVec.updateDir(e)}moveForward(){let t=this.keysState[i.CROUCH]?this.crouchingVel:this.keysState[i.RUN]?this.runningVel:this.standingVel,e=t*this.dirUVec.getX(),s=t*this.dirUVec.getY();this.util.inMapBlock(this.xPos+e,this.yPos+s,this.areaState.getMap(),this.areaState.getCellWidth(),this.areaState.getCellHeight())||(this.yPos+=t*this.dirUVec.getY(),this.xPos+=t*this.dirUVec.getX())}moveBackward(){let t=this.keysState[i.CROUCH]?this.crouchingVel:this.keysState[i.RUN]?this.runningVel:this.standingVel,e=-t*this.dirUVec.getX(),s=-t*this.dirUVec.getY();this.util.inMapBlock(this.xPos+e,this.yPos+s,this.areaState.getMap(),this.areaState.getCellWidth(),this.areaState.getCellHeight())||(this.yPos-=t*this.dirUVec.getY(),this.xPos-=t*this.dirUVec.getX())}reset(){this.xPos=375,this.yPos=400,this.dirUVec.setDir(270)}draw2D(){let t=this.areaState.getCanvas2D().getContext("2d");t.beginPath(),t.arc(this.xPos,this.yPos,this.playerCircleRadius,0,2*Math.PI,!1),t.fillStyle="green",t.fill()}drawCursor3D(){let t=this.areaState.getCanvas3D().getContext("2d"),e=this.areaState.geCanvast3DHeight()/2,i=this.curMousePosX+1,s=e;t.fillStyle="white",t.fillRect(this.curMousePosX,e-10,2,20),t.fillRect(i-10,s-1,20,2),t.setTransform(1,0,0,1,0,0)}getUnitVec(){return this.dirUVec}getXMid(){return this.xPos}getYMid(){return this.yPos}}var n=function(){function t(t){void 0===t&&(t=void 0),this.comparers=t||[]}return t.create=function(){return new t},t.prototype.thenKey=function(t){return this.sortKey(t)},t.prototype.thenKeyDescending=function(t){return this.sortKeyDescending(t)},t.prototype.sortKey=function(e){var i=this.createComparer(e,(function(t,e){return t<e?-1:t>e?1:0})),s=this.comparers.slice();return s.push(i),new t(s)},t.prototype.sortKeyDescending=function(e){var i=this.createComparer(e,(function(t,e){return t<e?1:t>e?-1:0})),s=this.comparers.slice();return s.push(i),new t(s)},t.prototype.createComparer=function(t,e){return function(i,s){var a=t(i),l=t(s);return e(a,l)}},t.prototype.build=function(){var t=this;return function(e,i){for(var s=0,a=t.comparers;s<a.length;s++){var l=(0,a[s])(e,i);if(0!==l)return l}return 0}},t}().create;function c(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}var g=function(t,e,i){var s=t[e];t[e]=t[i],t[i]=s};function u(t){var e=[],i=function(e){return function(t,e){var i,s;if(0!==t.length){var a,l=0;try{for(var r=c(t),h=r.next();!h.done;h=r.next()){var o=h.value;a=l++>0?e(o,a)>0?o:a:o}}catch(t){i={error:t}}finally{try{h&&!h.done&&(s=r.return)&&s.call(r)}finally{if(i)throw i.error}}return a}}(e,(function(e,i){var s=e.item,a=i.item;return t(a,s)}))},s={push:function(i){var s=e.length;for(e.push(i);s>0;){var a=s-1>>1;if(!(t(i,e[a])<0))break;g(e,s,a),s=a}},pushRange:function(t){var e,i;try{for(var a=c(t),l=a.next();!l.done;l=a.next()){var r=l.value;s.push(r)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}},pop:function(){if(0===e.length)return null;var s=e[0];e[0]=e[e.length-1],e.length=e.length-1;for(var a=0;;){for(var l=e[a],r=1+(a<<1),h=[],o=0;o<2;++o){var n=r+o;n<e.length&&h.push({item:e[n],index:n})}if(0===h.length)break;var c=i(h);if(!(t(c.item,l)<0))break;g(e,a,c.index),a=c.index}return s},get length(){return e.length}};return s}function y(t){var e=u((function(e,i){var s=t(e.item,i.item);return 0===s?e.order-i.order:s})),i=0,s={push:function(t){return e.push({item:t,order:i++})},pushRange:function(t){var e,i;try{for(var a=c(t),l=a.next();!l.done;l=a.next()){var r=l.value;s.push(r)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}},pop:function(){var t=e.pop();return t?t.item:null},get length(){return e.length}};return s}class p{constructor(t){this.path=[],this.nodes=[],this.cellStraightDist=1,this.areaState=t,this.areaState.getMap().getBlocks().forEach(((t,i)=>{let s=new Array;t.forEach(((t,a)=>{if(t.getBlockType()==e.Wall)s.push(null);else if(t.getBlockType()==e.Empty){let t={col:a,row:i},e=null,l=999999;s.push({id:JSON.stringify(t),position:t,h_score:e,g_score:l,f_score:999999})}})),this.nodes.push(s)}))}getXYFromRowCol(t){return{x:t.col*this.areaState.getCellWidth()+this.areaState.getCellWidth()/2,y:t.row*this.areaState.getCellHeight()+this.areaState.getCellHeight()/2}}getNodeNeighbours(t,e){let i=[],s=this.getXYFromRowCol(e.position);if(t.position.row>0&&null!=this.nodes[t.position.row-1][t.position.col]){let e=this.nodes[t.position.row-1][t.position.col];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist)};i.push(a)}if(t.position.col>0&&null!=this.nodes[t.position.row][t.position.col-1]){let e=this.nodes[t.position.row][t.position.col-1];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist)};i.push(a)}if(t.position.col<this.nodes[0].length-1&&null!=this.nodes[t.position.row][t.position.col+1]){let e=this.nodes[t.position.row][t.position.col+1];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist)};i.push(a)}if(t.position.row<this.nodes.length-1&&null!=this.nodes[t.position.row+1][t.position.col]){let e=this.nodes[t.position.row+1][t.position.col];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist)};i.push(a)}return i}reconstructPath(t){let e=t;for(this.path.unshift(e);null!=e.parent_Node;)console.log(e),e=e.parent_Node,this.path.unshift(e)}resetSearcher(){this.path=[],this.nodes.forEach((t=>{t.forEach((t=>{null!=t&&(t.g_score=999999,t.h_score=null,t.f_score=999999,t.parent_Node=void 0)}))}))}calculatePath(t,e,i,s){const a=this.nodes[t][e];a.g_score=0;const l=this.nodes[i][s];l.h_score=0;const r=function(t,e,i){void 0===e&&(e="min"),void 0===i&&(i=!0);var s=n();return(i?y:u)(("min"===e?s.sortKey:s.sortKeyDescending).call(s,(t=>t.f_score)).build())}();r.push(a);let h,o={start:!0};for(;r.length>0;){if(h=r.pop(),o[h.id]=!1,h===l)return this.reconstructPath(l),this.path;this.getNodeNeighbours(h,l).forEach((t=>{let e=h.g_score+t.d_val;e<t.node.g_score&&(t.node.parent_Node=h,t.node.g_score=e,t.node.f_score=t.node.g_score+t.node.h_score,o[t.node.id]||(r.push(t.node),o[t.node.id]=!0))}))}return null}}class m{constructor(t,e,i,s){this.dim=5,this.velocity=1,this.util=new r,this.xPos=t,this.yPos=e,this.uVecDir=i,this.areaState=s,this.searcher=new p(s)}getAngleToPoint(t,e){let i={x:t-this.xPos,y:e-this.yPos},s=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)),a=Math.round(1e3*(this.uVecDir.getX()*i.x+this.uVecDir.getY()*i.y+Number.EPSILON))/1e3,l=Math.round(1e3*(s+Number.EPSILON))/1e3;return 180*Math.acos(a/l)/Math.PI}move(t,e){let i=this.util.getMapBlockFromCoord(t,e,this.areaState.getCellWidth(),this.areaState.getCellHeight()),s=this.util.getMapBlockFromCoord(this.xPos,this.yPos,this.areaState.getCellWidth(),this.areaState.getCellHeight());if(i.col===s.col&&i.row===s.row){let i=this.getAngleToPoint(t,e);this.uVecDir.updateDir(i)}else{this.searcher.resetSearcher();let t=this.searcher.calculatePath(s.row,s.col,i.row,i.col),e=this.util.getXYFromMapBlock(t[1].position,this.areaState.getCellWidth(),this.areaState.getCellHeight()),a=this.getAngleToPoint(e.x,e.y);this.uVecDir.updateDir(a)}this.xPos+=this.uVecDir.getX()*this.velocity,this.yPos+=this.uVecDir.getY()*this.velocity,this.checkObjectHit()&&(this.uVecDir.updateDir(180+10*Math.random()),console.log(this.uVecDir))}checkObjectHit(){let t=new l(this.uVecDir.getDirDeg());for(let e=0;e<360;e+=5){let e=this.xPos+t.getX()*(this.dim+.01),i=this.yPos+t.getY()*(this.dim+.01);if(this.util.inMapBlock(e,i,this.areaState.getMap(),this.areaState.getCellWidth(),this.areaState.getCellHeight()))return!0;t.updateDir(5)}return!1}draw2D(){let t=this.areaState.getCanvas2D().getContext("2d");t.fillStyle="red",t.moveTo(this.xPos,this.yPos),t.beginPath(),t.arc(this.xPos,this.yPos,this.dim,0,2*Math.PI),t.fill()}getX(){return this.xPos}getY(){return this.yPos}getDir(){return this.uVecDir}getDim(){return this.dim}}class d{constructor(t,e,i){this.walkingFrameCount=0,this.walkingFrameIncr=4,this.util=new r,this.randY=350*Math.random(),this.gameState=t,this.areaState=e,this.uVecDir=i;let s={r:0,g:183,b:255};this.grd=this.areaState.getCanvas3D().getContext("2d").createLinearGradient(0,this.areaState.geCanvast3DHeight(),0,this.areaState.geCanvast3DHeight()/2);let a=Math.ceil(this.areaState.geCanvast3DHeight()/2/2.5),l=1/a;for(let t=0;t<a;t++)this.grd.addColorStop(t*l,`rgb(${s.r}, ${s.g}, ${s.b})`),this.adjustColor(s,{r:0,g:-1,b:-1.4})}getEdgeCords(t){let e=this.areaState.getCellWidth(),i=this.areaState.getCellHeight(),s=e*t.getCol(),a=i*t.getRow();return{C:{x:s,y:a+i},D:{x:s+e,y:a+i},B:{x:s+e,y:a},A:{x:s,y:a}}}checkEdgeRay(t){let e=this.getEdgeCords(t);this.edgeRay=!1;let i=null,s=null,a=null,l=null;Object.keys(e).forEach((t=>{i={x:e[t].x-this.gameState.getCenterX(),y:e[t].y-this.gameState.getCenterY()},s=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)),a=180*Math.acos((this.uVecDir.getX()*i.x+this.uVecDir.getY()*i.y)/s)/Math.PI,l=Math.sqrt(Math.pow(e[t].x-this.endX,2)+Math.pow(e[t].y-this.endY,2)),a<=.1&&l<=3.5&&(this.edgeRay=!0)}))}calculateCollisionsAndIfEdge(){let t=this.gameState.getCenterX(),e=this.gameState.getCenterY();this.bulletCollisionArray=[],this.enemyNpcCollisionArray=[];let i=this.gameState.getAllBullets(),s=this.gameState.getAllEnemies();for(;!this.util.inMapBlock(t,e,this.areaState.getMap(),this.areaState.getCellWidth(),this.areaState.getCellHeight());){for(let s=i.length-1;s>=0;s--){let a=i[s];Math.sqrt(Math.pow(t-a.getX(),2)+Math.pow(e-a.getY(),2))<a.getDim()&&(this.bulletCollisionArray.push({collisionX:t,collisionY:e,objectHit:a,length:null}),i.splice(s,1))}for(let i=s.length-1;i>=0;i--){let a=s[i];Math.sqrt(Math.pow(t-a.getX(),2)+Math.pow(e-a.getY(),2))<a.getDim()&&(this.enemyNpcCollisionArray.push({collisionX:t,collisionY:e,objectHit:a,length:null}),s.splice(i,1))}t+=this.uVecDir.getX()/4,e+=this.uVecDir.getY()/4}this.endX=t,this.endY=e;let a=this.util.getMapBlockFromCoord(t,e,this.areaState.getCellWidth(),this.areaState.getCellHeight()),l=this.areaState.getMap().getBlocks()[a.row][a.col];this.checkEdgeRay(l)}getAdjustedLength(t,e){return Math.sqrt(Math.pow(this.gameState.getCenterX()-t,2)+Math.pow(this.gameState.getCenterY()-e,2))*(this.uVecDir.getX()*this.gameState.getCenterDir().getX()+this.uVecDir.getY()*this.gameState.getCenterDir().getY())}performRayCalculations(t){this.uVecDir=t,this.calculateCollisionsAndIfEdge(),this.length=this.getAdjustedLength(this.endX,this.endY),this.bulletCollisionArray.forEach((t=>t.length=this.getAdjustedLength(t.collisionX,t.collisionY))),this.enemyNpcCollisionArray.forEach((t=>t.length=this.getAdjustedLength(t.collisionX,t.collisionY))),this.gameState.isPlayerCrouching()?(this.walkingFrameIncr=this.walkingFrameIncr/Math.abs(this.walkingFrameIncr),this.walkingFrameIncr*=2):this.gameState.isPlayerRunning()?(this.walkingFrameIncr=this.walkingFrameIncr/Math.abs(this.walkingFrameIncr),this.walkingFrameIncr*=8):(this.walkingFrameIncr=this.walkingFrameIncr/Math.abs(this.walkingFrameIncr),this.walkingFrameIncr*=4),this.gameState.isPlayerMoving()?(this.walkingFrameCount<=60&&this.walkingFrameCount>=0||(this.walkingFrameIncr*=-1),this.walkingFrameCount+=this.walkingFrameIncr):this.walkingFrameCount=0}drawRay2D(){let t=this.areaState.getCanvas2D().getContext("2d");this.gameState.getCenterDir().getDirRad()==this.uVecDir.getDirRad()?t.strokeStyle="#FF0000":t.strokeStyle="black",t.beginPath(),t.moveTo(this.gameState.getCenterX(),this.gameState.getCenterY()),this.bulletCollisionArray.length>0?(t.strokeStyle="blue",t.lineTo(this.bulletCollisionArray[0].collisionX,this.bulletCollisionArray[0].collisionY),t.stroke(),t.strokeStyle="green",t.lineTo(this.endX,this.endY),t.stroke()):(t.strokeStyle="black",t.lineTo(this.endX,this.endY),t.stroke())}adjustColor(t,e){t.r=Math.max(t.r+e.r,0),t.g=Math.max(t.g+e.g,0),t.b=Math.max(t.b+e.b,0)}drawRay3D(t,e){let i=this.areaState.getCanvas3D().getContext("2d"),s=this.areaState.geCanvast3DHeight(),a=1/(this.length/12)*-300,l=this.walkingFrameCount/10,r=s/2-s/(this.length/12)+(this.gameState.isPlayerCrouching()?a:0)+l,o=s-r+2*l+(this.gameState.isPlayerCrouching()?2*a:0),n=o-r;i.fillStyle="black",i.fillRect(e*t,0,t,r),i.fillStyle="white",i.fillRect(e*t,this.randY,1,1);let c={r:175,g:175,b:175};if(this.adjustColor(c,{r:-this.length/3.5,g:-this.length/3.5,b:-this.length/3.5}),i.fillStyle=`rgb(${c.r}, ${c.g}, ${c.b})`,Math.abs(this.gameState.getCenterDir().getDirRad()-this.uVecDir.getDirRad())<=.0075)i.fillStyle="#FF0000";else if(this.edgeRay){let t={r:125,g:125,b:125};this.adjustColor(t,{r:-this.length/3.5,g:-this.length/3.5,b:-this.length/3.5}),i.fillStyle=`rgb(${t.r}, ${t.g}, ${t.b})`}i.fillRect(e*t,r,t,n),i.fillStyle=this.grd,i.fillRect(e*t,o,t,s-o);let g=s/2-s/(this.length/12)+l,u=s-g+2*l,y=this.bulletCollisionArray.concat(this.enemyNpcCollisionArray);y.sort(((t,e)=>t.length<e.length?1:t.length>e.length?-1:0)),y.forEach((a=>{let l=(u-g)/2+g,r=null!=a.length?a.length:10,o=1/(r/12)*-300,n=-1,c=1,y={r:0,g:0,b:0};if(a.objectHit instanceof h){let t=a.objectHit.getCrouchedBullet();this.gameState.isPlayerCrouching()?t||(l+=o):t&&(l+=-1*o),n=s/r}else a.objectHit instanceof m&&(this.gameState.isPlayerCrouching()&&(l+=o),n=s/(r/12),c=8);let p=l-n/c,d=l+n;if(a.objectHit instanceof h)y={r:224,g:86,b:0},this.adjustColor(y,{r:-r/2,g:-r/2*.4,b:0}),i.fillStyle="white",i.fillRect(e*t,p-.5,t,d-p+1);else if(a.objectHit instanceof m){let s=l-n/(c/2);y={r:255,g:98,b:0},this.adjustColor(y,{r:-r/2,g:-r/2*.4,b:0}),i.fillStyle=`rgb(${y.r}, ${y.g}, ${y.b})`,i.fillRect(e*t,s,t,d-s),i.fillStyle="black",i.fillRect(e*t,p,t,d-p+.5),y={r:0,g:219,b:22},this.adjustColor(y,{r:0,g:-r/2,b:-r/2*.1})}i.fillStyle=`rgb(${y.r}, ${y.g}, ${y.b})`,i.fillRect(e*t,p,t,d-p)}))}}let E=document.querySelector("#canvasLeft"),C=document.querySelector("#canvasRight"),k=new a("movementAudioElem"),w=new a("shootingAudioElem",1,!1,1),S=[[e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Wall,e.Wall,e.Empty,e.Empty,e.Empty,e.Wall,e.Wall,e.Wall,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Empty,e.Wall,e.Empty,e.Wall,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Empty,e.Wall,e.Empty,e.Wall,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Empty,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Wall,e.Empty,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall,e.Empty,e.Wall,e.Wall,e.Wall,e.Empty,e.Wall],[e.Wall,e.Empty,e.Wall,e.Wall,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall]];const f=new class{constructor(t,e,i){this.canvas3D=e,this.canvas2D=t,this.cellWidth=t.width/i[0].length,this.cellHeight=t.height/i.length,this.map=new s(this.cellWidth,this.cellHeight,i,t)}getCanvas2DHeight(){return this.canvas2D.height}geCanvast3DHeight(){return this.canvas3D.height}getCanvas2DWidth(){return this.canvas2D.width}getCanvas3DWidth(){return this.canvas3D.width}getCanvas2D(){return this.canvas2D}getCanvas3D(){return this.canvas3D}getCellWidth(){return this.cellWidth}getCellHeight(){return this.cellHeight}getMap(){return this.map}drawMap(){this.map.drawMap()}}(E,C,S),v=new class{constructor(t,e,i){this.util=new r,this.totNumEnemiesInWave=1,this.numEnemiesRemaining=1,this.areaState=t,this.enemyNpcs=[new m(300,350,new l(45),t)],this.player=new o(300,400,new l(270),t,e,i)}isPlayerMoving(){return this.player.isPlayerMoving()}isPlayerCrouching(){return this.player.isPlayerCrouching()}isPlayerRunning(){return this.player.isPlayerRunning()}getCenterX(){return this.player.getXMid()}getCenterY(){return this.player.getYMid()}getCenterDir(){return this.player.getUnitVec()}drawPlayer2D(){this.player.draw2D()}drawPlayerCrosshair(){this.player.drawCursor3D()}updateBullets(){this.player.getBullets().slice(0).forEach(((t,e)=>{t.moveBullet(),t.checkWallHit()&&this.player.removeBullets(e)}))}drawBullets2D(){this.player.getBullets().forEach((t=>t.draw2D()))}updateEnemyNpcs(){this.enemyNpcs.forEach((t=>{t.move(this.player.getXMid(),this.player.getYMid())}))}drawEnemyNpcs2D(){this.enemyNpcs.forEach((t=>t.draw2D()))}getAllBullets(){return this.player.getBullets().slice(0)}getAllEnemies(){return this.enemyNpcs.slice(0)}checkExternalCollisions(){this.enemyNpcs.forEach((t=>{this.util.dist({x:t.getX(),y:t.getY()},{x:this.player.getXMid(),y:this.player.getYMid()})<t.getDim()+0&&this.player.reset()}));let t=this.getAllBullets();for(let e=this.enemyNpcs.length-1;e>=0;e--){let i=this.enemyNpcs[e];for(let s=0;s<t.length;s++){let a=t[s];if(this.util.dist({x:i.getX(),y:i.getY()},{x:a.getX(),y:a.getY()})<i.getDim()+a.getDim()){this.enemyNpcs.splice(e,1),this.player.removeBullets(s),this.numEnemiesRemaining--;break}}}if(0===this.numEnemiesRemaining){this.totNumEnemiesInWave++,this.numEnemiesRemaining=this.totNumEnemiesInWave;for(let t=0;t<this.totNumEnemiesInWave;t++){let t=this.areaState.getMap().getRandomEmptyBlock(),e={col:t.col,row:t.row},i=this.util.getXYFromMapBlock(e,this.areaState.getCellWidth(),this.areaState.getCellHeight());this.enemyNpcs.push(new m(i.x,i.y,new l(360*Math.random()),this.areaState))}}}}(f,k,w),D=new class{constructor(t,e){this.rays=[],this.fov=90,this.distToProjection=350,this.util=new r,this.gameState=t,this.areaState=e}setupRays(){let t=this.gameState.getCenterDir();this.distToProjection=this.areaState.getCanvas3DWidth()/2/Math.tan(this.util.toRad(this.fov/2));let e=0;for(let i=0;i<this.areaState.getCanvas3DWidth();i+=1){let s=Math.atan((i-this.areaState.getCanvas3DWidth()/2)/this.distToProjection)+t.getDirRad(),a=new l(this.util.toDeg(s));if(this.rays[e])this.rays[e].performRayCalculations(a);else{let t=new d(this.gameState,this.areaState,a);t.performRayCalculations(a),this.rays.push(t)}e++}}draw2D(){this.rays.forEach((t=>t.drawRay2D()))}draw3D(){let t=this.areaState.getCanvas3DWidth()/this.rays.length;this.rays.forEach(((e,i)=>{e.drawRay3D(t,i)}))}}(v,f);function W(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}setInterval((function(){W(E),W(C),f.drawMap(),v.drawPlayer2D(),D.setupRays(),D.draw2D(),v.checkExternalCollisions(),v.updateBullets(),v.updateEnemyNpcs(),v.drawEnemyNpcs2D(),v.drawBullets2D(),D.draw3D(),v.drawPlayerCrosshair()}),1e3/60)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL0Jsb2NrLnRzIiwid2VicGFjazovL3JheS1jYXN0ZXIvLi9zcmMvTW9kZWwvRUJsb2NrVHlwZS50cyIsIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL1BsYXllci50cyIsIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL01hcC50cyIsIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL0F1ZGlvQ29udHJvbC50cyIsIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL1VuaXRWZWN0b3IudHMiLCJ3ZWJwYWNrOi8vcmF5LWNhc3Rlci8uL3NyYy9VdGlsLnRzIiwid2VicGFjazovL3JheS1jYXN0ZXIvLi9zcmMvQnVsbGV0LnRzIiwid2VicGFjazovL3JheS1jYXN0ZXIvLi9ub2RlX21vZHVsZXMvdHMtYmluLWhlYXAvZGlzdC90cy1iaW4taGVhcC5lczUuanMiLCJ3ZWJwYWNrOi8vcmF5LWNhc3Rlci8uL3NyYy9BU3RhclNlYXJjaC50cyIsIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL0VuZW15TnBjLnRzIiwid2VicGFjazovL3JheS1jYXN0ZXIvLi9zcmMvUmF5LnRzIiwid2VicGFjazovL3JheS1jYXN0ZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcmF5LWNhc3Rlci8uL3NyYy9BcmVhU3RhdGUudHMiLCJ3ZWJwYWNrOi8vcmF5LWNhc3Rlci8uL3NyYy9HYW1lU3RhdGUudHMiLCJ3ZWJwYWNrOi8vcmF5LWNhc3Rlci8uL3NyYy9SYXlzLnRzIl0sIm5hbWVzIjpbIkJsb2NrIiwiYmxvY2tUeXBlIiwicm93IiwiY29sIiwidGhpcyIsIkJsb2NrVHlwZSIsIktFWVMiLCJNYXAiLCJjZWxsV2lkdGgiLCJjZWxsSGVpZ2h0IiwibWFwVGVtcGxhdGUiLCJjYW52YXMiLCJibG9ja3MiLCJBcnJheSIsImZvckVhY2giLCJpUm93IiwiciIsImJUeXBlIiwiaUNvbCIsInB1c2giLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImJsb2NrIiwiV2FsbCIsImJlZ2luUGF0aCIsInN0cm9rZVN0eWxlIiwicmVjdCIsInN0cm9rZSIsImVtcHR5QmxvY2tzIiwiRW1wdHkiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJsZW5ndGgiLCJBdWRpb0NvbnRyb2wiLCJhdWRpb0VsZW1JZCIsInBsYXliYWNrUmF0ZSIsImxvb3AiLCJ2b2x1bWUiLCJ3YWxraW5nUGxheUJhY2tSYXRlIiwicnVubmluZ1BsYXlCYWNrUmF0ZSIsImNyb3VjaGluZ1BsYXlCYWNrUmF0ZSIsIndhbGtpbmdWb2x1bWUiLCJydW5uaW5nVm9sdW1lIiwiY3JvdWNoaW5nVm9sdW1lIiwicGxheUJhY2tSYXRlIiwiYXVkaW8iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidW5kZWZpbmVkIiwic2V0QXVkaW9EYXRhIiwicGxheSIsInBhdXNlIiwiY3VycmVudFRpbWUiLCJVbml0VmVjdG9yIiwiZGlyIiwieCIsImNvcyIsInRvUmFkIiwieSIsInNpbiIsImNoYW5nZSIsIm5ld0RpciIsImRlZyIsIlBJIiwiVXRpbCIsIm0iLCJBQiIsInZlY3RvciIsIkEiLCJCIiwiQU0iLCJCQyIsIkMiLCJCTSIsImRvdEFCQU0iLCJkb3QiLCJkb3RBQkFCIiwiZG90QkNCTSIsImRvdEJDQkMiLCJwMSIsInAyIiwicmFkIiwidSIsInYiLCJjZWlsIiwicG9zaXRpb24iLCJtYXAiLCJnZXRCbG9ja3MiLCJnZXRNYXBCbG9ja0Zyb21Db29yZCIsImdldEJsb2NrVHlwZSIsInBvaW50MSIsInBvaW50MiIsInNxcnQiLCJwb3ciLCJCdWxsZXQiLCJzdGFydFgiLCJzdGFydFkiLCJ1VmVjRGlyIiwiY3JvdWNoZWRCdWxsZXQiLCJhcmVhU3RhdGUiLCJ2ZWxvY2l0eSIsImRpbSIsInV0aWwiLCJ4UG9zIiwieVBvcyIsImdldFgiLCJnZXRZIiwidGVtcFVWZWMiLCJnZXREaXJEZWciLCJpIiwiaW5NYXBCbG9jayIsImdldE1hcCIsImdldENlbGxXaWR0aCIsImdldENlbGxIZWlnaHQiLCJ1cGRhdGVEaXIiLCJjdHgiLCJnZXRDYW52YXMyRCIsImZpbGxTdHlsZSIsIm1vdmVUbyIsImFyYyIsImZpbGwiLCJQbGF5ZXIiLCJzdGFydGluZ0RpclVWZWMiLCJtb3ZlbWVudEF1ZGlvQ29udHJvbCIsInNob290aW5nQXVkaW9Db250cm9sIiwic3RhbmRpbmdWZWwiLCJjcm91Y2hpbmdWZWwiLCJydW5uaW5nVmVsIiwic3RhbmRpbmdBbmd1bGFyVmVsIiwiY3JvdWNoaW5nQW5ndWxhclZlbCIsInBsYXllckNpcmNsZVJhZGl1cyIsImtleXNTdGF0ZSIsImJ1bGxldHMiLCJkaXJVVmVjIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFuZyIsImF0YW4iLCJjdXJNb3VzZVBvc1giLCJjYW52YXMzRCIsIndpZHRoIiwiZ2V0RGlyUmFkIiwidVZlYyIsInRvRGVnIiwiZ2V0WE1pZCIsImdldFlNaWQiLCJpc1BsYXllckNyb3VjaGluZyIsInN0b3AiLCJlIiwia2V5IiwiUlVOIiwiQ1JPVUNIIiwic2V0QXVkaW9XYWxraW5nIiwiVVAiLCJET1dOIiwiY2xlYXJJbnRlcnZhbCIsIkxFRlRfUk9UQVRJT04iLCJSSUdIVF9ST1RBVElPTiIsImdldENhbnZhczNEIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsImxlZnQiLCJzZXRBdWRpb1J1bm5pbmciLCJzZXRBdWRpb0Nyb3VjaGluZyIsInNldEludGVydmFsIiwibW92ZUZvcndhcmQiLCJtb3ZlQmFja3dhcmQiLCJyb3RhdGUiLCJpbmRleCIsInNwbGljZSIsInZlbCIsImNoYW5nZVgiLCJjaGFuZ2VZIiwic2V0RGlyIiwibWlkWSIsImdlQ2FudmFzdDNESGVpZ2h0IiwiY3Jvc3NIYWlyQ2VudGVyIiwic2hvcnRTaWRlIiwiZmlsbFJlY3QiLCJsb25nU2lkZSIsInNldFRyYW5zZm9ybSIsImNvbXBhcmVyQnVpbGRlciIsIkNvbXBhcmVyQnVpbGRlciIsImNvbXBhcmVycyIsImNyZWF0ZSIsInByb3RvdHlwZSIsInRoZW5LZXkiLCJzZWxlY3RvciIsInNvcnRLZXkiLCJ0aGVuS2V5RGVzY2VuZGluZyIsInNvcnRLZXlEZXNjZW5kaW5nIiwiYyIsImNyZWF0ZUNvbXBhcmVyIiwiYSIsImIiLCJuZXdDb21wYXJlcnMiLCJzbGljZSIsImNvbXBhcmVyIiwiY21wQSIsImNtcEIiLCJidWlsZCIsIl90aGlzIiwiX2kiLCJfYSIsImNvbXBhcmlzb24iLCJfX3ZhbHVlcyIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNhbGwiLCJuZXh0IiwidmFsdWUiLCJkb25lIiwic3dhcEFycmF5SW5kZXhlcyIsInNyYyIsImlkeDEiLCJpZHgyIiwiY3JlYXRlVW5zdGFibGVCaW5hcnlIZWFwIiwiaGVhcEFycmF5Iiwic3dhcEl0ZW1TZWxlY3RvciIsIml0ZW1zIiwiZV8xIiwiY3VycmVudE1heCIsInNyY18xIiwic3JjXzFfMSIsIml0ZW0iLCJlXzFfMSIsImVycm9yIiwicmV0dXJuIiwibWF4QnkiLCJfYiIsImhlYXAiLCJjdXJyZW50SW5kZXgiLCJwYXJlbnRJdGVtSW5kZXgiLCJwdXNoUmFuZ2UiLCJpdGVtc18xIiwiaXRlbXNfMV8xIiwicG9wIiwicmV0dXJuVmFsdWUiLCJjdXJyZW50SXRlbSIsImxlZnRDaGlsZEluZGV4IiwiY2hpbGRJZHgiLCJzd2FwSXRlbSIsImNyZWF0ZVN0YWJsZUJpbmFyeUhlYXAiLCJ1bnN0YWJsZUhlYXAiLCJpdGVtMSIsIml0ZW0yIiwib3JkZXIiLCJjb3VudCIsInN0YWJsZUhlYXAiLCJBU3RhclNlYXJjaCIsInBhdGgiLCJub2RlcyIsImNlbGxTdHJhaWdodERpc3QiLCJub2RlUm93IiwiaF9zY29yZSIsImdfc2NvcmUiLCJpZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmX3Njb3JlIiwiY3VyTm9kZSIsImVuZE5vZGUiLCJuZWlnaEJvdXJzIiwiZW5kTm9kZVBvaW50IiwiZ2V0WFlGcm9tUm93Q29sIiwibm9kZSIsImN1ck5vZGVQb2ludCIsIm5laWdoQm91ciIsImRfdmFsIiwiY3VycmVudCIsInVuc2hpZnQiLCJwYXJlbnRfTm9kZSIsImNvbnNvbGUiLCJsb2ciLCJzdGFydFJvdyIsInN0YXJ0Q29sIiwiZW5kUm93IiwiZW5kQ29sIiwic3RhcnROb2RlIiwib3BlblNldCIsInJhbmtTZWxlY3RvciIsInR5cGUiLCJzdGFibGUiLCJidWlsZGVyIiwiY3JlYXRlQmluYXJ5SGVhcCIsIm5vZGVzSW5PcGVuU2V0IiwicmVjb25zdHJ1Y3RQYXRoIiwiZ2V0Tm9kZU5laWdoYm91cnMiLCJuZWlnaGJvdXIiLCJ0ZW50YXRpdmVfZ1Njb3JlIiwiRW5lbXlOcGMiLCJpbml0aWFsWCIsImluaXRpYWxZIiwiaW5pdGlhbERpciIsInNlYXJjaGVyIiwiZW5lbXlUb1BsYXllclZlY3RvciIsImVuZW15VG9QbGF5ZXJWZWN0b3JNYWciLCJkb3RQcm9kUm91bmRlZFRvTmVhcmVzdFRob3VzYW5kIiwiTnVtYmVyIiwiRVBTSUxPTiIsIm1hZ1Byb2RSb3VuZGVkVG9OZWFyZXN0VGhvdXNhbmQiLCJhY29zIiwicGxheWVyWCIsInBsYXllclkiLCJwbGF5ZXJDZWxsIiwiZW5lbXlDZWxsIiwiYW5nbGUiLCJnZXRBbmdsZVRvUG9pbnQiLCJyZXNldFNlYXJjaGVyIiwiY2FsY3VsYXRlUGF0aCIsInBhdGhTZWNvbmRDZWxsWFkiLCJnZXRYWUZyb21NYXBCbG9jayIsImNoZWNrT2JqZWN0SGl0IiwiUmF5IiwiZ2FtZVN0YXRlIiwid2Fsa2luZ0ZyYW1lQ291bnQiLCJ3YWxraW5nRnJhbWVJbmNyIiwicmFuZFkiLCJjb2xvciIsImciLCJncmQiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsIm51bUluY3JzIiwic3RvcENvbG9yU3RlcCIsImFkZENvbG9yU3RvcCIsImFkanVzdENvbG9yIiwiYmxvY2tYIiwiZ2V0Q29sIiwiYmxvY2tZIiwiZ2V0Um93IiwiRCIsImJsb2NrSGl0IiwiZWRnZUNvb3JkcyIsImdldEVkZ2VDb3JkcyIsImVkZ2VSYXkiLCJzdGFydFRvRWRnZVZlYyIsInN0YXJ0VG9FZGdlVmVjTWFnIiwiYW5nbGVCZXR3ZWVuUmF5QW5kU3RhcnRUb0VkZ2VWZWMiLCJkaXN0QmV0d2VlblJheUVuZEFuZFN0YXJ0VG9FZGdlVmVjRW5kIiwiT2JqZWN0Iiwia2V5cyIsImdldENlbnRlclgiLCJnZXRDZW50ZXJZIiwiZW5kWCIsImVuZFkiLCJjdXJYIiwiY3VyWSIsImJ1bGxldENvbGxpc2lvbkFycmF5IiwiZW5lbXlOcGNDb2xsaXNpb25BcnJheSIsImdldEFsbEJ1bGxldHMiLCJlbmVteU5wY3MiLCJnZXRBbGxFbmVtaWVzIiwiYnVsbGV0IiwiZ2V0RGltIiwiY29sbGlzaW9uWCIsImNvbGxpc2lvblkiLCJvYmplY3RIaXQiLCJlbmVteU5wYyIsImN1ckJsb2NrIiwiY2hlY2tFZGdlUmF5IiwiZ2V0Q2VudGVyRGlyIiwibmV3VVZlY0RpciIsImNhbGN1bGF0ZUNvbGxpc2lvbnNBbmRJZkVkZ2UiLCJnZXRBZGp1c3RlZExlbmd0aCIsImNvbGwiLCJhYnMiLCJpc1BsYXllclJ1bm5pbmciLCJpc1BsYXllck1vdmluZyIsImxpbmVUbyIsInN0YXJ0Q29sb3IiLCJjb2xvckNoYW5nZSIsIm1heCIsInNsaWNlV2lkdGgiLCJzbGljZUNvbCIsImNhbnZhczNESGVpZ2h0IiwiY3JvdWNoaW5nRmFjdG9yIiwid2Fsa2luZ0ZhY3RvciIsImNlaWxpbmciLCJmbG9vciIsImRpc3RGcm9tQ2VpbFRvRmxvb3IiLCJmbHIiLCJjb2xsaXNpb25PYmplY3RzIiwiY29uY2F0Iiwic29ydCIsIm1pZCIsImxlbmd0aFRvQ29sbGlkZWRPYmoiLCJjcm91Y2hlZE9ialNoaWZ0Iiwic2hpZnRGcm9tTWlkIiwic2hpZnRGcm9tTWlkQ2VpbGluZ0ZhY3RvciIsImdldENyb3VjaGVkQnVsbGV0IiwiY29sbGlkZWRPYmpDZWlsIiwiY29sbGlkZWRPYmpGbG9vciIsImhlYWRDZWlsaW5nIiwiY2FudmFzMkQiLCJxdWVyeVNlbGVjdG9yIiwiQVN0YXRlIiwiaGVpZ2h0IiwiZHJhd01hcCIsIkdTdGF0ZSIsInRvdE51bUVuZW1pZXNJbldhdmUiLCJudW1FbmVtaWVzUmVtYWluaW5nIiwicGxheWVyIiwiZ2V0VW5pdFZlYyIsImRyYXcyRCIsImRyYXdDdXJzb3IzRCIsImdldEJ1bGxldHMiLCJtb3ZlQnVsbGV0IiwiY2hlY2tXYWxsSGl0IiwicmVtb3ZlQnVsbGV0cyIsImVuZW15IiwibW92ZSIsImRpc3QiLCJyZXNldCIsImoiLCJyYW5kb21CbG9jayIsImdldFJhbmRvbUVtcHR5QmxvY2siLCJyYW5kb21Qb3NpdGlvbiIsInJhbmRvbVBvc1hZIiwicmF5cyIsImZvdiIsImRpc3RUb1Byb2plY3Rpb24iLCJjZW50ZXJVVmVjIiwiZ2V0Q2FudmFzM0RXaWR0aCIsInRhbiIsImNvdW50ZXIiLCJwZXJmb3JtUmF5Q2FsY3VsYXRpb25zIiwibmV3UmF5IiwicmF5IiwiZHJhd1JheTJEIiwicmF5U2xpY2VXaWR0aCIsImRyYXdSYXkzRCIsImNsZWFyQ2FudmFzIiwiY2xlYXJSZWN0IiwiZHJhd1BsYXllcjJEIiwic2V0dXBSYXlzIiwiY2hlY2tFeHRlcm5hbENvbGxpc2lvbnMiLCJ1cGRhdGVCdWxsZXRzIiwidXBkYXRlRW5lbXlOcGNzIiwiZHJhd0VuZW15TnBjczJEIiwiZHJhd0J1bGxldHMyRCIsImRyYXczRCIsImRyYXdQbGF5ZXJDcm9zc2hhaXIiXSwibWFwcGluZ3MiOiI7bUJBQU8sTUFBTUEsRUFDVCxZQUFZQyxFQUFXQyxFQUFLQyxHQUN4QkMsS0FBS0YsSUFBTUEsRUFDWEUsS0FBS0QsSUFBTUEsRUFDWEMsS0FBS0gsVUFBWUEsRUFFckIsZUFDSSxPQUFPRyxLQUFLSCxVQUVoQixTQUNJLE9BQU9HLEtBQUtGLElBRWhCLFNBQ0ksT0FBT0UsS0FBS0QsS0NiYixJQUFJRSxFQ0tQQyxHREpKLFNBQVdELEdBQ1BBLEVBQVVBLEVBQWlCLE1BQUksR0FBSyxRQUNwQ0EsRUFBVUEsRUFBZ0IsS0FBSSxHQUFLLE9BRnZDLENBR0dBLElBQWNBLEVBQVksS0VGdEIsTUFBTUUsRUFDVCxZQUFZQyxFQUFXQyxFQUFZQyxFQUFhQyxHQUM1Q1AsS0FBS1EsT0FBUyxJQUFJ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QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ3hQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ3hQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVa0IsS0FBTWxCLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVa0IsS0FBTWxCLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ2xQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ3hQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ3ZQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVVrQixLQUFNbEIsRUFBVWtCLE1BQ25QLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ3BQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ3JQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ3RQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVa0IsS0FBTWxCLEVBQVVrQixLQUFNbEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ3BQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLEtBQU1sQixFQUFVd0IsTUFBT3hCLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ3BQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVVrQixLQUFNbEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVWtCLE1BQ3JQLENBQUNsQixFQUFVa0IsS0FBTWxCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixNQUFPeEIsRUFBVXdCLE1BQU94QixFQUFVd0IsTUFBT3hCLEVBQVV3QixN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S0FBS2dhLEtBQUtuWSxPQUNsRTdCLEtBQUtnYSxLQUFLdFosU0FBUSxDQUFDK1osRUFBSy9ULEtBQ3BCK1QsRUFBSUcsVUFBVUQsRUFBZWpVLFFIWm5Ca1MsRUFBUUgsR0FLOUIsU0FBU29DLEVBQVl0YSxHQUNQQSxFQUFPVSxXQUFXLE1BQ3hCNlosVUFBVSxFQUFHLEVBQUd2YSxFQUFPa0ksTUFBT2xJLEVBQU9tWSxRQWlCN0N6TyxhQWZBLFdBQ0k0USxFQUFZdEMsR0FDWnNDLEVBQVlyUyxHQUNaaVEsRUFBT0UsVUFDUEMsRUFBT21DLGVBQ1BmLEVBQUtnQixZQUNMaEIsRUFBS2YsU0FDTEwsRUFBT3FDLDBCQUNQckMsRUFBT3NDLGdCQUNQdEMsRUFBT3VDLGtCQUNQdkMsRUFBT3dDLGtCQUNQeEMsRUFBT3lDLGdCQUNQckIsRUFBS3NCLFNBQ0wxQyxFQUFPMkMsd0JBRU8sSUFBTyxLIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBCbG9jayB7XHJcbiAgICBjb25zdHJ1Y3RvcihibG9ja1R5cGUsIHJvdywgY29sKSB7XHJcbiAgICAgICAgdGhpcy5yb3cgPSByb3c7XHJcbiAgICAgICAgdGhpcy5jb2wgPSBjb2w7XHJcbiAgICAgICAgdGhpcy5ibG9ja1R5cGUgPSBibG9ja1R5cGU7XHJcbiAgICB9XHJcbiAgICBnZXRCbG9ja1R5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tUeXBlO1xyXG4gICAgfVxyXG4gICAgZ2V0Um93KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvdztcclxuICAgIH1cclxuICAgIGdldENvbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2w7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IHZhciBCbG9ja1R5cGU7XHJcbihmdW5jdGlvbiAoQmxvY2tUeXBlKSB7XHJcbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiRW1wdHlcIl0gPSAwXSA9IFwiRW1wdHlcIjtcclxuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJXYWxsXCJdID0gMV0gPSBcIldhbGxcIjtcclxufSkoQmxvY2tUeXBlIHx8IChCbG9ja1R5cGUgPSB7fSkpO1xyXG4iLCJpbXBvcnQgeyBVbml0VmVjdG9yIH0gZnJvbSAnLi9Vbml0VmVjdG9yJztcclxuaW1wb3J0IHsgQnVsbGV0IH0gZnJvbSAnLi9CdWxsZXQnO1xyXG5pbXBvcnQgeyBVdGlsIH0gZnJvbSAnLi9VdGlsJztcclxuLy9ub3QgdXNpbmcgV0FTRCBiZWNhdXNlIGl0IHdhcyBjYXVzaW5nIHByb2JsZW1zXHJcbi8vc3BlY2lmaWNhbGx5IHdoZW4gY3JvdWNoaW5nICsgbW92aW5nIGZvcndhcmQvYmFja3dhcmQgYW5kIHRoZW4gdHJ5aW5nIHRvIHJvdGF0YWUgcmlnaHQgKHdvdWxkbnQgcm90YXRlIGJ1dCBmb3Igc29tZSByZWFzb24gcm90YXRlIGxlZnQgd29ya2VkKVxyXG52YXIgS0VZUztcclxuKGZ1bmN0aW9uIChLRVlTKSB7XHJcbiAgICBLRVlTW1wiVVBcIl0gPSBcIndcIjtcclxuICAgIEtFWVNbXCJMRUZUX1JPVEFUSU9OXCJdID0gXCJhXCI7XHJcbiAgICBLRVlTW1wiRE9XTlwiXSA9IFwic1wiO1xyXG4gICAgS0VZU1tcIlJJR0hUX1JPVEFUSU9OXCJdID0gXCJkXCI7XHJcbiAgICBLRVlTW1wiQ1JPVUNIXCJdID0gXCJjXCI7XHJcbiAgICBLRVlTW1wiUlVOXCJdID0gXCIgXCI7XHJcbn0pKEtFWVMgfHwgKEtFWVMgPSB7fSkpO1xyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHhQb3MsIHlQb3MsIHN0YXJ0aW5nRGlyVVZlYywgYXJlYVN0YXRlLCBtb3ZlbWVudEF1ZGlvQ29udHJvbCwgc2hvb3RpbmdBdWRpb0NvbnRyb2wpIHtcclxuICAgICAgICB0aGlzLnN0YW5kaW5nVmVsID0gMS41O1xyXG4gICAgICAgIHRoaXMuY3JvdWNoaW5nVmVsID0gMC43NTtcclxuICAgICAgICB0aGlzLnJ1bm5pbmdWZWwgPSAzO1xyXG4gICAgICAgIHRoaXMuc3RhbmRpbmdBbmd1bGFyVmVsID0gOTtcclxuICAgICAgICB0aGlzLmNyb3VjaGluZ0FuZ3VsYXJWZWwgPSAxLjU7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDaXJjbGVSYWRpdXMgPSAyO1xyXG4gICAgICAgIHRoaXMua2V5c1N0YXRlID0ge307XHJcbiAgICAgICAgdGhpcy5idWxsZXRzID0gW107XHJcbiAgICAgICAgdGhpcy51dGlsID0gbmV3IFV0aWwoKTtcclxuICAgICAgICB0aGlzLnhQb3MgPSB4UG9zO1xyXG4gICAgICAgIHRoaXMueVBvcyA9IHlQb3M7XHJcbiAgICAgICAgdGhpcy5kaXJVVmVjID0gc3RhcnRpbmdEaXJVVmVjO1xyXG4gICAgICAgIHRoaXMubW92ZW1lbnRBdWRpb0NvbnRyb2wgPSBtb3ZlbWVudEF1ZGlvQ29udHJvbDtcclxuICAgICAgICB0aGlzLnNob290aW5nQXVkaW9Db250cm9sID0gc2hvb3RpbmdBdWRpb0NvbnRyb2w7XHJcbiAgICAgICAgdGhpcy5hcmVhU3RhdGUgPSBhcmVhU3RhdGU7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYW5nID0gTWF0aC5hdGFuKCh0aGlzLmN1ck1vdXNlUG9zWCAtIHRoaXMuYXJlYVN0YXRlLmNhbnZhczNELndpZHRoIC8gMikgLyAzNTApICsgdGhpcy5kaXJVVmVjLmdldERpclJhZCgpO1xyXG4gICAgICAgICAgICBsZXQgdVZlYyA9IG5ldyBVbml0VmVjdG9yKHRoaXMudXRpbC50b0RlZyhhbmcpKTtcclxuICAgICAgICAgICAgdGhpcy5idWxsZXRzLnB1c2gobmV3IEJ1bGxldCh0aGlzLmdldFhNaWQoKSwgdGhpcy5nZXRZTWlkKCksIHVWZWMsIHRoaXMuaXNQbGF5ZXJDcm91Y2hpbmcoKSwgdGhpcy5hcmVhU3RhdGUpKTtcclxuICAgICAgICAgICAgdGhpcy5zaG9vdGluZ0F1ZGlvQ29udHJvbC5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvb3RpbmdBdWRpb0NvbnRyb2wucGxheSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5SVU46XHJcbiAgICAgICAgICAgICAgICAgICAgLy9yZWxlYXNlIHRoZSBydW4ga2V5IG9ubHkgZG9lcyBhbnl0aGluZyB3aGVuIHdlIGFyZSBjdXIgcnVubmluZyBidXQgbm90IGNyb3VjaGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIC8vd2UgZG9udCB3YW50IHRvIGNoYW5nZSBhdWRpbyB0byB3YWxraW5nIHdoZW4gd2UgYXJlIGNyb3VjaGluZyttb3ZpbmcgYW5kIGp1c3QgcHJlc3MgYW5kIHJsZWFzZSB0aGUgcnVuIGtleVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5rZXlzU3RhdGVbS0VZUy5DUk9VQ0hdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBdWRpb0NvbnRyb2wuc2V0QXVkaW9XYWxraW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5c1N0YXRlW0tFWVMuUlVOXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5DUk9VQ0g6XHJcbiAgICAgICAgICAgICAgICAgICAgLy93ZSBkb250IHdhbnQgc29tZW9uZSB0byBwcmVzcyBhbmQgcmVsZWFzZSBjcm91Y2gga2V5IHdoaWxlIHJ1bm5pbmcgYW5kIGNoYW5nZSBhdWRpbyB0byB3YWxraW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtleXNTdGF0ZVtLRVlTLlJVTl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudEF1ZGlvQ29udHJvbC5zZXRBdWRpb1dhbGtpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlzU3RhdGVbS0VZUy5DUk9VQ0hdID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBLRVlTLlVQOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vZG9udCB3YW50IHNvbWVvbmUgdG8gcHJlc3MgYW5kIHJlbGVhc2UgdXAgd2hpbGUgbW92aW5nIGJhY2sgYW5kIHN0b3AgYXVkaW9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMua2V5c1N0YXRlW0tFWVMuRE9XTl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudEF1ZGlvQ29udHJvbC5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5rZXlzU3RhdGVbS0VZUy5VUF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXNTdGF0ZVtLRVlTLlVQXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBLRVlTLkRPV046XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kb250IHdhbnQgc29tZW9uZSB0byBwcmVzcyBhbmQgcmVsZWFzZSBkb3duIHdoaWxlIG1vdmluZyBmb3J3YXJkIGFuZCBzdG9wIGF1ZGlvXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtleXNTdGF0ZVtLRVlTLlVQXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50QXVkaW9Db250cm9sLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmtleXNTdGF0ZVtLRVlTLkRPV05dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlzU3RhdGVbS0VZUy5ET1dOXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBLRVlTLkxFRlRfUk9UQVRJT046XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmtleXNTdGF0ZVtLRVlTLkxFRlRfUk9UQVRJT05dKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXNTdGF0ZVtLRVlTLkxFRlRfUk9UQVRJT05dID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5SSUdIVF9ST1RBVElPTjpcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMua2V5c1N0YXRlW0tFWVMuUklHSFRfUk9UQVRJT05dKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXNTdGF0ZVtLRVlTLlJJR0hUX1JPVEFUSU9OXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmFyZWFTdGF0ZS5nZXRDYW52YXMzRCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICBsZXQgeFBvcyA9IGUuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICAgICAgdGhpcy5jdXJNb3VzZVBvc1ggPSB4UG9zO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcclxuICAgICAgICAgICAgc3dpdGNoIChlLmtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBLRVlTLlJVTjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMua2V5c1N0YXRlW0tFWVMuQ1JPVUNIXSkgeyAvL2NhbnQgcnVuIHdoZW4gY3JvdWNoaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBdWRpb0NvbnRyb2wuc2V0QXVkaW9SdW5uaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5c1N0YXRlW0tFWVMuUlVOXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBLRVlTLkNST1VDSDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMua2V5c1N0YXRlW0tFWVMuUlVOXSkgeyAvL2NhbnQgZ2V0IGZyb20gcnVubmluZyB0byBjcm91Y2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudEF1ZGlvQ29udHJvbC5zZXRBdWRpb0Nyb3VjaGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXNTdGF0ZVtLRVlTLkNST1VDSF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5VUDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5rZXlzU3RhdGVbS0VZUy5ET1dOXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvL2NhbnQgZ28gZm9yd2FyZCBhbmQgYmFjayBhdCBzYW1lIHRpbWVcclxuICAgICAgICAgICAgICAgICAgICAvL3NvIGlmIHVyIGFscmVhZHkgY3JvdWNoaW5nIGFuZCB0aGVuIHN0YXJ0IG1vdmluZywgYXVkaW8gd29udCBvdmVyd3JpdGUgdG8gd2Fsa2luZyBzdGFuZGluIGF1ZGlvXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zaW1pbGFyIGlkZWEgZm9yIHJ1blxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5rZXlzU3RhdGVbS0VZUy5DUk9VQ0hdICYmICF0aGlzLmtleXNTdGF0ZVtLRVlTLlJVTl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudEF1ZGlvQ29udHJvbC5zZXRBdWRpb1dhbGtpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudEF1ZGlvQ29udHJvbC5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtleXNTdGF0ZVtLRVlTLlVQXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXNTdGF0ZVtLRVlTLlVQXSA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZUZvcndhcmQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5ET1dOOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmtleXNTdGF0ZVtLRVlTLlVQXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvL2NhbnQgZ28gZm9yd2FyZCBhbmQgYmFjayBhdCBzYW1lIHRpbWVcclxuICAgICAgICAgICAgICAgICAgICAvL3NvIGlmIHVyIGFscmVhZHkgY3JvdWNoaW5nIGFuZCB0aGVuIHN0YXJ0IG1vdmluZywgYXVkaW8gd29udCBvdmVyd3JpdGUgdG8gd2Fsa2luZyBzdGFuZGluIGF1ZGlvXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zaW1pbGFyIGlkZWEgZm9yIHJ1blxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5rZXlzU3RhdGVbS0VZUy5DUk9VQ0hdICYmICF0aGlzLmtleXNTdGF0ZVtLRVlTLlJVTl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudEF1ZGlvQ29udHJvbC5zZXRBdWRpb1dhbGtpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudEF1ZGlvQ29udHJvbC5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtleXNTdGF0ZVtLRVlTLkRPV05dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5c1N0YXRlW0tFWVMuRE9XTl0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVCYWNrd2FyZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBLRVlTLkxFRlRfUk9UQVRJT046XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtleXNTdGF0ZVtLRVlTLkxFRlRfUk9UQVRJT05dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5c1N0YXRlW0tFWVMuTEVGVF9ST1RBVElPTl0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZSgnTEVGVCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBLRVlTLlJJR0hUX1JPVEFUSU9OOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5rZXlzU3RhdGVbS0VZUy5SSUdIVF9ST1RBVElPTl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlzU3RhdGVbS0VZUy5SSUdIVF9ST1RBVElPTl0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZSgnUklHSFQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaXNQbGF5ZXJNb3ZpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c1N0YXRlW0tFWVMuVVBdIHx8IHRoaXMua2V5c1N0YXRlW0tFWVMuRE9XTl07XHJcbiAgICB9XHJcbiAgICBpc1BsYXllckNyb3VjaGluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlzU3RhdGVbS0VZUy5DUk9VQ0hdO1xyXG4gICAgfVxyXG4gICAgaXNQbGF5ZXJSdW5uaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtleXNTdGF0ZVtLRVlTLlJVTl07XHJcbiAgICB9XHJcbiAgICBnZXRCdWxsZXRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1bGxldHM7XHJcbiAgICB9XHJcbiAgICBzZXRCdWxsZXRzKGJ1bGxldHMpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldHMgPSBidWxsZXRzO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlQnVsbGV0cyhpbmRleCkge1xyXG4gICAgICAgIHRoaXMuYnVsbGV0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gICAgLy8gcm90YXRlT25Nb3VzZVBvcyhjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBkaXJGb3J3YXJkOiBib29sZWFuKTp2b2lkIHtcclxuICAgIC8vICAgICBsZXQgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIC8vICAgICBsZXQgeFBvczogbnVtYmVyID0gdGhpcy5jdXJNb3VzZVBvc1ggLSByZWN0LmxlZnQ7XHJcbiAgICAvLyAgICAgaWYgKHhQb3MgPCBjYW52YXMud2lkdGgvMykge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmRpclVWZWMudXBkYXRlRGlyKGRpckZvcndhcmQgPyAtdGhpcy5hbmd1bGFyVmVsb2NpdHkgOiB0aGlzLmFuZ3VsYXJWZWxvY2l0eSk7XHJcbiAgICAvLyAgICAgfSBlbHNlIGlmICh4UG9zID4gMipjYW52YXMud2lkdGgvMykge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmRpclVWZWMudXBkYXRlRGlyKGRpckZvcndhcmQgPyB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA6IC10aGlzLmFuZ3VsYXJWZWxvY2l0eSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG4gICAgcm90YXRlKGRpcikge1xyXG4gICAgICAgIGxldCB2ZWwgPSB0aGlzLmtleXNTdGF0ZVtLRVlTLkNST1VDSF0gPyB0aGlzLmNyb3VjaGluZ0FuZ3VsYXJWZWwgOiB0aGlzLnN0YW5kaW5nQW5ndWxhclZlbDtcclxuICAgICAgICBpZiAoZGlyID09PSAnTEVGVCcpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXJVVmVjLnVwZGF0ZURpcigtdmVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZGlyID09PSAnUklHSFQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlyVVZlYy51cGRhdGVEaXIodmVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2Nyb3VjaGluZyB0YWtlcyBwcmlvIG92ZXIgcnVubmluZ1xyXG4gICAgbW92ZUZvcndhcmQoKSB7XHJcbiAgICAgICAgbGV0IHZlbCA9IHRoaXMua2V5c1N0YXRlW0tFWVMuQ1JPVUNIXSA/IHRoaXMuY3JvdWNoaW5nVmVsIDogKHRoaXMua2V5c1N0YXRlW0tFWVMuUlVOXSA/IHRoaXMucnVubmluZ1ZlbCA6IHRoaXMuc3RhbmRpbmdWZWwpO1xyXG4gICAgICAgIGxldCBjaGFuZ2VYID0gdmVsICogdGhpcy5kaXJVVmVjLmdldFgoKTtcclxuICAgICAgICBsZXQgY2hhbmdlWSA9IHZlbCAqIHRoaXMuZGlyVVZlYy5nZXRZKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnV0aWwuaW5NYXBCbG9jayh0aGlzLnhQb3MgKyBjaGFuZ2VYLCB0aGlzLnlQb3MgKyBjaGFuZ2VZLCB0aGlzLmFyZWFTdGF0ZS5nZXRNYXAoKSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSkpIHtcclxuICAgICAgICAgICAgdGhpcy55UG9zICs9IHZlbCAqIHRoaXMuZGlyVVZlYy5nZXRZKCk7XHJcbiAgICAgICAgICAgIHRoaXMueFBvcyArPSB2ZWwgKiB0aGlzLmRpclVWZWMuZ2V0WCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vY3JvdWNoaW5nIHRha2VzIHByaW8gb3ZlciBydW5uaW5nXHJcbiAgICBtb3ZlQmFja3dhcmQoKSB7XHJcbiAgICAgICAgbGV0IHZlbCA9IHRoaXMua2V5c1N0YXRlW0tFWVMuQ1JPVUNIXSA/IHRoaXMuY3JvdWNoaW5nVmVsIDogKHRoaXMua2V5c1N0YXRlW0tFWVMuUlVOXSA/IHRoaXMucnVubmluZ1ZlbCA6IHRoaXMuc3RhbmRpbmdWZWwpO1xyXG4gICAgICAgIGxldCBjaGFuZ2VYID0gLXZlbCAqIHRoaXMuZGlyVVZlYy5nZXRYKCk7XHJcbiAgICAgICAgbGV0IGNoYW5nZVkgPSAtdmVsICogdGhpcy5kaXJVVmVjLmdldFkoKTtcclxuICAgICAgICBpZiAoIXRoaXMudXRpbC5pbk1hcEJsb2NrKHRoaXMueFBvcyArIGNoYW5nZVgsIHRoaXMueVBvcyArIGNoYW5nZVksIHRoaXMuYXJlYVN0YXRlLmdldE1hcCgpLCB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsV2lkdGgoKSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbEhlaWdodCgpKSkge1xyXG4gICAgICAgICAgICB0aGlzLnlQb3MgLT0gdmVsICogdGhpcy5kaXJVVmVjLmdldFkoKTtcclxuICAgICAgICAgICAgdGhpcy54UG9zIC09IHZlbCAqIHRoaXMuZGlyVVZlYy5nZXRYKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy54UG9zID0gMzc1O1xyXG4gICAgICAgIHRoaXMueVBvcyA9IDQwMDtcclxuICAgICAgICB0aGlzLmRpclVWZWMuc2V0RGlyKDI3MCk7XHJcbiAgICB9XHJcbiAgICBkcmF3MkQoKSB7XHJcbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuYXJlYVN0YXRlLmdldENhbnZhczJEKCkuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAvLyBjdHgudHJhbnNsYXRlKHRoaXMueFBvcywgdGhpcy55UG9zKTtcclxuICAgICAgICAvLyBjdHgucm90YXRlKHJhZEFuZ2xlKTtcclxuICAgICAgICAvLyBjdHgudHJhbnNsYXRlKC10aGlzLnhQb3MsIC10aGlzLnlQb3MpO1xyXG4gICAgICAgIC8vY3R4LmZpbGxSZWN0KHRoaXMueFBvcywgdGhpcy55UG9zLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmModGhpcy54UG9zLCB0aGlzLnlQb3MsIHRoaXMucGxheWVyQ2lyY2xlUmFkaXVzLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnZ3JlZW4nO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcbiAgICBkcmF3Q3Vyc29yM0QoKSB7XHJcbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuYXJlYVN0YXRlLmdldENhbnZhczNEKCkuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBsZXQgbWlkWSA9IHRoaXMuYXJlYVN0YXRlLmdlQ2FudmFzdDNESGVpZ2h0KCkgLyAyO1xyXG4gICAgICAgIGxldCBzaG9ydFNpZGUgPSAyO1xyXG4gICAgICAgIGxldCBsb25nU2lkZSA9IDIwO1xyXG4gICAgICAgIGxldCBjcm9zc0hhaXJDZW50ZXIgPSB7IHg6IHRoaXMuY3VyTW91c2VQb3NYICsgc2hvcnRTaWRlIC8gMiwgeTogbWlkWSB9O1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMuY3VyTW91c2VQb3NYLCBtaWRZIC0gbG9uZ1NpZGUgLyAyLCBzaG9ydFNpZGUsIGxvbmdTaWRlKTtcclxuICAgICAgICBjdHguZmlsbFJlY3QoY3Jvc3NIYWlyQ2VudGVyLnggLSBsb25nU2lkZSAvIDIsIGNyb3NzSGFpckNlbnRlci55IC0gc2hvcnRTaWRlIC8gMiwgbG9uZ1NpZGUsIHNob3J0U2lkZSk7XHJcbiAgICAgICAgY3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcclxuICAgIH1cclxuICAgIGdldFVuaXRWZWMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyVVZlYztcclxuICAgIH1cclxuICAgIGdldFhNaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueFBvcztcclxuICAgIH1cclxuICAgIGdldFlNaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueVBvcztcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCbG9jayB9IGZyb20gJy4vQmxvY2snO1xyXG5pbXBvcnQgeyBCbG9ja1R5cGUgfSBmcm9tICcuL01vZGVsL0VCbG9ja1R5cGUnO1xyXG5leHBvcnQgY2xhc3MgTWFwIHtcclxuICAgIGNvbnN0cnVjdG9yKGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgbWFwVGVtcGxhdGUsIGNhbnZhcykge1xyXG4gICAgICAgIHRoaXMuYmxvY2tzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5jZWxsV2lkdGggPSBjZWxsV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jZWxsSGVpZ2h0ID0gY2VsbEhlaWdodDtcclxuICAgICAgICBpZiAobWFwVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgbWFwVGVtcGxhdGUuZm9yRWFjaCgocm93LCBpUm93KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgciA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgcm93LmZvckVhY2goKGJUeXBlLCBpQ29sKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgci5wdXNoKG5ldyBCbG9jayhiVHlwZSwgaVJvdywgaUNvbCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2Nrcy5wdXNoKHIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3TWFwKCkge1xyXG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB0aGlzLmJsb2Nrcy5mb3JFYWNoKChyb3csIGlSb3cpID0+IHtcclxuICAgICAgICAgICAgcm93LmZvckVhY2goKGJsb2NrLCBpQ29sKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2suYmxvY2tUeXBlID09PSBCbG9ja1R5cGUuV2FsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3QodGhpcy5jZWxsV2lkdGggKiBpQ29sLCB0aGlzLmNlbGxIZWlnaHQgKiBpUm93LCB0aGlzLmNlbGxXaWR0aCwgdGhpcy5jZWxsSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldEJsb2NrcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ibG9ja3M7XHJcbiAgICB9XHJcbiAgICBnZXRSYW5kb21FbXB0eUJsb2NrKCkge1xyXG4gICAgICAgIGxldCBlbXB0eUJsb2NrcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYmxvY2tzLmZvckVhY2gocm93ID0+IHtcclxuICAgICAgICAgICAgcm93LmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLmJsb2NrVHlwZSA9PT0gQmxvY2tUeXBlLkVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1wdHlCbG9ja3MucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBlbXB0eUJsb2Nrc1tNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiBlbXB0eUJsb2Nrcy5sZW5ndGgpXTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQXVkaW9Db250cm9sIHtcclxuICAgIGNvbnN0cnVjdG9yKGF1ZGlvRWxlbUlkLCBwbGF5YmFja1JhdGUsIGxvb3AsIHZvbHVtZSkge1xyXG4gICAgICAgIC8vZm9vdHN0ZXAgY29uZmlnIHZhcnMgcGxheSBiYWNrIHJhdGVcclxuICAgICAgICB0aGlzLndhbGtpbmdQbGF5QmFja1JhdGUgPSAxO1xyXG4gICAgICAgIHRoaXMucnVubmluZ1BsYXlCYWNrUmF0ZSA9IDI7XHJcbiAgICAgICAgdGhpcy5jcm91Y2hpbmdQbGF5QmFja1JhdGUgPSAwLjc7XHJcbiAgICAgICAgLy9mb290c3RlcCBjb25maWcgdmFycyB2b2x1bWVcclxuICAgICAgICB0aGlzLndhbGtpbmdWb2x1bWUgPSAwLjM7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nVm9sdW1lID0gMC40NTtcclxuICAgICAgICB0aGlzLmNyb3VjaGluZ1ZvbHVtZSA9IDAuMTU7XHJcbiAgICAgICAgdGhpcy5wbGF5QmFja1JhdGUgPSBwbGF5YmFja1JhdGUgPyBwbGF5YmFja1JhdGUgOiB0aGlzLndhbGtpbmdQbGF5QmFja1JhdGU7XHJcbiAgICAgICAgdGhpcy5hdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF1ZGlvRWxlbUlkKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmxvb3AgPSBsb29wICE9IHVuZGVmaW5lZCA/IGxvb3AgOiB0cnVlO1xyXG4gICAgICAgIHRoaXMudm9sdW1lID0gdm9sdW1lID8gdm9sdW1lIDogdGhpcy53YWxraW5nVm9sdW1lO1xyXG4gICAgfVxyXG4gICAgc2V0QXVkaW9EYXRhKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGxheWJhY2tSYXRlID0gdGhpcy5wbGF5QmFja1JhdGU7XHJcbiAgICAgICAgdGhpcy5hdWRpby52b2x1bWUgPSB0aGlzLnZvbHVtZTtcclxuICAgIH1cclxuICAgIHNldFBsYXlCYWNrUmF0ZShwbGF5YmFja1JhdGUpIHtcclxuICAgICAgICB0aGlzLnBsYXlCYWNrUmF0ZSA9IHBsYXliYWNrUmF0ZTtcclxuICAgICAgICB0aGlzLnNldEF1ZGlvRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgc2V0Vm9sdW1lKHZvbHVtZSkge1xyXG4gICAgICAgIHRoaXMudm9sdW1lID0gdm9sdW1lO1xyXG4gICAgICAgIHRoaXMuc2V0QXVkaW9EYXRhKCk7XHJcbiAgICB9XHJcbiAgICBwbGF5KCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGxheSgpO1xyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5hdWRpby5jdXJyZW50VGltZSA9IDA7XHJcbiAgICB9XHJcbiAgICAvLyBmb290c3RlcHMgbWV0aG9kXHJcbiAgICBzZXRBdWRpb1dhbGtpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5QmFja1JhdGUgPSB0aGlzLndhbGtpbmdQbGF5QmFja1JhdGU7XHJcbiAgICAgICAgdGhpcy52b2x1bWUgPSB0aGlzLndhbGtpbmdWb2x1bWU7XHJcbiAgICAgICAgdGhpcy5zZXRBdWRpb0RhdGEoKTtcclxuICAgIH1cclxuICAgIHNldEF1ZGlvQ3JvdWNoaW5nKCkge1xyXG4gICAgICAgIHRoaXMucGxheUJhY2tSYXRlID0gdGhpcy5jcm91Y2hpbmdQbGF5QmFja1JhdGU7XHJcbiAgICAgICAgdGhpcy52b2x1bWUgPSB0aGlzLmNyb3VjaGluZ1ZvbHVtZTtcclxuICAgICAgICB0aGlzLnNldEF1ZGlvRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgc2V0QXVkaW9SdW5uaW5nKCkge1xyXG4gICAgICAgIHRoaXMucGxheUJhY2tSYXRlID0gdGhpcy5ydW5uaW5nUGxheUJhY2tSYXRlO1xyXG4gICAgICAgIHRoaXMudm9sdW1lID0gdGhpcy5ydW5uaW5nVm9sdW1lO1xyXG4gICAgICAgIHRoaXMuc2V0QXVkaW9EYXRhKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFVuaXRWZWN0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoZGlyKSB7XHJcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XHJcbiAgICAgICAgdGhpcy54ID0gTWF0aC5jb3ModGhpcy50b1JhZChkaXIpKTtcclxuICAgICAgICB0aGlzLnkgPSBNYXRoLnNpbih0aGlzLnRvUmFkKGRpcikpO1xyXG4gICAgfVxyXG4gICAgLy9jaGFuZ2UgaXMgaW4gZGVnXHJcbiAgICB1cGRhdGVEaXIoY2hhbmdlKSB7XHJcbiAgICAgICAgdGhpcy5kaXIgKz0gY2hhbmdlO1xyXG4gICAgICAgIHRoaXMueCA9IE1hdGguY29zKHRoaXMudG9SYWQodGhpcy5kaXIpKTtcclxuICAgICAgICB0aGlzLnkgPSBNYXRoLnNpbih0aGlzLnRvUmFkKHRoaXMuZGlyKSk7XHJcbiAgICB9XHJcbiAgICAvL2NoYW5nZSBpcyBpbiBkZWdcclxuICAgIHNldERpcihuZXdEaXIpIHtcclxuICAgICAgICB0aGlzLmRpciA9IG5ld0RpcjtcclxuICAgICAgICB0aGlzLnggPSBNYXRoLmNvcyh0aGlzLnRvUmFkKHRoaXMuZGlyKSk7XHJcbiAgICAgICAgdGhpcy55ID0gTWF0aC5zaW4odGhpcy50b1JhZCh0aGlzLmRpcikpO1xyXG4gICAgfVxyXG4gICAgdG9SYWQoZGVnKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlZyAqIE1hdGguUEkgLyAxODA7XHJcbiAgICB9XHJcbiAgICBnZXREaXJEZWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyO1xyXG4gICAgfVxyXG4gICAgZ2V0RGlyUmFkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpciAqIE1hdGguUEkgLyAxODA7XHJcbiAgICB9XHJcbiAgICBnZXRYKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLng7XHJcbiAgICB9XHJcbiAgICBnZXRZKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQmxvY2tUeXBlIH0gZnJvbSBcIi4vTW9kZWwvRUJsb2NrVHlwZVwiO1xyXG5leHBvcnQgY2xhc3MgVXRpbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxyXG4gICAgLy9hbGdvIGZyb20gdGhlIGZvbGxvd2luIHJlc291cmNlczogXHJcbiAgICAvLyoqKnJlcXVpcmVzIGZvciBBIEIgYW5kIEMgdG8gZm9sbG93IG9uZSBhbm90aGVyIGkuZSBBIGlzIHRvcCBsZWZ0LCBCIGlzIHRvcCByaWdodCwgQyBpcyBib3R0b20gcmlnaHRcclxuICAgIC8vaHR0cHM6Ly9tYXRoLnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy8yMTU3OTMxL2hvdy10by1jaGVjay1pZi1hLXBvaW50LWlzLWluc2lkZS1hLXNxdWFyZS0yZC1wbGFuZVxyXG4gICAgLy9odHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNzUyNzI1L2ZpbmRpbmctd2hldGhlci1hLXBvaW50LWxpZXMtaW5zaWRlLWEtcmVjdGFuZ2xlLW9yLW5vdC8zNzg2NTMzMiMzNzg2NTMzMlxyXG4gICAgcG9pbnRJblJlY3RhbmdsZShtLCByKSB7XHJcbiAgICAgICAgdmFyIEFCID0gdGhpcy52ZWN0b3Ioci5BLCByLkIpO1xyXG4gICAgICAgIHZhciBBTSA9IHRoaXMudmVjdG9yKHIuQSwgbSk7XHJcbiAgICAgICAgdmFyIEJDID0gdGhpcy52ZWN0b3Ioci5CLCByLkMpO1xyXG4gICAgICAgIHZhciBCTSA9IHRoaXMudmVjdG9yKHIuQiwgbSk7XHJcbiAgICAgICAgdmFyIGRvdEFCQU0gPSB0aGlzLmRvdChBQiwgQU0pO1xyXG4gICAgICAgIHZhciBkb3RBQkFCID0gdGhpcy5kb3QoQUIsIEFCKTtcclxuICAgICAgICB2YXIgZG90QkNCTSA9IHRoaXMuZG90KEJDLCBCTSk7XHJcbiAgICAgICAgdmFyIGRvdEJDQkMgPSB0aGlzLmRvdChCQywgQkMpO1xyXG4gICAgICAgIHJldHVybiAwIDw9IGRvdEFCQU0gJiYgZG90QUJBTSA8PSBkb3RBQkFCICYmIDAgPD0gZG90QkNCTSAmJiBkb3RCQ0JNIDw9IGRvdEJDQkM7XHJcbiAgICB9XHJcbiAgICB2ZWN0b3IocDEsIHAyKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogKHAyLnggLSBwMS54KSxcclxuICAgICAgICAgICAgeTogKHAyLnkgLSBwMS55KVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICB0b1JhZChkZWcpIHtcclxuICAgICAgICByZXR1cm4gZGVnICogTWF0aC5QSSAvIDE4MDtcclxuICAgIH1cclxuICAgIHRvRGVnKHJhZCkge1xyXG4gICAgICAgIHJldHVybiByYWQgLyBNYXRoLlBJICogMTgwO1xyXG4gICAgfVxyXG4gICAgZG90KHUsIHYpIHtcclxuICAgICAgICByZXR1cm4gdS54ICogdi54ICsgdS55ICogdi55O1xyXG4gICAgfVxyXG4gICAgZ2V0TWFwQmxvY2tGcm9tQ29vcmQoeCwgeSwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KSB7XHJcbiAgICAgICAgbGV0IGN1clhCbG9ja0luZGV4ID0gTWF0aC5jZWlsKHggLyBjZWxsV2lkdGgpIC0gMTtcclxuICAgICAgICBsZXQgY3VyWUJsb2NrSW5kZXggPSBNYXRoLmNlaWwoeSAvIGNlbGxIZWlnaHQpIC0gMTtcclxuICAgICAgICByZXR1cm4geyBjb2w6IGN1clhCbG9ja0luZGV4LCByb3c6IGN1cllCbG9ja0luZGV4IH07XHJcbiAgICB9XHJcbiAgICBnZXRYWUZyb21NYXBCbG9jayhwb3NpdGlvbiwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KSB7XHJcbiAgICAgICAgLy90aGUgbGlsIC8yIHBhcnQgaXMgdG8gZ2V0IGNlbnRlciBvZiBjZWxsXHJcbiAgICAgICAgcmV0dXJuIHsgeDogcG9zaXRpb24uY29sICogY2VsbFdpZHRoICsgY2VsbFdpZHRoIC8gMiwgeTogcG9zaXRpb24ucm93ICogY2VsbEhlaWdodCArIGNlbGxIZWlnaHQgLyAyIH07XHJcbiAgICB9XHJcbiAgICBpbk1hcEJsb2NrKHgsIHksIG1hcCwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIG1hcC5nZXRCbG9ja3MoKVt0aGlzLmdldE1hcEJsb2NrRnJvbUNvb3JkKHgsIHksIGNlbGxXaWR0aCwgY2VsbEhlaWdodCkucm93XVt0aGlzLmdldE1hcEJsb2NrRnJvbUNvb3JkKHgsIHksIGNlbGxXaWR0aCwgY2VsbEhlaWdodCkuY29sXS5nZXRCbG9ja1R5cGUoKSA9PT0gQmxvY2tUeXBlLldhbGw7XHJcbiAgICB9XHJcbiAgICBkaXN0KHBvaW50MSwgcG9pbnQyKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdygocG9pbnQxLnggLSBwb2ludDIueCksIDIpICsgTWF0aC5wb3coKHBvaW50MS55IC0gcG9pbnQyLnkpLCAyKSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVW5pdFZlY3RvciB9IGZyb20gXCIuL1VuaXRWZWN0b3JcIjtcclxuaW1wb3J0IHsgVXRpbCB9IGZyb20gJy4vVXRpbCc7XHJcbmV4cG9ydCBjbGFzcyBCdWxsZXQge1xyXG4gICAgY29uc3RydWN0b3Ioc3RhcnRYLCBzdGFydFksIHVWZWNEaXIsIGNyb3VjaGVkQnVsbGV0LCBhcmVhU3RhdGUpIHtcclxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gNztcclxuICAgICAgICB0aGlzLmRpbSA9IDEuNTsgLy9pLmUgc3F1YXJlIHNpZGUgbGVuZ3RoXHJcbiAgICAgICAgdGhpcy5jcm91Y2hlZEJ1bGxldCA9IGZhbHNlOyAvL2lmIGJ1bGxldCB3YXMgY3JlYXRlZCB3aGlsZSBwbGF5ZXIgY3JvdWNoZWQgKG5lZWRlZCBmb3IgcmVuZGVyaW5nIGhlaWdodCBvZiBidWxsZXQgaW4gM2QpXHJcbiAgICAgICAgdGhpcy51dGlsID0gbmV3IFV0aWwoKTtcclxuICAgICAgICB0aGlzLnhQb3MgPSBzdGFydFg7IC8vY2VudGVyIGJ1bGxldCBhcm91bmQgcGxheWVyXHJcbiAgICAgICAgdGhpcy55UG9zID0gc3RhcnRZOyAvL2NlbnRlciBidWxsZXQgYXJvdW5kIHBsYXllclxyXG4gICAgICAgIHRoaXMudVZlY0RpciA9IHVWZWNEaXI7XHJcbiAgICAgICAgdGhpcy5hcmVhU3RhdGUgPSBhcmVhU3RhdGU7XHJcbiAgICAgICAgdGhpcy5jcm91Y2hlZEJ1bGxldCA9IGNyb3VjaGVkQnVsbGV0O1xyXG4gICAgfVxyXG4gICAgbW92ZUJ1bGxldCgpIHtcclxuICAgICAgICB0aGlzLnhQb3MgKz0gdGhpcy52ZWxvY2l0eSAqIHRoaXMudVZlY0Rpci5nZXRYKCk7XHJcbiAgICAgICAgdGhpcy55UG9zICs9IHRoaXMudmVsb2NpdHkgKiB0aGlzLnVWZWNEaXIuZ2V0WSgpO1xyXG4gICAgfVxyXG4gICAgY2hlY2tXYWxsSGl0KCkge1xyXG4gICAgICAgIGxldCB0ZW1wVVZlYyA9IG5ldyBVbml0VmVjdG9yKHRoaXMudVZlY0Rpci5nZXREaXJEZWcoKSk7XHJcbiAgICAgICAgbGV0IHByb2pNYWcgPSAwLjAxO1xyXG4gICAgICAgIGxldCBpbmNyID0gNTtcclxuICAgICAgICAvL3dlIHdhbnQgdG8gY2hlY2sgYSB0aW55IGJpdCBvdXRzaWRlIGFyb3VuZCB0aGUgd2hvbGUgY2lyY2xlXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzNjA7IGkgKz0gaW5jcikge1xyXG4gICAgICAgICAgICBsZXQgeCA9IHRoaXMueFBvcyArIHRlbXBVVmVjLmdldFgoKSAqICh0aGlzLmRpbSArIHByb2pNYWcpO1xyXG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMueVBvcyArIHRlbXBVVmVjLmdldFkoKSAqICh0aGlzLmRpbSArIHByb2pNYWcpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy51dGlsLmluTWFwQmxvY2soeCwgeSwgdGhpcy5hcmVhU3RhdGUuZ2V0TWFwKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxXaWR0aCgpLCB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsSGVpZ2h0KCkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ZW1wVVZlYy51cGRhdGVEaXIoaW5jcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGRyYXcyRCgpIHtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcy5hcmVhU3RhdGUuZ2V0Q2FudmFzMkQoKS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnZ3JleSc7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnhQb3MsIHRoaXMueVBvcyk7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmModGhpcy54UG9zLCB0aGlzLnlQb3MsIHRoaXMuZGltLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuICAgIGdldFgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueFBvcztcclxuICAgIH1cclxuICAgIGdldFkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueVBvcztcclxuICAgIH1cclxuICAgIGdldENyb3VjaGVkQnVsbGV0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNyb3VjaGVkQnVsbGV0O1xyXG4gICAgfVxyXG4gICAgZ2V0RGltKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpbTtcclxuICAgIH1cclxufVxyXG4iLCJ2YXIgQ29tcGFyZXJCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29tcGFyZXJCdWlsZGVyKGNvbXBhcmVycykge1xyXG4gICAgICAgIGlmIChjb21wYXJlcnMgPT09IHZvaWQgMCkgeyBjb21wYXJlcnMgPSB1bmRlZmluZWQ7IH1cclxuICAgICAgICB0aGlzLmNvbXBhcmVycyA9IGNvbXBhcmVycyB8fCBbXTtcclxuICAgIH1cclxuICAgIENvbXBhcmVyQnVpbGRlci5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wYXJlckJ1aWxkZXIoKTtcclxuICAgIH07XHJcbiAgICBDb21wYXJlckJ1aWxkZXIucHJvdG90eXBlLnRoZW5LZXkgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zb3J0S2V5KHNlbGVjdG9yKTtcclxuICAgIH07XHJcbiAgICBDb21wYXJlckJ1aWxkZXIucHJvdG90eXBlLnRoZW5LZXlEZXNjZW5kaW5nID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydEtleURlc2NlbmRpbmcoc2VsZWN0b3IpO1xyXG4gICAgfTtcclxuICAgIENvbXBhcmVyQnVpbGRlci5wcm90b3R5cGUuc29ydEtleSA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xyXG4gICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb21wYXJlcihzZWxlY3RvciwgZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogMCk7IH0pO1xyXG4gICAgICAgIHZhciBuZXdDb21wYXJlcnMgPSB0aGlzLmNvbXBhcmVycy5zbGljZSgpO1xyXG4gICAgICAgIG5ld0NvbXBhcmVycy5wdXNoKGMpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGFyZXJCdWlsZGVyKG5ld0NvbXBhcmVycyk7XHJcbiAgICB9O1xyXG4gICAgQ29tcGFyZXJCdWlsZGVyLnByb3RvdHlwZS5zb3J0S2V5RGVzY2VuZGluZyA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xyXG4gICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb21wYXJlcihzZWxlY3RvciwgZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChhIDwgYiA/IDEgOiBhID4gYiA/IC0xIDogMCk7IH0pO1xyXG4gICAgICAgIHZhciBuZXdDb21wYXJlcnMgPSB0aGlzLmNvbXBhcmVycy5zbGljZSgpO1xyXG4gICAgICAgIG5ld0NvbXBhcmVycy5wdXNoKGMpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGFyZXJCdWlsZGVyKG5ld0NvbXBhcmVycyk7XHJcbiAgICB9O1xyXG4gICAgQ29tcGFyZXJCdWlsZGVyLnByb3RvdHlwZS5jcmVhdGVDb21wYXJlciA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29tcGFyZXIpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgdmFyIGNtcEEgPSBzZWxlY3RvcihhKTtcclxuICAgICAgICAgICAgdmFyIGNtcEIgPSBzZWxlY3RvcihiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmVyKGNtcEEsIGNtcEIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgQ29tcGFyZXJCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuY29tcGFyZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBhcmVyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBhcmlzb24gPSBjb21wYXJlcihhLCBiKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wYXJpc29uICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmlzb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29tcGFyZXJCdWlsZGVyO1xyXG59KCkpO1xuXG52YXIgY29tcGFyZXJCdWlsZGVyID0gQ29tcGFyZXJCdWlsZGVyLmNyZWF0ZTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbmZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxuXG52YXIgc3dhcEFycmF5SW5kZXhlcyA9IGZ1bmN0aW9uIChzcmMsIGlkeDEsIGlkeDIpIHtcclxuICAgIHZhciB4ID0gc3JjW2lkeDFdO1xyXG4gICAgc3JjW2lkeDFdID0gc3JjW2lkeDJdO1xyXG4gICAgc3JjW2lkeDJdID0geDtcclxufTtcblxudmFyIG1heEJ5ID0gZnVuY3Rpb24gKHNyYywgY29tcGFyZXIpIHtcclxuICAgIHZhciBlXzEsIF9hO1xyXG4gICAgaWYgKHNyYy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgdmFyIGN1cnJlbnRNYXg7XHJcbiAgICB2YXIgYyA9IDA7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAodmFyIHNyY18xID0gX192YWx1ZXMoc3JjKSwgc3JjXzFfMSA9IHNyY18xLm5leHQoKTsgIXNyY18xXzEuZG9uZTsgc3JjXzFfMSA9IHNyY18xLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHNyY18xXzEudmFsdWU7XHJcbiAgICAgICAgICAgIGN1cnJlbnRNYXggPSBjKysgPiAwID8gKGNvbXBhcmVyKGl0ZW0sIGN1cnJlbnRNYXgpID4gMCA/IGl0ZW0gOiBjdXJyZW50TWF4KSA6IGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChzcmNfMV8xICYmICFzcmNfMV8xLmRvbmUgJiYgKF9hID0gc3JjXzEucmV0dXJuKSkgX2EuY2FsbChzcmNfMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBjdXJyZW50TWF4O1xyXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVVbnN0YWJsZUJpbmFyeUhlYXAoY29tcGFyZXIpIHtcclxuICAgIHZhciBoZWFwQXJyYXkgPSBbXTtcclxuICAgIHZhciBzd2FwSXRlbVNlbGVjdG9yID0gZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG1heEJ5KGl0ZW1zLCBmdW5jdGlvbiAoX2EsIF9iKSB7XHJcbiAgICAgICAgICAgIHZhciBhID0gX2EuaXRlbTtcclxuICAgICAgICAgICAgdmFyIGIgPSBfYi5pdGVtO1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcGFyZXIoYiwgYSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGhlYXAgPSB7XHJcbiAgICAgICAgcHVzaDogZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGhlYXBBcnJheS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGhlYXBBcnJheS5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudEluZGV4ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudEl0ZW1JbmRleCA9IChjdXJyZW50SW5kZXggLSAxKSA+PiAxO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmVyKGl0ZW0sIGhlYXBBcnJheVtwYXJlbnRJdGVtSW5kZXhdKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2FwQXJyYXlJbmRleGVzKGhlYXBBcnJheSwgY3VycmVudEluZGV4LCBwYXJlbnRJdGVtSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleCA9IHBhcmVudEl0ZW1JbmRleDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwdXNoUmFuZ2U6IGZ1bmN0aW9uIChpdGVtcykge1xyXG4gICAgICAgICAgICB2YXIgZV8xLCBfYTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW1zXzEgPSBfX3ZhbHVlcyhpdGVtcyksIGl0ZW1zXzFfMSA9IGl0ZW1zXzEubmV4dCgpOyAhaXRlbXNfMV8xLmRvbmU7IGl0ZW1zXzFfMSA9IGl0ZW1zXzEubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc18xXzEudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhcC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXNfMV8xICYmICFpdGVtc18xXzEuZG9uZSAmJiAoX2EgPSBpdGVtc18xLnJldHVybikpIF9hLmNhbGwoaXRlbXNfMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHBvcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoaGVhcEFycmF5Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gaGVhcEFycmF5WzBdO1xyXG4gICAgICAgICAgICBoZWFwQXJyYXlbMF0gPSBoZWFwQXJyYXlbaGVhcEFycmF5Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBoZWFwQXJyYXkubGVuZ3RoID0gaGVhcEFycmF5Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50SW5kZXggPSAwO1xyXG4gICAgICAgICAgICBmb3IgKDs7KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEl0ZW0gPSBoZWFwQXJyYXlbY3VycmVudEluZGV4XTtcclxuICAgICAgICAgICAgICAgIHZhciBsZWZ0Q2hpbGRJbmRleCA9IChjdXJyZW50SW5kZXggPDwgMSkgKyAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZElkeCA9IGxlZnRDaGlsZEluZGV4ICsgaTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRJZHggPCBoZWFwQXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogaGVhcEFycmF5W2NoaWxkSWR4XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBjaGlsZElkeFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBjdXJySXRlbVJhbmsgPSByYW5rU2VsZWN0b3IoY3Vyckl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN3YXBJdGVtID0gc3dhcEl0ZW1TZWxlY3RvcihpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZXIoc3dhcEl0ZW0uaXRlbSwgY3VycmVudEl0ZW0pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3YXBBcnJheUluZGV4ZXMoaGVhcEFycmF5LCBjdXJyZW50SW5kZXgsIHN3YXBJdGVtLmluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXggPSBzd2FwSXRlbS5pbmRleDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBsZW5ndGgoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoZWFwQXJyYXkubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gaGVhcDtcclxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdGFibGVCaW5hcnlIZWFwKGNvbXBhcmVyKSB7XHJcbiAgICB2YXIgdW5zdGFibGVIZWFwID0gY3JlYXRlVW5zdGFibGVCaW5hcnlIZWFwKGZ1bmN0aW9uIChpdGVtMSwgaXRlbTIpIHtcclxuICAgICAgICB2YXIgYyA9IGNvbXBhcmVyKGl0ZW0xLml0ZW0sIGl0ZW0yLml0ZW0pO1xyXG4gICAgICAgIGlmIChjID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtMS5vcmRlciAtIGl0ZW0yLm9yZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYztcclxuICAgIH0pO1xyXG4gICAgdmFyIGNvdW50ID0gMDtcclxuICAgIHZhciBzdGFibGVIZWFwID0ge1xyXG4gICAgICAgIHB1c2g6IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bnN0YWJsZUhlYXAucHVzaCh7IGl0ZW06IGl0ZW0sIG9yZGVyOiBjb3VudCsrIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHVzaFJhbmdlOiBmdW5jdGlvbiAoaXRlbXMpIHtcclxuICAgICAgICAgICAgdmFyIGVfMSwgX2E7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpdGVtc18xID0gX192YWx1ZXMoaXRlbXMpLCBpdGVtc18xXzEgPSBpdGVtc18xLm5leHQoKTsgIWl0ZW1zXzFfMS5kb25lOyBpdGVtc18xXzEgPSBpdGVtc18xLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWJsZUhlYXAucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zXzFfMSAmJiAhaXRlbXNfMV8xLmRvbmUgJiYgKF9hID0gaXRlbXNfMS5yZXR1cm4pKSBfYS5jYWxsKGl0ZW1zXzEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwb3A6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB1bnN0YWJsZUhlYXAucG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pdGVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IGxlbmd0aCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuc3RhYmxlSGVhcC5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBzdGFibGVIZWFwO1xyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJpbmFyeUhlYXAocmFua1NlbGVjdG9yLCB0eXBlLCBzdGFibGUpIHtcclxuICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9ICdtaW4nOyB9XHJcbiAgICBpZiAoc3RhYmxlID09PSB2b2lkIDApIHsgc3RhYmxlID0gdHJ1ZTsgfVxyXG4gICAgdmFyIGJ1aWxkZXIgPSBjb21wYXJlckJ1aWxkZXIoKTtcclxuICAgIHZhciBvcCA9IHR5cGUgPT09ICdtaW4nID8gYnVpbGRlci5zb3J0S2V5IDogYnVpbGRlci5zb3J0S2V5RGVzY2VuZGluZztcclxuICAgIHZhciBjbXAgPSBvcC5jYWxsKGJ1aWxkZXIsIHJhbmtTZWxlY3RvcikuYnVpbGQoKTtcclxuICAgIHZhciBmID0gc3RhYmxlID8gY3JlYXRlU3RhYmxlQmluYXJ5SGVhcCA6IGNyZWF0ZVVuc3RhYmxlQmluYXJ5SGVhcDtcclxuICAgIHJldHVybiBmKGNtcCk7XHJcbn1cblxuLy8gSW1wb3J0IGhlcmUgUG9seWZpbGxzIGlmIG5lZWRlZC4gUmVjb21tZW5kZWQgY29yZS1qcyAobnBtIGkgLUQgY29yZS1qcylcblxuZXhwb3J0IHsgY3JlYXRlQmluYXJ5SGVhcCwgY3JlYXRlU3RhYmxlQmluYXJ5SGVhcCwgY3JlYXRlVW5zdGFibGVCaW5hcnlIZWFwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cy1iaW4taGVhcC5lczUuanMubWFwXG4iLCJpbXBvcnQgeyBjcmVhdGVCaW5hcnlIZWFwIH0gZnJvbSBcInRzLWJpbi1oZWFwXCI7XHJcbmltcG9ydCB7IEJsb2NrVHlwZSB9IGZyb20gXCIuL01vZGVsL0VCbG9ja1R5cGVcIjtcclxuZXhwb3J0IGNsYXNzIEFTdGFyU2VhcmNoIHtcclxuICAgIGNvbnN0cnVjdG9yKGFyZWFTdGF0ZSkge1xyXG4gICAgICAgIHRoaXMucGF0aCA9IFtdO1xyXG4gICAgICAgIHRoaXMubm9kZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmNlbGxTdHJhaWdodERpc3QgPSAxOyAvL2Rpc3QgYi93IGFkamFjZW50IGNlbGxzIGluIHRvcCByaWdodCBib3R0b20gb3IgbGVmdFxyXG4gICAgICAgIHRoaXMuYXJlYVN0YXRlID0gYXJlYVN0YXRlO1xyXG4gICAgICAgIC8vaW5pdCBub2Rlc1xyXG4gICAgICAgIHRoaXMuYXJlYVN0YXRlLmdldE1hcCgpLmdldEJsb2NrcygpLmZvckVhY2goKHJvdywgaVJvdykgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbm9kZVJvdyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICByb3cuZm9yRWFjaCgoYmxvY2ssIGlDb2wpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay5nZXRCbG9ja1R5cGUoKSA9PSBCbG9ja1R5cGUuV2FsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVSb3cucHVzaChudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJsb2NrLmdldEJsb2NrVHlwZSgpID09IEJsb2NrVHlwZS5FbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHsgY29sOiBpQ29sLCByb3c6IGlSb3cgfTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaF9zY29yZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdfc2NvcmUgPSA5OTk5OTk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZVJvdy5wdXNoKHsgaWQ6IEpTT04uc3RyaW5naWZ5KHBvc2l0aW9uKSwgcG9zaXRpb246IHBvc2l0aW9uLCBoX3Njb3JlOiBoX3Njb3JlLCBnX3Njb3JlOiBnX3Njb3JlLCBmX3Njb3JlOiA5OTk5OTkgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobm9kZVJvdyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXRYWUZyb21Sb3dDb2wocG9zaXRpb24pIHtcclxuICAgICAgICAvL3RoZSBsaWwgLzIgcGFydCBpcyB0byBnZXQgY2VudGVyIG9mIGNlbGxcclxuICAgICAgICByZXR1cm4geyB4OiBwb3NpdGlvbi5jb2wgKiB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsV2lkdGgoKSArIHRoaXMuYXJlYVN0YXRlLmdldENlbGxXaWR0aCgpIC8gMiwgeTogcG9zaXRpb24ucm93ICogdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbEhlaWdodCgpICsgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbEhlaWdodCgpIC8gMiB9O1xyXG4gICAgfVxyXG4gICAgLy9oYWQgdG8gcmVtb3ZlIGRhaWdvbmFsIG5laWdoYm91cnMgdG8gcHJldmVudCBkaWFnb25hbCB0cmF2ZXJzaW9uIGIvY1xyXG4gICAgLy9pdCB3YXMgY2F1c2luZyBlbmVtaWVzIHRvIGNsaXAgd2FsbHMgYXMgdGhleSBtb3ZlZCBmcm9tIG9uZSBibG9jayB0byBhbm90aGVyLlxyXG4gICAgLy9lc3NlbnRpYWxseSwgaSB0YWtlIHRoZSBwYXRoIHJldHVybmVkIGJ5IHRoaXMgY2xhc3MgYW5kIG1vdmUgdGhlIGVuZW15IHRvIHRoZSBzZWNvbmQgbmRvZSBpbiB0aGUgcGF0aCBzaW5jZSB0aGUgZmlyc3QgaXMganVzdCB0aGUgY3VyIG5vZGUgdGhlIGVuZW15IGlzIGluXHJcbiAgICAvL2lmIHRoZSBzZWNvbmQgbm9kZSBpcyBhIGRpYWdvbmFsIG5vZGUsIGl0IG1pZ2h0IGNsaXAgYSB3YWxsIGFsb25nIHRoZSB3YXkgXHJcbiAgICAvL29ubHkgd2F5IHRvIHByZXZlbnQgdGhpcyBpcyB0byBmb3JjZSBlbmVteSB0byBoYXZlIHRvIHZpc2l0IHRoZSBjZW50ZXIgb2YgdGhlaXIgY3VyIGJsb2NrIGZpcnN0IGJlZm9yZSBnb2luZyB0byBzZWNvbmQgYnV0IGl0cyB0b28gZGlmZmljdWx0IHNvIGkgd29udCBib3RoZXJcclxuICAgIGdldE5vZGVOZWlnaGJvdXJzKGN1ck5vZGUsIGVuZE5vZGUpIHtcclxuICAgICAgICBsZXQgbmVpZ2hCb3VycyA9IFtdO1xyXG4gICAgICAgIGxldCBlbmROb2RlUG9pbnQgPSB0aGlzLmdldFhZRnJvbVJvd0NvbChlbmROb2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAvL3RvcGxlZnRcclxuICAgICAgICAvLyBpZiAoY3VyTm9kZS5wb3NpdGlvbi5jb2wgPiAwICYmIGN1ck5vZGUucG9zaXRpb24ucm93ID4gMCAmJiB0aGlzLm5vZGVzW2N1ck5vZGUucG9zaXRpb24ucm93LTFdW2N1ck5vZGUucG9zaXRpb24uY29sLTFdICE9IG51bGwpIHtcclxuICAgICAgICAvLyAgICAgbGV0IG5vZGU6IE5vZGUgPSB0aGlzLm5vZGVzW2N1ck5vZGUucG9zaXRpb24ucm93LTFdW2N1ck5vZGUucG9zaXRpb24uY29sLTFdXHJcbiAgICAgICAgLy8gICAgIGlmIChub2RlLmhfc2NvcmUgPT09IG51bGwpIHtcclxuICAgICAgICAvLyAgICAgICAgIGxldCBjdXJOb2RlUG9pbnQ6IFBvaW50ID0gdGhpcy5nZXRYWUZyb21Sb3dDb2woY3VyTm9kZS5wb3NpdGlvbik7XHJcbiAgICAgICAgLy8gICAgICAgICBub2RlLmhfc2NvcmUgPSBNYXRoLnNxcnQoKGVuZE5vZGVQb2ludC54IC0gY3VyTm9kZVBvaW50LngpKioyKyhlbmROb2RlUG9pbnQueS1jdXJOb2RlUG9pbnQueSkqKjIpXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgbGV0IG5laWdoQm91cjogTm9kZU5laWdoYm91ciA9IHtub2RlOiBub2RlLCBkX3ZhbDogTWF0aC5zcXJ0KHRoaXMuY2VsbFN0cmFpZ2h0RGlzdCt0aGlzLmNlbGxTdHJhaWdodERpc3QpfVxyXG4gICAgICAgIC8vICAgICBuZWlnaEJvdXJzLnB1c2gobmVpZ2hCb3VyKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy90b3BcclxuICAgICAgICBpZiAoY3VyTm9kZS5wb3NpdGlvbi5yb3cgPiAwICYmIHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3cgLSAxXVtjdXJOb2RlLnBvc2l0aW9uLmNvbF0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3cgLSAxXVtjdXJOb2RlLnBvc2l0aW9uLmNvbF07XHJcbiAgICAgICAgICAgIGlmIChub2RlLmhfc2NvcmUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJOb2RlUG9pbnQgPSB0aGlzLmdldFhZRnJvbVJvd0NvbChjdXJOb2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG5vZGUuaF9zY29yZSA9IE1hdGguc3FydChNYXRoLnBvdygoZW5kTm9kZVBvaW50LnggLSBjdXJOb2RlUG9pbnQueCksIDIpICsgTWF0aC5wb3coKGVuZE5vZGVQb2ludC55IC0gY3VyTm9kZVBvaW50LnkpLCAyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG5laWdoQm91ciA9IHsgbm9kZTogbm9kZSwgZF92YWw6IE1hdGguc3FydCh0aGlzLmNlbGxTdHJhaWdodERpc3QpIH07XHJcbiAgICAgICAgICAgIG5laWdoQm91cnMucHVzaChuZWlnaEJvdXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3RvcHJpZ2h0XHJcbiAgICAgICAgLy8gaWYgKGN1ck5vZGUucG9zaXRpb24uY29sIDwgdGhpcy5ub2Rlc1swXS5sZW5ndGgtMSAmJiBjdXJOb2RlLnBvc2l0aW9uLnJvdyA+IDAgJiYgdGhpcy5ub2Rlc1tjdXJOb2RlLnBvc2l0aW9uLnJvdy0xXVtjdXJOb2RlLnBvc2l0aW9uLmNvbCsxXSAhPSBudWxsKSB7XHJcbiAgICAgICAgLy8gICAgIGxldCBub2RlOiBOb2RlID0gdGhpcy5ub2Rlc1tjdXJOb2RlLnBvc2l0aW9uLnJvdy0xXVtjdXJOb2RlLnBvc2l0aW9uLmNvbCsxXVxyXG4gICAgICAgIC8vICAgICBpZiAobm9kZS5oX3Njb3JlID09PSBudWxsKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgY3VyTm9kZVBvaW50OiBQb2ludCA9IHRoaXMuZ2V0WFlGcm9tUm93Q29sKGN1ck5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgIC8vICAgICAgICAgbm9kZS5oX3Njb3JlID0gTWF0aC5zcXJ0KChlbmROb2RlUG9pbnQueCAtIGN1ck5vZGVQb2ludC54KSoqMisoZW5kTm9kZVBvaW50LnktY3VyTm9kZVBvaW50LnkpKioyKVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICAgIGxldCBuZWlnaEJvdXI6IE5vZGVOZWlnaGJvdXIgPSB7bm9kZTogbm9kZSwgZF92YWw6IE1hdGguc3FydCh0aGlzLmNlbGxTdHJhaWdodERpc3QrdGhpcy5jZWxsU3RyYWlnaHREaXN0KX1cclxuICAgICAgICAvLyAgICAgbmVpZ2hCb3Vycy5wdXNoKG5laWdoQm91cik7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vbGVmdFxyXG4gICAgICAgIGlmIChjdXJOb2RlLnBvc2l0aW9uLmNvbCA+IDAgJiYgdGhpcy5ub2Rlc1tjdXJOb2RlLnBvc2l0aW9uLnJvd11bY3VyTm9kZS5wb3NpdGlvbi5jb2wgLSAxXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gdGhpcy5ub2Rlc1tjdXJOb2RlLnBvc2l0aW9uLnJvd11bY3VyTm9kZS5wb3NpdGlvbi5jb2wgLSAxXTtcclxuICAgICAgICAgICAgaWYgKG5vZGUuaF9zY29yZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ck5vZGVQb2ludCA9IHRoaXMuZ2V0WFlGcm9tUm93Q29sKGN1ck5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5oX3Njb3JlID0gTWF0aC5zcXJ0KE1hdGgucG93KChlbmROb2RlUG9pbnQueCAtIGN1ck5vZGVQb2ludC54KSwgMikgKyBNYXRoLnBvdygoZW5kTm9kZVBvaW50LnkgLSBjdXJOb2RlUG9pbnQueSksIDIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbmVpZ2hCb3VyID0geyBub2RlOiBub2RlLCBkX3ZhbDogTWF0aC5zcXJ0KHRoaXMuY2VsbFN0cmFpZ2h0RGlzdCkgfTtcclxuICAgICAgICAgICAgbmVpZ2hCb3Vycy5wdXNoKG5laWdoQm91cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vcmlnaHRcclxuICAgICAgICBpZiAoY3VyTm9kZS5wb3NpdGlvbi5jb2wgPCB0aGlzLm5vZGVzWzBdLmxlbmd0aCAtIDEgJiYgdGhpcy5ub2Rlc1tjdXJOb2RlLnBvc2l0aW9uLnJvd11bY3VyTm9kZS5wb3NpdGlvbi5jb2wgKyAxXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gdGhpcy5ub2Rlc1tjdXJOb2RlLnBvc2l0aW9uLnJvd11bY3VyTm9kZS5wb3NpdGlvbi5jb2wgKyAxXTtcclxuICAgICAgICAgICAgaWYgKG5vZGUuaF9zY29yZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ck5vZGVQb2ludCA9IHRoaXMuZ2V0WFlGcm9tUm93Q29sKGN1ck5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5oX3Njb3JlID0gTWF0aC5zcXJ0KE1hdGgucG93KChlbmROb2RlUG9pbnQueCAtIGN1ck5vZGVQb2ludC54KSwgMikgKyBNYXRoLnBvdygoZW5kTm9kZVBvaW50LnkgLSBjdXJOb2RlUG9pbnQueSksIDIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbmVpZ2hCb3VyID0geyBub2RlOiBub2RlLCBkX3ZhbDogTWF0aC5zcXJ0KHRoaXMuY2VsbFN0cmFpZ2h0RGlzdCkgfTtcclxuICAgICAgICAgICAgbmVpZ2hCb3Vycy5wdXNoKG5laWdoQm91cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vYm90dG9tbGVmdFxyXG4gICAgICAgIC8vIGlmIChjdXJOb2RlLnBvc2l0aW9uLmNvbCA+IDAgJiYgY3VyTm9kZS5wb3NpdGlvbi5yb3cgPCB0aGlzLm5vZGVzLmxlbmd0aC0xICYmIHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3crMV1bY3VyTm9kZS5wb3NpdGlvbi5jb2wtMV0gIT0gbnVsbCkge1xyXG4gICAgICAgIC8vICAgICBsZXQgbm9kZTogTm9kZSA9IHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3crMV1bY3VyTm9kZS5wb3NpdGlvbi5jb2wtMV1cclxuICAgICAgICAvLyAgICAgaWYgKG5vZGUuaF9zY29yZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIC8vICAgICAgICAgbGV0IGN1ck5vZGVQb2ludDogUG9pbnQgPSB0aGlzLmdldFhZRnJvbVJvd0NvbChjdXJOb2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAvLyAgICAgICAgIG5vZGUuaF9zY29yZSA9IE1hdGguc3FydCgoZW5kTm9kZVBvaW50LnggLSBjdXJOb2RlUG9pbnQueCkqKjIrKGVuZE5vZGVQb2ludC55LWN1ck5vZGVQb2ludC55KSoqMilcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICBsZXQgbmVpZ2hCb3VyOiBOb2RlTmVpZ2hib3VyID0ge25vZGU6IG5vZGUsIGRfdmFsOiBNYXRoLnNxcnQodGhpcy5jZWxsU3RyYWlnaHREaXN0K3RoaXMuY2VsbFN0cmFpZ2h0RGlzdCl9XHJcbiAgICAgICAgLy8gICAgIG5laWdoQm91cnMucHVzaChuZWlnaEJvdXIpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvL2JvdHRvbVxyXG4gICAgICAgIGlmIChjdXJOb2RlLnBvc2l0aW9uLnJvdyA8IHRoaXMubm9kZXMubGVuZ3RoIC0gMSAmJiB0aGlzLm5vZGVzW2N1ck5vZGUucG9zaXRpb24ucm93ICsgMV1bY3VyTm9kZS5wb3NpdGlvbi5jb2xdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVzW2N1ck5vZGUucG9zaXRpb24ucm93ICsgMV1bY3VyTm9kZS5wb3NpdGlvbi5jb2xdO1xyXG4gICAgICAgICAgICBpZiAobm9kZS5oX3Njb3JlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyTm9kZVBvaW50ID0gdGhpcy5nZXRYWUZyb21Sb3dDb2woY3VyTm9kZS5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBub2RlLmhfc2NvcmUgPSBNYXRoLnNxcnQoTWF0aC5wb3coKGVuZE5vZGVQb2ludC54IC0gY3VyTm9kZVBvaW50LngpLCAyKSArIE1hdGgucG93KChlbmROb2RlUG9pbnQueSAtIGN1ck5vZGVQb2ludC55KSwgMikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBuZWlnaEJvdXIgPSB7IG5vZGU6IG5vZGUsIGRfdmFsOiBNYXRoLnNxcnQodGhpcy5jZWxsU3RyYWlnaHREaXN0KSB9O1xyXG4gICAgICAgICAgICBuZWlnaEJvdXJzLnB1c2gobmVpZ2hCb3VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9ib3R0b21yaWdodFxyXG4gICAgICAgIC8vIGlmIChjdXJOb2RlLnBvc2l0aW9uLmNvbCA8IHRoaXMubm9kZXNbMF0ubGVuZ3RoLTEgJiYgY3VyTm9kZS5wb3NpdGlvbi5yb3cgPCB0aGlzLm5vZGVzLmxlbmd0aC0xICYmIHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3crMV1bY3VyTm9kZS5wb3NpdGlvbi5jb2wrMV0gIT0gbnVsbCkge1xyXG4gICAgICAgIC8vICAgICBsZXQgbm9kZTogTm9kZSA9IHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3crMV1bY3VyTm9kZS5wb3NpdGlvbi5jb2wrMV1cclxuICAgICAgICAvLyAgICAgaWYgKG5vZGUuaF9zY29yZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIC8vICAgICAgICAgbGV0IGN1ck5vZGVQb2ludDogUG9pbnQgPSB0aGlzLmdldFhZRnJvbVJvd0NvbChjdXJOb2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAvLyAgICAgICAgIG5vZGUuaF9zY29yZSA9IE1hdGguc3FydCgoZW5kTm9kZVBvaW50LnggLSBjdXJOb2RlUG9pbnQueCkqKjIrKGVuZE5vZGVQb2ludC55LWN1ck5vZGVQb2ludC55KSoqMilcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICBsZXQgbmVpZ2hCb3VyOiBOb2RlTmVpZ2hib3VyID0ge25vZGU6IG5vZGUsIGRfdmFsOiBNYXRoLnNxcnQodGhpcy5jZWxsU3RyYWlnaHREaXN0K3RoaXMuY2VsbFN0cmFpZ2h0RGlzdCl9XHJcbiAgICAgICAgLy8gICAgIG5laWdoQm91cnMucHVzaChuZWlnaEJvdXIpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICByZXR1cm4gbmVpZ2hCb3VycztcclxuICAgIH1cclxuICAgIHJlY29uc3RydWN0UGF0aChlbmROb2RlKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBlbmROb2RlO1xyXG4gICAgICAgIHRoaXMucGF0aC51bnNoaWZ0KGN1cnJlbnQpO1xyXG4gICAgICAgIHdoaWxlIChjdXJyZW50LnBhcmVudF9Ob2RlICE9IHVuZGVmaW5lZCkgeyAvL3N0YXJ0IG5vZGVzIHBhcmVudCBpcyB1bmRlZiBzbyBzaHVsZCBzdG9wIHRoZXJlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRfTm9kZTtcclxuICAgICAgICAgICAgdGhpcy5wYXRoLnVuc2hpZnQoY3VycmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVzZXRTZWFyY2hlcigpIHtcclxuICAgICAgICB0aGlzLnBhdGggPSBbXTtcclxuICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2gobm9kZVJvdyA9PiB7XHJcbiAgICAgICAgICAgIG5vZGVSb3cuZm9yRWFjaChub2RlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmdfc2NvcmUgPSA5OTk5OTk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5oX3Njb3JlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmZfc2NvcmUgPSA5OTk5OTk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnRfTm9kZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjYWxjdWxhdGVQYXRoKHN0YXJ0Um93LCBzdGFydENvbCwgZW5kUm93LCBlbmRDb2wpIHtcclxuICAgICAgICBjb25zdCBzdGFydE5vZGUgPSB0aGlzLm5vZGVzW3N0YXJ0Um93XVtzdGFydENvbF07XHJcbiAgICAgICAgc3RhcnROb2RlLmdfc2NvcmUgPSAwO1xyXG4gICAgICAgIGNvbnN0IGVuZE5vZGUgPSB0aGlzLm5vZGVzW2VuZFJvd11bZW5kQ29sXTtcclxuICAgICAgICBlbmROb2RlLmhfc2NvcmUgPSAwO1xyXG4gICAgICAgIGNvbnN0IG9wZW5TZXQgPSBjcmVhdGVCaW5hcnlIZWFwKG5vZGUgPT4gbm9kZS5mX3Njb3JlKTtcclxuICAgICAgICBvcGVuU2V0LnB1c2goc3RhcnROb2RlKTtcclxuICAgICAgICBsZXQgbm9kZXNJbk9wZW5TZXQgPSB7ICdzdGFydCc6IHRydWUgfTtcclxuICAgICAgICBsZXQgY3VycmVudDtcclxuICAgICAgICB3aGlsZSAob3BlblNldC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBvcGVuU2V0LnBvcCgpO1xyXG4gICAgICAgICAgICBub2Rlc0luT3BlblNldFtjdXJyZW50LmlkXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gZW5kTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdFBhdGgoZW5kTm9kZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Tm9kZU5laWdoYm91cnMoY3VycmVudCwgZW5kTm9kZSkuZm9yRWFjaChuZWlnaGJvdXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlbnRhdGl2ZV9nU2NvcmUgPSBjdXJyZW50Lmdfc2NvcmUgKyBuZWlnaGJvdXIuZF92YWw7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVudGF0aXZlX2dTY29yZSA8IG5laWdoYm91ci5ub2RlLmdfc2NvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZWlnaGJvdXIubm9kZS5wYXJlbnRfTm9kZSA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbmVpZ2hib3VyLm5vZGUuZ19zY29yZSA9IHRlbnRhdGl2ZV9nU2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgbmVpZ2hib3VyLm5vZGUuZl9zY29yZSA9IG5laWdoYm91ci5ub2RlLmdfc2NvcmUgKyBuZWlnaGJvdXIubm9kZS5oX3Njb3JlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZXNJbk9wZW5TZXRbbmVpZ2hib3VyLm5vZGUuaWRdKSB7IC8vdHJ1ZSBtZWFucyBpbiBvcGVuIHNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuU2V0LnB1c2gobmVpZ2hib3VyLm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlc0luT3BlblNldFtuZWlnaGJvdXIubm9kZS5pZF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFTdGFyU2VhcmNoIH0gZnJvbSBcIi4vQVN0YXJTZWFyY2hcIjtcclxuaW1wb3J0IHsgVW5pdFZlY3RvciB9IGZyb20gXCIuL1VuaXRWZWN0b3JcIjtcclxuaW1wb3J0IHsgVXRpbCB9IGZyb20gXCIuL1V0aWxcIjtcclxuZXhwb3J0IGNsYXNzIEVuZW15TnBjIHtcclxuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxYLCBpbml0aWFsWSwgaW5pdGlhbERpciwgYXJlYVN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5kaW0gPSA1O1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSAxO1xyXG4gICAgICAgIHRoaXMudXRpbCA9IG5ldyBVdGlsKCk7XHJcbiAgICAgICAgdGhpcy54UG9zID0gaW5pdGlhbFg7XHJcbiAgICAgICAgdGhpcy55UG9zID0gaW5pdGlhbFk7XHJcbiAgICAgICAgdGhpcy51VmVjRGlyID0gaW5pdGlhbERpcjtcclxuICAgICAgICB0aGlzLmFyZWFTdGF0ZSA9IGFyZWFTdGF0ZTtcclxuICAgICAgICB0aGlzLnNlYXJjaGVyID0gbmV3IEFTdGFyU2VhcmNoKGFyZWFTdGF0ZSk7XHJcbiAgICB9XHJcbiAgICBnZXRBbmdsZVRvUG9pbnQoeCwgeSkge1xyXG4gICAgICAgIGxldCBlbmVteVRvUGxheWVyVmVjdG9yID0geyB4OiB4IC0gdGhpcy54UG9zLCB5OiB5IC0gdGhpcy55UG9zIH07XHJcbiAgICAgICAgbGV0IGVuZW15VG9QbGF5ZXJWZWN0b3JNYWcgPSBNYXRoLnNxcnQoTWF0aC5wb3coZW5lbXlUb1BsYXllclZlY3Rvci54LCAyKSArIE1hdGgucG93KGVuZW15VG9QbGF5ZXJWZWN0b3IueSwgMikpO1xyXG4gICAgICAgIC8vUm91bmRpbmcgaGVyZSBpcyBWRVJZIElNUE9SVEFOVFxyXG4gICAgICAgIC8vd2FzIGhhdmluZyBidWdzIHdoZXJlIGFuZ2xlIGJldHdlZW4gcGxheWVyIGRpciB2ZWN0b3IgYW5kIGFjYyBkaXIgdG8gcGxheWVyIHdhcyBuZWFybHkgMCByZXN1bHRpbmcgaW4gdGhlIGRvdCBwcm9kIGFuZCBtYWcgdG8gYmUgdGhlIHNhbWUgbnVtICh3aGljaCBtYWtlcyBzZW5zZSBjYXVzZSB0aGlzIGlzIHRoZSBsaW4gYWxnIGVxbiBhbmQgaXQgd29ya3MpXHJcbiAgICAgICAgLy9vciBhdGxlYXN0IGluIHRoZW9yeSB0aGUgc2FtZSBudW1iZXIgYnV0IGR1ZSB0byBzb21lIGpzIHNoZW5hbmlnYW5zLCB0aGUgbWFnIGFsd2F5cyBoYWQgb25lIGxlc3MgZGVjaW1hbCBwbGFjZSBtYWtpbmcgaXQgYSB0aW55eXl5IGJpdCBzbWFsbGVyIHRoYW4gdGhlIGRvdCBwcm9kdWN0XHJcbiAgICAgICAgLy9yZXN1bHQgaW4gYW4gb3ZlcmFsbCBudW1iZXIgaW5zaWRlIHRoZSBhY29zIGJlaW5nID4gMSByZXN1bHRpbmcgaW4gYSBuYW4gYW5nbGUgYW5kIHRodXMgcmVzdWx0aW5nIGluIHRoZSB1dmVjIGFuZ2xlIHRvIGJlY29tZSBhbmQgdGhlIHggYW5kIHkgcG9zIHRvIGJlY29tZSBuYW4gbWFraW5nIHRoZSBlbmVteSBkaXNzYXBlYXJcclxuICAgICAgICBsZXQgZG90UHJvZFJvdW5kZWRUb05lYXJlc3RUaG91c2FuZCA9IE1hdGgucm91bmQoKCh0aGlzLnVWZWNEaXIuZ2V0WCgpICogZW5lbXlUb1BsYXllclZlY3Rvci54ICsgdGhpcy51VmVjRGlyLmdldFkoKSAqIGVuZW15VG9QbGF5ZXJWZWN0b3IueSkgKyBOdW1iZXIuRVBTSUxPTikgKiAxMDAwKSAvIDEwMDA7XHJcbiAgICAgICAgbGV0IG1hZ1Byb2RSb3VuZGVkVG9OZWFyZXN0VGhvdXNhbmQgPSBNYXRoLnJvdW5kKChlbmVteVRvUGxheWVyVmVjdG9yTWFnICsgTnVtYmVyLkVQU0lMT04pICogMTAwMCkgLyAxMDAwO1xyXG4gICAgICAgIGxldCBhbmdsZSA9IE1hdGguYWNvcygoZG90UHJvZFJvdW5kZWRUb05lYXJlc3RUaG91c2FuZCkgLyAobWFnUHJvZFJvdW5kZWRUb05lYXJlc3RUaG91c2FuZCkpICogMTgwIC8gTWF0aC5QSTtcclxuICAgICAgICByZXR1cm4gYW5nbGU7XHJcbiAgICB9XHJcbiAgICBtb3ZlKHBsYXllclgsIHBsYXllclkpIHtcclxuICAgICAgICBsZXQgcGxheWVyQ2VsbCA9IHRoaXMudXRpbC5nZXRNYXBCbG9ja0Zyb21Db29yZChwbGF5ZXJYLCBwbGF5ZXJZLCB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsV2lkdGgoKSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbEhlaWdodCgpKTtcclxuICAgICAgICBsZXQgZW5lbXlDZWxsID0gdGhpcy51dGlsLmdldE1hcEJsb2NrRnJvbUNvb3JkKHRoaXMueFBvcywgdGhpcy55UG9zLCB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsV2lkdGgoKSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbEhlaWdodCgpKTtcclxuICAgICAgICBpZiAocGxheWVyQ2VsbC5jb2wgPT09IGVuZW15Q2VsbC5jb2wgJiYgcGxheWVyQ2VsbC5yb3cgPT09IGVuZW15Q2VsbC5yb3cpIHtcclxuICAgICAgICAgICAgbGV0IGFuZ2xlID0gdGhpcy5nZXRBbmdsZVRvUG9pbnQocGxheWVyWCwgcGxheWVyWSk7XHJcbiAgICAgICAgICAgIHRoaXMudVZlY0Rpci51cGRhdGVEaXIoYW5nbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hlci5yZXNldFNlYXJjaGVyKCk7XHJcbiAgICAgICAgICAgIGxldCBwYXRoID0gdGhpcy5zZWFyY2hlci5jYWxjdWxhdGVQYXRoKGVuZW15Q2VsbC5yb3csIGVuZW15Q2VsbC5jb2wsIHBsYXllckNlbGwucm93LCBwbGF5ZXJDZWxsLmNvbCk7XHJcbiAgICAgICAgICAgIC8vIGxldCBwYXRoRmlyc3RDZWxsWFkgPSB0aGlzLnV0aWwuZ2V0WFlGcm9tTWFwQmxvY2socGF0aFswXS5wb3NpdGlvbiwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSk7XHJcbiAgICAgICAgICAgIC8vIGxldCBwb2ludFRvTW92ZVRvOiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9ID0ge3g6IHBhdGhGaXJzdENlbGxYWS54LCB5OiBwYXRoRmlyc3RDZWxsWFkueX1cclxuICAgICAgICAgICAgLy8gaWYgKHRoaXMueFBvcyA9PT0gcGF0aEZpcnN0Q2VsbFhZLnggJiYgdGhpcy55UG9zID09PSBwYXRoRmlyc3RDZWxsWFkueSkge1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IHBhdGhTZWNvbmRDZWxsWFkgPSB0aGlzLnV0aWwuZ2V0WFlGcm9tTWFwQmxvY2socGF0aFswXS5wb3NpdGlvbiwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSk7XHJcbiAgICAgICAgICAgIC8vICAgICBwb2ludFRvTW92ZVRvXHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgbGV0IHBhdGhTZWNvbmRDZWxsWFkgPSB0aGlzLnV0aWwuZ2V0WFlGcm9tTWFwQmxvY2socGF0aFsxXS5wb3NpdGlvbiwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSk7XHJcbiAgICAgICAgICAgIGxldCBhbmdsZSA9IHRoaXMuZ2V0QW5nbGVUb1BvaW50KHBhdGhTZWNvbmRDZWxsWFkueCwgcGF0aFNlY29uZENlbGxYWS55KTtcclxuICAgICAgICAgICAgdGhpcy51VmVjRGlyLnVwZGF0ZURpcihhbmdsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMueFBvcyArPSB0aGlzLnVWZWNEaXIuZ2V0WCgpICogdGhpcy52ZWxvY2l0eTtcclxuICAgICAgICB0aGlzLnlQb3MgKz0gdGhpcy51VmVjRGlyLmdldFkoKSAqIHRoaXMudmVsb2NpdHk7XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tPYmplY3RIaXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnVWZWNEaXIudXBkYXRlRGlyKDE4MCArIE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudVZlY0Rpcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2hlY2tPYmplY3RIaXQoKSB7XHJcbiAgICAgICAgbGV0IHRlbXBVVmVjID0gbmV3IFVuaXRWZWN0b3IodGhpcy51VmVjRGlyLmdldERpckRlZygpKTtcclxuICAgICAgICBsZXQgcHJvak1hZyA9IDAuMDE7XHJcbiAgICAgICAgbGV0IGluY3IgPSA1O1xyXG4gICAgICAgIC8vd2Ugd2FudCB0byBjaGVjayBhIHRpbnkgYml0IG91dHNpZGUgYXJvdW5kIHRoZSB3aG9sZSBjaXJjbGVcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM2MDsgaSArPSBpbmNyKSB7XHJcbiAgICAgICAgICAgIGxldCB4ID0gdGhpcy54UG9zICsgdGVtcFVWZWMuZ2V0WCgpICogKHRoaXMuZGltICsgcHJvak1hZyk7XHJcbiAgICAgICAgICAgIGxldCB5ID0gdGhpcy55UG9zICsgdGVtcFVWZWMuZ2V0WSgpICogKHRoaXMuZGltICsgcHJvak1hZyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnV0aWwuaW5NYXBCbG9jayh4LCB5LCB0aGlzLmFyZWFTdGF0ZS5nZXRNYXAoKSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRlbXBVVmVjLnVwZGF0ZURpcihpbmNyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZHJhdzJEKCkge1xyXG4gICAgICAgIGxldCBjdHggPSB0aGlzLmFyZWFTdGF0ZS5nZXRDYW52YXMyRCgpLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8odGhpcy54UG9zLCB0aGlzLnlQb3MpO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHRoaXMueFBvcywgdGhpcy55UG9zLCB0aGlzLmRpbSwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcbiAgICBnZXRYKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnhQb3M7XHJcbiAgICB9XHJcbiAgICBnZXRZKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnlQb3M7XHJcbiAgICB9XHJcbiAgICBnZXREaXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudVZlY0RpcjtcclxuICAgIH1cclxuICAgIGdldERpbSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kaW07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVXRpbCB9IGZyb20gJy4vVXRpbCc7XHJcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL0J1bGxldFwiO1xyXG5pbXBvcnQgeyBFbmVteU5wYyB9IGZyb20gXCIuL0VuZW15TnBjXCI7XHJcbmV4cG9ydCBjbGFzcyBSYXkge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZVN0YXRlLCBhcmVhU3RhdGUsIHVWZWNEaXIpIHtcclxuICAgICAgICB0aGlzLndhbGtpbmdGcmFtZUNvdW50ID0gMDtcclxuICAgICAgICB0aGlzLndhbGtpbmdGcmFtZUluY3IgPSA0OyAvL2Zvcm11bGEgZm9yIG51bSBvZiB1cCBhbmQgZG93bnMgaXMgMS8oMi93YWxpbmdGcmFtZUluY3IpXHJcbiAgICAgICAgdGhpcy51dGlsID0gbmV3IFV0aWwoKTtcclxuICAgICAgICB0aGlzLnJhbmRZID0gTWF0aC5yYW5kb20oKSAqICgzNTAgLSAwKTsgLy90aGUgc2t5IHdpbGwgbmV2ZXIgYmUgcGFzdCBtaWR3YXkgb2Ygc2NyZWVuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBnYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy5hcmVhU3RhdGUgPSBhcmVhU3RhdGU7XHJcbiAgICAgICAgdGhpcy51VmVjRGlyID0gdVZlY0RpcjtcclxuICAgICAgICAvL2Zsb29yIHdpbGwgYmUgYXQgbWF4IGhhbGYgd2F5IHVwIHRoZSBzY3JlZW4gaS5lIGNhbnZhczNkIGhlaWdodCAvIDJcclxuICAgICAgICBsZXQgY29sb3IgPSB7IHI6IDAsIGc6IDE4MywgYjogMjU1IH07XHJcbiAgICAgICAgdGhpcy5ncmQgPSB0aGlzLmFyZWFTdGF0ZS5nZXRDYW52YXMzRCgpLmdldENvbnRleHQoJzJkJykuY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgdGhpcy5hcmVhU3RhdGUuZ2VDYW52YXN0M0RIZWlnaHQoKSwgMCwgdGhpcy5hcmVhU3RhdGUuZ2VDYW52YXN0M0RIZWlnaHQoKSAvIDIpO1xyXG4gICAgICAgIGxldCBudW1QaXhUb0FkZE5ld1N0b3BDb2xvciA9IDIuNTtcclxuICAgICAgICBsZXQgY29sb3JDaGFuZ2VQZXJTdG9wQ29sb3IgPSAxO1xyXG4gICAgICAgIGxldCBudW1JbmNycyA9IE1hdGguY2VpbCgodGhpcy5hcmVhU3RhdGUuZ2VDYW52YXN0M0RIZWlnaHQoKSAvIDIpIC8gbnVtUGl4VG9BZGROZXdTdG9wQ29sb3IpO1xyXG4gICAgICAgIGxldCBzdG9wQ29sb3JTdGVwID0gMSAvIG51bUluY3JzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtSW5jcnM7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmdyZC5hZGRDb2xvclN0b3AoaSAqIHN0b3BDb2xvclN0ZXAsIGByZ2IoJHtjb2xvci5yfSwgJHtjb2xvci5nfSwgJHtjb2xvci5ifSlgKTtcclxuICAgICAgICAgICAgdGhpcy5hZGp1c3RDb2xvcihjb2xvciwgeyByOiAwLCBnOiAtY29sb3JDaGFuZ2VQZXJTdG9wQ29sb3IsIGI6IC1jb2xvckNoYW5nZVBlclN0b3BDb2xvciAqIDEuNCB9KTsgLy90aGF0ICoxLjQgaXMganVzdCB0aGVyZSBiZWNhdXNlIHRvIGFjYyBkYXJrZW4gZnJvbSBsaWdodCB0byBkYXJrIGJsdWUgdG8gYmxhY2sgdGhlIGIgcGFydCBjaGFuZ2VzIGF0IGEgcmF0ZSBvZiAxLjRcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRFZGdlQ29yZHMoYmxvY2spIHtcclxuICAgICAgICBsZXQgY2VsbFdpZHRoID0gdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCk7XHJcbiAgICAgICAgbGV0IGNlbGxIZWlnaHQgPSB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsSGVpZ2h0KCk7XHJcbiAgICAgICAgbGV0IGJsb2NrWCA9IGNlbGxXaWR0aCAqIGJsb2NrLmdldENvbCgpO1xyXG4gICAgICAgIGxldCBibG9ja1kgPSBjZWxsSGVpZ2h0ICogYmxvY2suZ2V0Um93KCk7XHJcbiAgICAgICAgcmV0dXJuIHsgQzogeyB4OiBibG9ja1gsIHk6IGJsb2NrWSArIGNlbGxIZWlnaHQgfSxcclxuICAgICAgICAgICAgRDogeyB4OiBibG9ja1ggKyBjZWxsV2lkdGgsIHk6IGJsb2NrWSArIGNlbGxIZWlnaHQgfSxcclxuICAgICAgICAgICAgQjogeyB4OiBibG9ja1ggKyBjZWxsV2lkdGgsIHk6IGJsb2NrWSB9LFxyXG4gICAgICAgICAgICBBOiB7IHg6IGJsb2NrWCwgeTogYmxvY2tZIH0gfTtcclxuICAgIH1cclxuICAgIGNoZWNrRWRnZVJheShibG9ja0hpdCkge1xyXG4gICAgICAgIGxldCBlZGdlQ29vcmRzID0gdGhpcy5nZXRFZGdlQ29yZHMoYmxvY2tIaXQpO1xyXG4gICAgICAgIHRoaXMuZWRnZVJheSA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBzdGFydFRvRWRnZVZlYyA9IG51bGw7XHJcbiAgICAgICAgbGV0IHN0YXJ0VG9FZGdlVmVjTWFnID0gbnVsbDtcclxuICAgICAgICBsZXQgYW5nbGVCZXR3ZWVuUmF5QW5kU3RhcnRUb0VkZ2VWZWMgPSBudWxsO1xyXG4gICAgICAgIGxldCBkaXN0QmV0d2VlblJheUVuZEFuZFN0YXJ0VG9FZGdlVmVjRW5kID0gbnVsbDtcclxuICAgICAgICBPYmplY3Qua2V5cyhlZGdlQ29vcmRzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIHN0YXJ0VG9FZGdlVmVjID0geyB4OiBlZGdlQ29vcmRzW2tleV0ueCAtIHRoaXMuZ2FtZVN0YXRlLmdldENlbnRlclgoKSwgeTogZWRnZUNvb3Jkc1trZXldLnkgLSB0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJZKCkgfTtcclxuICAgICAgICAgICAgc3RhcnRUb0VkZ2VWZWNNYWcgPSBNYXRoLnNxcnQoTWF0aC5wb3coc3RhcnRUb0VkZ2VWZWMueCwgMikgKyBNYXRoLnBvdyhzdGFydFRvRWRnZVZlYy55LCAyKSk7XHJcbiAgICAgICAgICAgIC8vZG9pbmcgZG90IHByb2QgdG8gZ2V0IGFuZ2xlIGJldHdlZW4gcmF5IHZlYyBuYWQgc3RhcnQgdG8gZWRnZSB2ZWNcclxuICAgICAgICAgICAgYW5nbGVCZXR3ZWVuUmF5QW5kU3RhcnRUb0VkZ2VWZWMgPSBNYXRoLmFjb3MoKHRoaXMudVZlY0Rpci5nZXRYKCkgKiBzdGFydFRvRWRnZVZlYy54ICsgdGhpcy51VmVjRGlyLmdldFkoKSAqIHN0YXJ0VG9FZGdlVmVjLnkpIC8gKHN0YXJ0VG9FZGdlVmVjTWFnKSkgKiAxODAgLyBNYXRoLlBJO1xyXG4gICAgICAgICAgICAvL2Rpc3QgZm9ybXVsYVxyXG4gICAgICAgICAgICBkaXN0QmV0d2VlblJheUVuZEFuZFN0YXJ0VG9FZGdlVmVjRW5kID0gTWF0aC5zcXJ0KE1hdGgucG93KChlZGdlQ29vcmRzW2tleV0ueCAtIHRoaXMuZW5kWCksIDIpICsgTWF0aC5wb3coKGVkZ2VDb29yZHNba2V5XS55IC0gdGhpcy5lbmRZKSwgMikpO1xyXG4gICAgICAgICAgICAvL3NvIGJvdGggdGhlIGFuZ2xlIGJldHdlZW4gdGhlIGN1ciByYXkgYW5kIHRoZSBwcm9qZWN0ZWQgcmF5IGZyb20gZW5kZ2UgdG8gc3RhcnQgaGFzIHRvIGJlIHdpdGhpbiBhIGxpbWl0IEJVVCBBTFNPXHJcbiAgICAgICAgICAgIC8vdGhlIGRpc3QgYi93IGVuZCBvZiByYXkgYW5kIGVhY2ggZWRnZSBoYXMgdG8gYmUgd2l0aGluIGEgbGltaXQgdG9vXHJcbiAgICAgICAgICAgIGlmIChhbmdsZUJldHdlZW5SYXlBbmRTdGFydFRvRWRnZVZlYyA8PSAwLjEgJiYgZGlzdEJldHdlZW5SYXlFbmRBbmRTdGFydFRvRWRnZVZlY0VuZCA8PSAzLjUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRnZVJheSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNhbGN1bGF0ZUNvbGxpc2lvbnNBbmRJZkVkZ2UoKSB7XHJcbiAgICAgICAgbGV0IGN1clggPSB0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJYKCk7XHJcbiAgICAgICAgbGV0IGN1clkgPSB0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJZKCk7XHJcbiAgICAgICAgdGhpcy5idWxsZXRDb2xsaXNpb25BcnJheSA9IFtdO1xyXG4gICAgICAgIHRoaXMuZW5lbXlOcGNDb2xsaXNpb25BcnJheSA9IFtdO1xyXG4gICAgICAgIGxldCBidWxsZXRzID0gdGhpcy5nYW1lU3RhdGUuZ2V0QWxsQnVsbGV0cygpO1xyXG4gICAgICAgIGxldCBlbmVteU5wY3MgPSB0aGlzLmdhbWVTdGF0ZS5nZXRBbGxFbmVtaWVzKCk7XHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLnV0aWwuaW5NYXBCbG9jayhjdXJYLCBjdXJZLCB0aGlzLmFyZWFTdGF0ZS5nZXRNYXAoKSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGJ1bGxldHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBidWxsZXQgPSBidWxsZXRzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguc3FydChNYXRoLnBvdygoY3VyWCAtIGJ1bGxldC5nZXRYKCkpLCAyKSArIE1hdGgucG93KChjdXJZIC0gYnVsbGV0LmdldFkoKSksIDIpKSA8IGJ1bGxldC5nZXREaW0oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0Q29sbGlzaW9uQXJyYXkucHVzaCh7IGNvbGxpc2lvblg6IGN1clgsIGNvbGxpc2lvblk6IGN1clksIG9iamVjdEhpdDogYnVsbGV0LCBsZW5ndGg6IG51bGwgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGVuZW15TnBjcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVuZW15TnBjID0gZW5lbXlOcGNzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguc3FydChNYXRoLnBvdygoY3VyWCAtIGVuZW15TnBjLmdldFgoKSksIDIpICsgTWF0aC5wb3coKGN1clkgLSBlbmVteU5wYy5nZXRZKCkpLCAyKSkgPCBlbmVteU5wYy5nZXREaW0oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbXlOcGNDb2xsaXNpb25BcnJheS5wdXNoKHsgY29sbGlzaW9uWDogY3VyWCwgY29sbGlzaW9uWTogY3VyWSwgb2JqZWN0SGl0OiBlbmVteU5wYywgbGVuZ3RoOiBudWxsIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15TnBjcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VyWCArPSB0aGlzLnVWZWNEaXIuZ2V0WCgpIC8gNDtcclxuICAgICAgICAgICAgY3VyWSArPSB0aGlzLnVWZWNEaXIuZ2V0WSgpIC8gNDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbmRYID0gY3VyWDtcclxuICAgICAgICB0aGlzLmVuZFkgPSBjdXJZO1xyXG4gICAgICAgIGxldCBjdXJCbG9jayA9IHRoaXMudXRpbC5nZXRNYXBCbG9ja0Zyb21Db29yZChjdXJYLCBjdXJZLCB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsV2lkdGgoKSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbEhlaWdodCgpKTtcclxuICAgICAgICBsZXQgYmxvY2tIaXQgPSB0aGlzLmFyZWFTdGF0ZS5nZXRNYXAoKS5nZXRCbG9ja3MoKVtjdXJCbG9jay5yb3ddW2N1ckJsb2NrLmNvbF07XHJcbiAgICAgICAgdGhpcy5jaGVja0VkZ2VSYXkoYmxvY2tIaXQpO1xyXG4gICAgfVxyXG4gICAgZ2V0QWRqdXN0ZWRMZW5ndGgoZW5kWCwgZW5kWSkge1xyXG4gICAgICAgIGxldCByYXlMZW4gPSBNYXRoLnNxcnQoTWF0aC5wb3coKHRoaXMuZ2FtZVN0YXRlLmdldENlbnRlclgoKSAtIGVuZFgpLCAyKSArIE1hdGgucG93KCh0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJZKCkgLSBlbmRZKSwgMikpO1xyXG4gICAgICAgIC8vbGluIGFsZyBlcW4gaS5lIGRvdCBwcm9kIG9mIHR3byB2ZWNzIC8gcHJvZCBvZiB0aGVpciBtYWduaXR1cmUgPSBjb3Mgb2YgYW5nbGUgYmV0d2VlbiBlbSAobWFnIG9mIGJvdGggaGVyZSBpcyAxIHRobylcclxuICAgICAgICBsZXQgY29zVGhldGEgPSB0aGlzLnVWZWNEaXIuZ2V0WCgpICogdGhpcy5nYW1lU3RhdGUuZ2V0Q2VudGVyRGlyKCkuZ2V0WCgpICsgdGhpcy51VmVjRGlyLmdldFkoKSAqIHRoaXMuZ2FtZVN0YXRlLmdldENlbnRlckRpcigpLmdldFkoKTtcclxuICAgICAgICByZXR1cm4gcmF5TGVuICogY29zVGhldGE7XHJcbiAgICB9XHJcbiAgICBwZXJmb3JtUmF5Q2FsY3VsYXRpb25zKG5ld1VWZWNEaXIpIHtcclxuICAgICAgICB0aGlzLnVWZWNEaXIgPSBuZXdVVmVjRGlyO1xyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQ29sbGlzaW9uc0FuZElmRWRnZSgpO1xyXG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5nZXRBZGp1c3RlZExlbmd0aCh0aGlzLmVuZFgsIHRoaXMuZW5kWSk7XHJcbiAgICAgICAgdGhpcy5idWxsZXRDb2xsaXNpb25BcnJheS5mb3JFYWNoKGNvbGwgPT4gY29sbC5sZW5ndGggPSB0aGlzLmdldEFkanVzdGVkTGVuZ3RoKGNvbGwuY29sbGlzaW9uWCwgY29sbC5jb2xsaXNpb25ZKSk7XHJcbiAgICAgICAgdGhpcy5lbmVteU5wY0NvbGxpc2lvbkFycmF5LmZvckVhY2goY29sbCA9PiBjb2xsLmxlbmd0aCA9IHRoaXMuZ2V0QWRqdXN0ZWRMZW5ndGgoY29sbC5jb2xsaXNpb25YLCBjb2xsLmNvbGxpc2lvblkpKTtcclxuICAgICAgICAvL3dhbGtpbmcgZnJhbWUgaW5jciBjb250cm9scyBob3cgbWFueSBwaXggdGhlIHNjcmVlbiBtb3ZlcyB1cCBhbmQgZG93biBwZXIgZnJhbWUgKHNvIHdhbGtpbmcgY291bnQgaXMgYi93IG9zc2NpbGF0ZXMgYi93IDAgYW5kIDYwKSB3aGlsZSBwbGF5ZXIgbW92ZXNcclxuICAgICAgICAvL3NvIG5lZWQgdG8gc2V0IGl0IGRpZmZlcmVudCBkZXAgb24gaWYgY3JvdWNoaW5nLCB3YWxraW5nIG9yIHJ1bm5pbmdcclxuICAgICAgICAvL2ZpcnN0IG5vcm1hbHppZSB3YWxraWduIGZyYW1lIGluY3IgdG8gMSBhbmQgdGhlbiBtdWx0aXAgYnkgZmFjdG9yXHJcbiAgICAgICAgLy9jYW50IGp1c3Qgc2F5ID0gMyBvciA9IDYgY2F1c2UgdGhleSBtaWdodGEgYmVlbiBhIG5lZyBudW0gYmVmb3JlXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlLmlzUGxheWVyQ3JvdWNoaW5nKCkpIHtcclxuICAgICAgICAgICAgdGhpcy53YWxraW5nRnJhbWVJbmNyID0gdGhpcy53YWxraW5nRnJhbWVJbmNyIC8gTWF0aC5hYnModGhpcy53YWxraW5nRnJhbWVJbmNyKTtcclxuICAgICAgICAgICAgdGhpcy53YWxraW5nRnJhbWVJbmNyICo9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ2FtZVN0YXRlLmlzUGxheWVyUnVubmluZygpKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa2luZ0ZyYW1lSW5jciA9IHRoaXMud2Fsa2luZ0ZyYW1lSW5jciAvIE1hdGguYWJzKHRoaXMud2Fsa2luZ0ZyYW1lSW5jcik7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa2luZ0ZyYW1lSW5jciAqPSA4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy53YWxraW5nRnJhbWVJbmNyID0gdGhpcy53YWxraW5nRnJhbWVJbmNyIC8gTWF0aC5hYnModGhpcy53YWxraW5nRnJhbWVJbmNyKTtcclxuICAgICAgICAgICAgdGhpcy53YWxraW5nRnJhbWVJbmNyICo9IDQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5nYW1lU3RhdGUuaXNQbGF5ZXJNb3ZpbmcoKSkge1xyXG4gICAgICAgICAgICB0aGlzLndhbGtpbmdGcmFtZUNvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy53YWxraW5nRnJhbWVDb3VudCA8PSA2MCAmJiB0aGlzLndhbGtpbmdGcmFtZUNvdW50ID49IDApIHtcclxuICAgICAgICAgICAgdGhpcy53YWxraW5nRnJhbWVDb3VudCArPSB0aGlzLndhbGtpbmdGcmFtZUluY3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLndhbGtpbmdGcmFtZUluY3IgKj0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa2luZ0ZyYW1lQ291bnQgKz0gdGhpcy53YWxraW5nRnJhbWVJbmNyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRyYXdSYXkyRCgpIHtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcy5hcmVhU3RhdGUuZ2V0Q2FudmFzMkQoKS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJEaXIoKS5nZXREaXJSYWQoKSA9PSB0aGlzLnVWZWNEaXIuZ2V0RGlyUmFkKCkpIHsgLy90aGlzIGlzIHRoZSBjZW50ZXIgY29sXHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiI0ZGMDAwMFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJYKCksIHRoaXMuZ2FtZVN0YXRlLmdldENlbnRlclkoKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuYnVsbGV0Q29sbGlzaW9uQXJyYXkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmx1ZSc7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy5idWxsZXRDb2xsaXNpb25BcnJheVswXS5jb2xsaXNpb25YLCB0aGlzLmJ1bGxldENvbGxpc2lvbkFycmF5WzBdLmNvbGxpc2lvblkpO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdncmVlbic7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy5lbmRYLCB0aGlzLmVuZFkpO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy5lbmRYLCB0aGlzLmVuZFkpO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRqdXN0Q29sb3Ioc3RhcnRDb2xvciwgY29sb3JDaGFuZ2UpIHtcclxuICAgICAgICBzdGFydENvbG9yLnIgPSBNYXRoLm1heChzdGFydENvbG9yLnIgKyBjb2xvckNoYW5nZS5yLCAwKTtcclxuICAgICAgICBzdGFydENvbG9yLmcgPSBNYXRoLm1heChzdGFydENvbG9yLmcgKyBjb2xvckNoYW5nZS5nLCAwKTtcclxuICAgICAgICBzdGFydENvbG9yLmIgPSBNYXRoLm1heChzdGFydENvbG9yLmIgKyBjb2xvckNoYW5nZS5iLCAwKTtcclxuICAgIH1cclxuICAgIGRyYXdSYXkzRChzbGljZVdpZHRoLCBzbGljZUNvbCkge1xyXG4gICAgICAgIGxldCBjdHggPSB0aGlzLmFyZWFTdGF0ZS5nZXRDYW52YXMzRCgpLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgbGV0IGNhbnZhczNESGVpZ2h0ID0gdGhpcy5hcmVhU3RhdGUuZ2VDYW52YXN0M0RIZWlnaHQoKTtcclxuICAgICAgICAvL2Nyb3VjaGluZyBhbmQgcnVubmluZyBhbmltYXRpb25cclxuICAgICAgICBsZXQgY3JvdWNoaW5nUGl4aGlmdCA9IC0zMDA7XHJcbiAgICAgICAgbGV0IGNyb3VjaGluZ0ZhY3RvciA9IGNyb3VjaGluZ1BpeGhpZnQgKiAoMSAvICh0aGlzLmxlbmd0aCAvIDEyKSk7IC8vbmVlZCB0byBmYWN0b3IgaW4gbGVuZ3RoIG9mIHJheSBiZWNhdXNlIGNsc29lciBzdHVmZiBnZXRzIG1vcmUgdGFsbCB0aGFuIHN0dWZmIHRoYXRzIGZ1cnRoZXIgYXdheVxyXG4gICAgICAgIGxldCB3YWxraW5nRmFjdG9yID0gdGhpcy53YWxraW5nRnJhbWVDb3VudCAvIDEwO1xyXG4gICAgICAgIC8vY2FsY3VsYXRpbmcgY2VpbGluZyBhbmQgZmxvb3IgZ2l2ZW4gbGVuZ3RoIG9mIHJheSArIHdhbGtpbmcgYW5kIGNyb3VjaGluZyBhbmltYXRpb25cclxuICAgICAgICBsZXQgY2VpbGluZyA9IGNhbnZhczNESGVpZ2h0IC8gMiAtIGNhbnZhczNESGVpZ2h0IC8gKHRoaXMubGVuZ3RoIC8gMTIpICsgKHRoaXMuZ2FtZVN0YXRlLmlzUGxheWVyQ3JvdWNoaW5nKCkgPyBjcm91Y2hpbmdGYWN0b3IgOiAwKSArIHdhbGtpbmdGYWN0b3I7XHJcbiAgICAgICAgbGV0IGZsb29yID0gY2FudmFzM0RIZWlnaHQgLSBjZWlsaW5nICsgd2Fsa2luZ0ZhY3RvciAqIDIgKyAodGhpcy5nYW1lU3RhdGUuaXNQbGF5ZXJDcm91Y2hpbmcoKSA/IGNyb3VjaGluZ0ZhY3RvciAqIDIgOiAwKTtcclxuICAgICAgICBsZXQgZGlzdEZyb21DZWlsVG9GbG9vciA9IGZsb29yIC0gY2VpbGluZztcclxuICAgICAgICAvL1NLWSBDT0xVTU5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcclxuICAgICAgICBjdHguZmlsbFJlY3QoKChzbGljZUNvbCkgKiBzbGljZVdpZHRoKSwgMCwgc2xpY2VXaWR0aCwgY2VpbGluZyk7XHJcbiAgICAgICAgLy9TVEFSUyBJTiBTS1lcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdCgoc2xpY2VDb2wpICogc2xpY2VXaWR0aCwgdGhpcy5yYW5kWSwgMSwgMSk7XHJcbiAgICAgICAgLy93YWxsIHNoYWRpbmcgYmFzZWQgb24gcmF5IGxlbmd0aFxyXG4gICAgICAgIGxldCBjb2xvciA9IHsgcjogMTc1LCBnOiAxNzUsIGI6IDE3NSB9O1xyXG4gICAgICAgIHRoaXMuYWRqdXN0Q29sb3IoY29sb3IsIHsgcjogLXRoaXMubGVuZ3RoIC8gMy41LCBnOiAtdGhpcy5sZW5ndGggLyAzLjUsIGI6IC10aGlzLmxlbmd0aCAvIDMuNSB9KTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gYHJnYigke2NvbG9yLnJ9LCAke2NvbG9yLmd9LCAke2NvbG9yLmJ9KWA7XHJcbiAgICAgICAgLy9jb2xvcmluZyBjZW50ZXIgY29sIGFuZCBlZGdlIGNvbHMgZGlmZmVyZW50bHlcclxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5nYW1lU3RhdGUuZ2V0Q2VudGVyRGlyKCkuZ2V0RGlyUmFkKCkgLSB0aGlzLnVWZWNEaXIuZ2V0RGlyUmFkKCkpIDw9IDAuMDA3NSkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjRkYwMDAwXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZWRnZVJheSkge1xyXG4gICAgICAgICAgICBsZXQgY29sb3IgPSB7IHI6IDEyNSwgZzogMTI1LCBiOiAxMjUgfTtcclxuICAgICAgICAgICAgdGhpcy5hZGp1c3RDb2xvcihjb2xvciwgeyByOiAtdGhpcy5sZW5ndGggLyAzLjUsIGc6IC10aGlzLmxlbmd0aCAvIDMuNSwgYjogLXRoaXMubGVuZ3RoIC8gMy41IH0pO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYHJnYigke2NvbG9yLnJ9LCAke2NvbG9yLmd9LCAke2NvbG9yLmJ9KWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vV0FMTCBDT0xVTU5cclxuICAgICAgICBjdHguZmlsbFJlY3QoKChzbGljZUNvbCkgKiBzbGljZVdpZHRoKSwgY2VpbGluZywgc2xpY2VXaWR0aCwgZGlzdEZyb21DZWlsVG9GbG9vcik7XHJcbiAgICAgICAgLy9GTE9PUiBDT0xVTU5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5ncmQ7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KCgoc2xpY2VDb2wpICogc2xpY2VXaWR0aCksIGZsb29yLCBzbGljZVdpZHRoLCBjYW52YXMzREhlaWdodCAtIGZsb29yKTtcclxuICAgICAgICAvL0JVTExFVCArIEVORU1ZIE5QQyBDT0xVTU5cclxuICAgICAgICAvL2NhbnQgdXNlIHRoZSBjZWlsaW5nIGFuZCBmbG9vciBmcm9tIGFib3ZlIHNpbmNlIHRoZSBjcm91Y2hpbmcgYW5kIHdhbGtpbmcgc2hpZnQgbWVzcyBzdHVmZiB1cFxyXG4gICAgICAgIC8vYWxsIHdlIHJlYWxseSB3YW50IGlzIGEgZmxvb3IgYW5kIGNlaWxpbmcgcmVsIHRvIGNlbnRlciBvZiBzY3JlZW4gYnV0IGNyb3VjaGlnbiBzaGlmdCBtYWtlcyBzdHVmZiBvZmYgY2VudGVyXHJcbiAgICAgICAgLy9jbG9zZXIgc3R1ZmYgd2lsbCBnbyB1cCBtb3JlIHRoYW4gZmFydGhlciBzdHVmZiBhbmQgYmUgZXZlbiBtb3JlIG9mZiBjZW50ZXJcclxuICAgICAgICBsZXQgY2VpbCA9IGNhbnZhczNESGVpZ2h0IC8gMiAtIGNhbnZhczNESGVpZ2h0IC8gKHRoaXMubGVuZ3RoIC8gMTIpICsgd2Fsa2luZ0ZhY3RvcjtcclxuICAgICAgICBsZXQgZmxyID0gY2FudmFzM0RIZWlnaHQgLSBjZWlsICsgd2Fsa2luZ0ZhY3RvciAqIDI7XHJcbiAgICAgICAgbGV0IGNvbGxpc2lvbk9iamVjdHMgPSB0aGlzLmJ1bGxldENvbGxpc2lvbkFycmF5LmNvbmNhdCh0aGlzLmVuZW15TnBjQ29sbGlzaW9uQXJyYXkpO1xyXG4gICAgICAgIGNvbGxpc2lvbk9iamVjdHMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYS5sZW5ndGggPCBiLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYS5sZW5ndGggPiBiLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbGxpc2lvbk9iamVjdHMuZm9yRWFjaChjb2xsID0+IHtcclxuICAgICAgICAgICAgbGV0IG1pZCA9IChmbHIgLSBjZWlsKSAvIDIgKyBjZWlsO1xyXG4gICAgICAgICAgICBsZXQgbGVuZ3RoVG9Db2xsaWRlZE9iaiA9IGNvbGwubGVuZ3RoICE9IG51bGwgPyBjb2xsLmxlbmd0aCA6IDEwOyAvL3NhZmV0eSBtZWNoXHJcbiAgICAgICAgICAgIGxldCBjcm91Y2hlZE9ialNoaWZ0ID0gY3JvdWNoaW5nUGl4aGlmdCAqICgxIC8gKGxlbmd0aFRvQ29sbGlkZWRPYmogLyAxMikpO1xyXG4gICAgICAgICAgICBsZXQgc2hpZnRGcm9tTWlkID0gLTE7XHJcbiAgICAgICAgICAgIGxldCBzaGlmdEZyb21NaWRDZWlsaW5nRmFjdG9yID0gMTtcclxuICAgICAgICAgICAgbGV0IGNvbG9yID0geyByOiAwLCBnOiAwLCBiOiAwIH07XHJcbiAgICAgICAgICAgIC8vQlVMTEVUIFNQRUNJRklDXHJcbiAgICAgICAgICAgIGlmIChjb2xsLm9iamVjdEhpdCBpbnN0YW5jZW9mIEJ1bGxldCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNyb3VjaGVkQnVsbGV0ID0gY29sbC5vYmplY3RIaXQuZ2V0Q3JvdWNoZWRCdWxsZXQoKTtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5nYW1lU3RhdGUuaXNQbGF5ZXJDcm91Y2hpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcm91Y2hlZEJ1bGxldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWQgKz0gY3JvdWNoZWRPYmpTaGlmdCAqIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY3JvdWNoZWRCdWxsZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlkICs9IGNyb3VjaGVkT2JqU2hpZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2hpZnRGcm9tTWlkID0gY2FudmFzM0RIZWlnaHQgLyAobGVuZ3RoVG9Db2xsaWRlZE9iaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29sbC5vYmplY3RIaXQgaW5zdGFuY2VvZiBFbmVteU5wYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlLmlzUGxheWVyQ3JvdWNoaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaWQgKz0gY3JvdWNoZWRPYmpTaGlmdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNoaWZ0RnJvbU1pZCA9IGNhbnZhczNESGVpZ2h0IC8gKGxlbmd0aFRvQ29sbGlkZWRPYmogLyAxMik7XHJcbiAgICAgICAgICAgICAgICAvL2VuZW15IG5wYyB3aWxsIGJlIDMvNCBvZiB0aGUgd2FsbCB0YWxsIGJ1dCA1Lzh0aCB3aWxsIGJlIGdyZWVuIHBhcnQgYW5kIHRoZSBvdGhlciAxLzggYWJvZSBtaWQgb2Ygd2FsbCB3aWxsIGJlIHJlZCBoZWFkIHBhcnQgaGVuY2UgdGhlIGZhY3RvciBvZiA4IGhlcmVcclxuICAgICAgICAgICAgICAgIHNoaWZ0RnJvbU1pZENlaWxpbmdGYWN0b3IgPSA4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjb2xsaWRlZE9iakNlaWwgPSBtaWQgLSBzaGlmdEZyb21NaWQgLyBzaGlmdEZyb21NaWRDZWlsaW5nRmFjdG9yO1xyXG4gICAgICAgICAgICBsZXQgY29sbGlkZWRPYmpGbG9vciA9IG1pZCArIHNoaWZ0RnJvbU1pZDtcclxuICAgICAgICAgICAgLy9CVUxMRVQgU1BFQ0lGSUNcclxuICAgICAgICAgICAgaWYgKGNvbGwub2JqZWN0SGl0IGluc3RhbmNlb2YgQnVsbGV0KSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IHsgcjogMjI0LCBnOiA4NiwgYjogMCB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGp1c3RDb2xvcihjb2xvciwgeyByOiAtbGVuZ3RoVG9Db2xsaWRlZE9iaiAvIDIsIGc6IC1sZW5ndGhUb0NvbGxpZGVkT2JqIC8gMiAqIDAuNCwgYjogMCB9KTtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KCgoc2xpY2VDb2wpICogc2xpY2VXaWR0aCksIGNvbGxpZGVkT2JqQ2VpbCAtIDAuNSwgc2xpY2VXaWR0aCwgKGNvbGxpZGVkT2JqRmxvb3IgLSBjb2xsaWRlZE9iakNlaWwpICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29sbC5vYmplY3RIaXQgaW5zdGFuY2VvZiBFbmVteU5wYykge1xyXG4gICAgICAgICAgICAgICAgLy9kcmF3aW5nIGEgYmlnZ2VyIGNvbHVtbiBiZWhpbmQgbWFpbiBvbmUgdG8gYmUgYWJsZSB0byBkaXNwbGF5IHRoZSByZWQgaGVhZCBwYXJ0XHJcbiAgICAgICAgICAgICAgICBsZXQgaGVhZENlaWxpbmcgPSBtaWQgLSBzaGlmdEZyb21NaWQgLyAoc2hpZnRGcm9tTWlkQ2VpbGluZ0ZhY3RvciAvIDIpO1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSB7IHI6IDI1NSwgZzogOTgsIGI6IDAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0Q29sb3IoY29sb3IsIHsgcjogLShsZW5ndGhUb0NvbGxpZGVkT2JqIC8gMiksIGc6IC1sZW5ndGhUb0NvbGxpZGVkT2JqIC8gMiAqIDAuNCwgYjogMCB9KTtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBgcmdiKCR7Y29sb3Iucn0sICR7Y29sb3IuZ30sICR7Y29sb3IuYn0pYDtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgoKHNsaWNlQ29sKSAqIHNsaWNlV2lkdGgpLCBoZWFkQ2VpbGluZywgc2xpY2VXaWR0aCwgKGNvbGxpZGVkT2JqRmxvb3IgLSBoZWFkQ2VpbGluZykpO1xyXG4gICAgICAgICAgICAgICAgLy9saXR0bGUgYmxhY2sgbGluZSBhdCBib3R0b20ganVzdCBmb3IgYm9yZGVyXHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KCgoc2xpY2VDb2wpICogc2xpY2VXaWR0aCksIGNvbGxpZGVkT2JqQ2VpbCwgc2xpY2VXaWR0aCwgKGNvbGxpZGVkT2JqRmxvb3IgLSBjb2xsaWRlZE9iakNlaWwpICsgMC41KTtcclxuICAgICAgICAgICAgICAgIC8vZ3JlZW4gcGFydC9ib2R5IGNvbG9yaW5nXHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IHsgcjogMCwgZzogMjE5LCBiOiAyMiB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGp1c3RDb2xvcihjb2xvciwgeyByOiAwLCBnOiAtbGVuZ3RoVG9Db2xsaWRlZE9iaiAvIDIsIGI6IC1sZW5ndGhUb0NvbGxpZGVkT2JqIC8gMiAqIDAuMSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYHJnYigke2NvbG9yLnJ9LCAke2NvbG9yLmd9LCAke2NvbG9yLmJ9KWA7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgoKHNsaWNlQ29sKSAqIHNsaWNlV2lkdGgpLCBjb2xsaWRlZE9iakNlaWwsIHNsaWNlV2lkdGgsIGNvbGxpZGVkT2JqRmxvb3IgLSBjb2xsaWRlZE9iakNlaWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFyZWFTdGF0ZSB9IGZyb20gXCIuL0FyZWFTdGF0ZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0NvbnRyb2wgfSBmcm9tIFwiLi9BdWRpb0NvbnRyb2xcIjtcclxuaW1wb3J0IHsgQmxvY2tUeXBlIH0gZnJvbSBcIi4vTW9kZWwvRUJsb2NrVHlwZVwiO1xyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lU3RhdGVcIjtcclxuaW1wb3J0IHsgUmF5cyB9IGZyb20gXCIuL1JheXNcIjtcclxubGV0IGNhbnZhczJEID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbnZhc0xlZnQnKTtcclxubGV0IGNhbnZhczNEID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbnZhc1JpZ2h0Jyk7XHJcbi8vaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1kblJYX2JIYllncyBnb3QgYXVkaW8gZnJvbSBoZXJlXHJcbi8vYXVkaW8gaW5pdGlhbCB2YWx1ZXNcclxubGV0IG1vdmVtZW50QXVkaW9Db250cm9sID0gbmV3IEF1ZGlvQ29udHJvbCgnbW92ZW1lbnRBdWRpb0VsZW0nKTtcclxubGV0IHNob290aW5nQXVkaW9Db250cm9sID0gbmV3IEF1ZGlvQ29udHJvbCgnc2hvb3RpbmdBdWRpb0VsZW0nLCAxLCBmYWxzZSwgMSk7XHJcbmxldCBtYXBUZW1wbGF0ZSA9IFtcclxuICAgIFtCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsXSxcclxuICAgIFtCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGxdLFxyXG4gICAgW0Jsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsXSxcclxuICAgIFtCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsXSxcclxuICAgIFtCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsXSxcclxuICAgIFtCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsXSxcclxuICAgIFtCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsXSxcclxuICAgIFtCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsXSxcclxuICAgIFtCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGxdLFxyXG4gICAgW0Jsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGxdLFxyXG5dO1xyXG5jb25zdCBBU3RhdGUgPSBuZXcgQXJlYVN0YXRlKGNhbnZhczJELCBjYW52YXMzRCwgbWFwVGVtcGxhdGUpO1xyXG5jb25zdCBHU3RhdGUgPSBuZXcgR2FtZVN0YXRlKEFTdGF0ZSwgbW92ZW1lbnRBdWRpb0NvbnRyb2wsIHNob290aW5nQXVkaW9Db250cm9sKTtcclxuY29uc3QgcmF5cyA9IG5ldyBSYXlzKEdTdGF0ZSwgQVN0YXRlKTtcclxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7XHJcbi8vICAgICB2YXIgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuLy8gICAgIGNvbnNvbGUubG9nKGUuY2xpZW50WCAtIHJlY3QubGVmdCwgZS5jbGllbnRZIC0gcmVjdC50b3ApO1xyXG4vLyB9KTtcclxuZnVuY3Rpb24gY2xlYXJDYW52YXMoY2FudmFzKSB7XHJcbiAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbn1cclxuZnVuY3Rpb24gbWFpbigpIHtcclxuICAgIGNsZWFyQ2FudmFzKGNhbnZhczJEKTtcclxuICAgIGNsZWFyQ2FudmFzKGNhbnZhczNEKTtcclxuICAgIEFTdGF0ZS5kcmF3TWFwKCk7XHJcbiAgICBHU3RhdGUuZHJhd1BsYXllcjJEKCk7XHJcbiAgICByYXlzLnNldHVwUmF5cygpO1xyXG4gICAgcmF5cy5kcmF3MkQoKTtcclxuICAgIEdTdGF0ZS5jaGVja0V4dGVybmFsQ29sbGlzaW9ucygpO1xyXG4gICAgR1N0YXRlLnVwZGF0ZUJ1bGxldHMoKTtcclxuICAgIEdTdGF0ZS51cGRhdGVFbmVteU5wY3MoKTtcclxuICAgIEdTdGF0ZS5kcmF3RW5lbXlOcGNzMkQoKTtcclxuICAgIEdTdGF0ZS5kcmF3QnVsbGV0czJEKCk7XHJcbiAgICByYXlzLmRyYXczRCgpO1xyXG4gICAgR1N0YXRlLmRyYXdQbGF5ZXJDcm9zc2hhaXIoKTtcclxufVxyXG5zZXRJbnRlcnZhbChtYWluLCAxMDAwIC8gNjApO1xyXG4iLCJpbXBvcnQgeyBNYXAgfSBmcm9tIFwiLi9NYXBcIjtcclxuZXhwb3J0IGNsYXNzIEFyZWFTdGF0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXMyRCwgY2FudmFzM0QsIG1hcFRlbXBsYXRlKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMzRCA9IGNhbnZhczNEO1xyXG4gICAgICAgIHRoaXMuY2FudmFzMkQgPSBjYW52YXMyRDtcclxuICAgICAgICB0aGlzLmNlbGxXaWR0aCA9IGNhbnZhczJELndpZHRoIC8gbWFwVGVtcGxhdGVbMF0ubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY2VsbEhlaWdodCA9IGNhbnZhczJELmhlaWdodCAvIG1hcFRlbXBsYXRlLmxlbmd0aDtcclxuICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXAodGhpcy5jZWxsV2lkdGgsIHRoaXMuY2VsbEhlaWdodCwgbWFwVGVtcGxhdGUsIGNhbnZhczJEKTtcclxuICAgIH1cclxuICAgIGdldENhbnZhczJESGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhczJELmhlaWdodDtcclxuICAgIH1cclxuICAgIGdlQ2FudmFzdDNESGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhczNELmhlaWdodDtcclxuICAgIH1cclxuICAgIGdldENhbnZhczJEV2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzMkQud2lkdGg7XHJcbiAgICB9XHJcbiAgICBnZXRDYW52YXMzRFdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhczNELndpZHRoO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2FudmFzMkQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzMkQ7XHJcbiAgICB9XHJcbiAgICBnZXRDYW52YXMzRCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMzRDtcclxuICAgIH1cclxuICAgIGdldENlbGxXaWR0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jZWxsV2lkdGg7XHJcbiAgICB9XHJcbiAgICBnZXRDZWxsSGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNlbGxIZWlnaHQ7XHJcbiAgICB9XHJcbiAgICBnZXRNYXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwO1xyXG4gICAgfVxyXG4gICAgZHJhd01hcCgpIHtcclxuICAgICAgICB0aGlzLm1hcC5kcmF3TWFwKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vUGxheWVyXCI7XHJcbmltcG9ydCB7IFVuaXRWZWN0b3IgfSBmcm9tIFwiLi9Vbml0VmVjdG9yXCI7XHJcbmltcG9ydCB7IEVuZW15TnBjIH0gZnJvbSBcIi4vRW5lbXlOcGNcIjtcclxuaW1wb3J0IHsgVXRpbCB9IGZyb20gXCIuL1V0aWxcIjtcclxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihhcmVhU3RhdGUsIG1vdmVtZW50QXVkaW9Db250cm9sLCBzaG9vdGluZ0F1ZGlvQ29udHJvbCkge1xyXG4gICAgICAgIHRoaXMudXRpbCA9IG5ldyBVdGlsKCk7XHJcbiAgICAgICAgdGhpcy50b3ROdW1FbmVtaWVzSW5XYXZlID0gMTtcclxuICAgICAgICB0aGlzLm51bUVuZW1pZXNSZW1haW5pbmcgPSAxO1xyXG4gICAgICAgIHRoaXMuYXJlYVN0YXRlID0gYXJlYVN0YXRlO1xyXG4gICAgICAgIHRoaXMuZW5lbXlOcGNzID0gW25ldyBFbmVteU5wYygzMDAsIDM1MCwgbmV3IFVuaXRWZWN0b3IoNDUpLCBhcmVhU3RhdGUpXTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoMzAwLCA0MDAsIG5ldyBVbml0VmVjdG9yKDI3MCksIGFyZWFTdGF0ZSwgbW92ZW1lbnRBdWRpb0NvbnRyb2wsIHNob290aW5nQXVkaW9Db250cm9sKTtcclxuICAgIH1cclxuICAgIC8vUGxheWVyIGluZm9cclxuICAgIGlzUGxheWVyTW92aW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllci5pc1BsYXllck1vdmluZygpO1xyXG4gICAgfVxyXG4gICAgaXNQbGF5ZXJDcm91Y2hpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmlzUGxheWVyQ3JvdWNoaW5nKCk7XHJcbiAgICB9XHJcbiAgICBpc1BsYXllclJ1bm5pbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmlzUGxheWVyUnVubmluZygpO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2VudGVyWCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0WE1pZCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2VudGVyWSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0WU1pZCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2VudGVyRGlyKCkge1xyXG4gICAgICAgIGxldCBjZW50ZXJEaXIgPSB0aGlzLnBsYXllci5nZXRVbml0VmVjKCk7XHJcbiAgICAgICAgcmV0dXJuIGNlbnRlckRpcjtcclxuICAgIH1cclxuICAgIC8vRHJhd2luZyBwbGF5ZXIgc3R1ZmZcclxuICAgIGRyYXdQbGF5ZXIyRCgpIHtcclxuICAgICAgICB0aGlzLnBsYXllci5kcmF3MkQoKTtcclxuICAgIH1cclxuICAgIGRyYXdQbGF5ZXJDcm9zc2hhaXIoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuZHJhd0N1cnNvcjNEKCk7XHJcbiAgICB9XHJcbiAgICAvL1VwZGF0aW5nIGJ1bGxldHMgcG9zaXRpb25cclxuICAgIC8vYnVsbGV0IG9ubHkgcmVzcG9uc2libGUgZm9yIGl0cyBvd24gY29sbGlzaW9uIHdpdGggd2FsbFxyXG4gICAgdXBkYXRlQnVsbGV0cygpIHtcclxuICAgICAgICBsZXQgYnVsbGV0cyA9IHRoaXMucGxheWVyLmdldEJ1bGxldHMoKS5zbGljZSgwKTtcclxuICAgICAgICBidWxsZXRzLmZvckVhY2goKGJ1bGxldCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBidWxsZXQubW92ZUJ1bGxldCgpO1xyXG4gICAgICAgICAgICBpZiAoYnVsbGV0LmNoZWNrV2FsbEhpdCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZW1vdmVCdWxsZXRzKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvL2RyYXdpbmcgYnVsbGV0c1xyXG4gICAgZHJhd0J1bGxldHMyRCgpIHtcclxuICAgICAgICB0aGlzLnBsYXllci5nZXRCdWxsZXRzKCkuZm9yRWFjaChidWxsZXQgPT4gYnVsbGV0LmRyYXcyRCgpKTtcclxuICAgIH1cclxuICAgIC8vVXBkYXRpbmcgZW5lbXkgbnBjcyBwb3NpdGlvblxyXG4gICAgLy9lbmVteSBvbmx5IHJlc3BvbnNpYmxlIGZvciBpdHMgb3duIGNvbGxpc2lvbiB3aXRoIHdhbGxcclxuICAgIHVwZGF0ZUVuZW15TnBjcygpIHtcclxuICAgICAgICB0aGlzLmVuZW15TnBjcy5mb3JFYWNoKGVuZW15ID0+IHtcclxuICAgICAgICAgICAgZW5lbXkubW92ZSh0aGlzLnBsYXllci5nZXRYTWlkKCksIHRoaXMucGxheWVyLmdldFlNaWQoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBkcmF3RW5lbXlOcGNzMkQoKSB7XHJcbiAgICAgICAgdGhpcy5lbmVteU5wY3MuZm9yRWFjaChlbmVteU5wYyA9PiBlbmVteU5wYy5kcmF3MkQoKSk7XHJcbiAgICB9XHJcbiAgICAvL0VudGl0eSBnZXR0ZXJzXHJcbiAgICBnZXRBbGxCdWxsZXRzKCkge1xyXG4gICAgICAgIGxldCBidWxsZXRzID0gdGhpcy5wbGF5ZXIuZ2V0QnVsbGV0cygpLnNsaWNlKDApO1xyXG4gICAgICAgIHJldHVybiBidWxsZXRzO1xyXG4gICAgfVxyXG4gICAgZ2V0QWxsRW5lbWllcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbmVteU5wY3Muc2xpY2UoMCk7XHJcbiAgICB9XHJcbiAgICAvL0VYVEVSTkFMIENPTExJU0lPTlMgKGIvdyBlbmVteSBhbmQgcGxheWVyIGFuZCBidWxsZXQgYW5kIGVuZW15KVxyXG4gICAgY2hlY2tFeHRlcm5hbENvbGxpc2lvbnMoKSB7XHJcbiAgICAgICAgLy9jaGVja2luZyBlbmVteSB3aXRoIHBsYXllciBjb2xsaXNpb25cclxuICAgICAgICB0aGlzLmVuZW15TnBjcy5mb3JFYWNoKGVuZW15ID0+IHtcclxuICAgICAgICAgICAgbGV0IGRpc3RGcm9tRW5lbXlDZW50ZXJUb1BsYXllckNlbnRlciA9IHRoaXMudXRpbC5kaXN0KHsgeDogZW5lbXkuZ2V0WCgpLCB5OiBlbmVteS5nZXRZKCkgfSwgeyB4OiB0aGlzLnBsYXllci5nZXRYTWlkKCksIHk6IHRoaXMucGxheWVyLmdldFlNaWQoKSB9KTtcclxuICAgICAgICAgICAgaWYgKGRpc3RGcm9tRW5lbXlDZW50ZXJUb1BsYXllckNlbnRlciA8IGVuZW15LmdldERpbSgpICsgMCkgeyAvL3RoZSArIDAgc2hvdWxkIHJlYWxseSBiZSB0aGUgZGltIG9mIHRoZSBwbGF5ZXIgYnV0IGZvciBub3cgdGhlIHBsYXllciBpcyBqdXN0IGEgcG9pbnRcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgYnVsbGV0cyA9IHRoaXMuZ2V0QWxsQnVsbGV0cygpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmVuZW15TnBjcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICBsZXQgZW5lbXkgPSB0aGlzLmVuZW15TnBjc1tpXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBidWxsZXRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnVsbGV0ID0gYnVsbGV0c1tqXTtcclxuICAgICAgICAgICAgICAgIGxldCBkaXN0RnJvbUVuZW15Q2VudGVyVG9CdWxsZXRDZW50ZXIgPSB0aGlzLnV0aWwuZGlzdCh7IHg6IGVuZW15LmdldFgoKSwgeTogZW5lbXkuZ2V0WSgpIH0sIHsgeDogYnVsbGV0LmdldFgoKSwgeTogYnVsbGV0LmdldFkoKSB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChkaXN0RnJvbUVuZW15Q2VudGVyVG9CdWxsZXRDZW50ZXIgPCAoZW5lbXkuZ2V0RGltKCkgKyBidWxsZXQuZ2V0RGltKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmVteU5wY3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJlbW92ZUJ1bGxldHMoaik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5udW1FbmVtaWVzUmVtYWluaW5nLS07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy9uZXcgd2F2ZVxyXG4gICAgICAgIGlmICh0aGlzLm51bUVuZW1pZXNSZW1haW5pbmcgPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy50b3ROdW1FbmVtaWVzSW5XYXZlKys7XHJcbiAgICAgICAgICAgIHRoaXMubnVtRW5lbWllc1JlbWFpbmluZyA9IHRoaXMudG90TnVtRW5lbWllc0luV2F2ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRvdE51bUVuZW1pZXNJbldhdmU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJhbmRvbUJsb2NrID0gdGhpcy5hcmVhU3RhdGUuZ2V0TWFwKCkuZ2V0UmFuZG9tRW1wdHlCbG9jaygpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJhbmRvbVBvc2l0aW9uID0geyBjb2w6IHJhbmRvbUJsb2NrLmNvbCwgcm93OiByYW5kb21CbG9jay5yb3cgfTtcclxuICAgICAgICAgICAgICAgIGxldCByYW5kb21Qb3NYWSA9IHRoaXMudXRpbC5nZXRYWUZyb21NYXBCbG9jayhyYW5kb21Qb3NpdGlvbiwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZW15TnBjcy5wdXNoKG5ldyBFbmVteU5wYyhyYW5kb21Qb3NYWS54LCByYW5kb21Qb3NYWS55LCBuZXcgVW5pdFZlY3RvcihNYXRoLnJhbmRvbSgpICogMzYwKSwgdGhpcy5hcmVhU3RhdGUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi9SYXlcIjtcclxuaW1wb3J0IHsgVW5pdFZlY3RvciB9IGZyb20gXCIuL1VuaXRWZWN0b3JcIjtcclxuaW1wb3J0IHsgVXRpbCB9IGZyb20gJy4vVXRpbCc7XHJcbmV4cG9ydCBjbGFzcyBSYXlzIHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTdGF0ZSwgYXJlYVN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5yYXlzID0gW107XHJcbiAgICAgICAgdGhpcy5mb3YgPSA5MDtcclxuICAgICAgICB0aGlzLmRpc3RUb1Byb2plY3Rpb24gPSAzNTA7XHJcbiAgICAgICAgdGhpcy51dGlsID0gbmV3IFV0aWwoKTtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IGdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLmFyZWFTdGF0ZSA9IGFyZWFTdGF0ZTtcclxuICAgIH1cclxuICAgIC8vc29tZSByZXNvdXJjZXMgdXNlZDpcclxuICAgIC8vaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQxNzM5NjYvcmF5Y2FzdGluZy1lbmdpbmUtcmVuZGVyaW5nLWNyZWF0aW5nLXNsaWdodC1kaXN0b3J0aW9uLWluY3JlYXNpbmctdG93YXJkcy1lZGdlc1xyXG4gICAgLy9odHRwczovL2dhbWVkZXYuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzE1Njg0Mi9ob3ctY2FuLWktY29ycmVjdC1hbi11bndhbnRlZC1maXNoZXllLWVmZmVjdC13aGVuLWRyYXdpbmctYS1zY2VuZS13aXRoLXJheWNhc3Rpbi8xNTY4NTMjMTU2ODUzXHJcbiAgICAvL2h0dHBzOi8vZ2FtZWRldi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvOTc1NzQvaG93LWNhbi1pLWZpeC10aGUtZmlzaGV5ZS1kaXN0b3J0aW9uLWluLW15LXJheWNhc3QtcmVuZGVyZXJcclxuICAgIC8vaHR0cHM6Ly93d3cuZ2FtZWRldi5uZXQvZm9ydW1zL3RvcGljLzI3MjUyNi1yYXljYXN0aW5nLS0tLWZpc2hleWUtZGlzdG9ydGlvbi8/cGFnZT0xXHJcbiAgICAvL3NvIHRoZXJlcyB0d28gZWZmZWN0cywgb25lIGlzIHRoZSBmaXNoZXllIGNvcnJlY3Rpb24gYnV0IGFub3RoZXIgaXMgdGhlIG5vbiBsaW5lYXJpdHkgb2YgYW5nbGUgaW5jcmVhc2VzIGJldHdlZW4gcmF5c1xyXG4gICAgc2V0dXBSYXlzKCkge1xyXG4gICAgICAgIGxldCBjZW50ZXJVVmVjID0gdGhpcy5nYW1lU3RhdGUuZ2V0Q2VudGVyRGlyKCk7XHJcbiAgICAgICAgdGhpcy5kaXN0VG9Qcm9qZWN0aW9uID0gdGhpcy5hcmVhU3RhdGUuZ2V0Q2FudmFzM0RXaWR0aCgpIC8gMiAvIChNYXRoLnRhbih0aGlzLnV0aWwudG9SYWQodGhpcy5mb3YgLyAyKSkpO1xyXG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXJlYVN0YXRlLmdldENhbnZhczNEV2lkdGgoKTsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgIGxldCBhbmcgPSBNYXRoLmF0YW4oKGkgLSB0aGlzLmFyZWFTdGF0ZS5nZXRDYW52YXMzRFdpZHRoKCkgLyAyKSAvIHRoaXMuZGlzdFRvUHJvamVjdGlvbikgKyBjZW50ZXJVVmVjLmdldERpclJhZCgpO1xyXG4gICAgICAgICAgICBsZXQgdVZlYyA9IG5ldyBVbml0VmVjdG9yKHRoaXMudXRpbC50b0RlZyhhbmcpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmF5c1tjb3VudGVyXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yYXlzW2NvdW50ZXJdLnBlcmZvcm1SYXlDYWxjdWxhdGlvbnModVZlYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3UmF5ID0gbmV3IFJheSh0aGlzLmdhbWVTdGF0ZSwgdGhpcy5hcmVhU3RhdGUsIHVWZWMpO1xyXG4gICAgICAgICAgICAgICAgbmV3UmF5LnBlcmZvcm1SYXlDYWxjdWxhdGlvbnModVZlYyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJheXMucHVzaChuZXdSYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3MkQoKSB7XHJcbiAgICAgICAgdGhpcy5yYXlzLmZvckVhY2gocmF5ID0+IHJheS5kcmF3UmF5MkQoKSk7XHJcbiAgICB9XHJcbiAgICBkcmF3M0QoKSB7XHJcbiAgICAgICAgbGV0IHJheVNsaWNlV2lkdGggPSB0aGlzLmFyZWFTdGF0ZS5nZXRDYW52YXMzRFdpZHRoKCkgLyB0aGlzLnJheXMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMucmF5cy5mb3JFYWNoKChyYXksIGkpID0+IHtcclxuICAgICAgICAgICAgcmF5LmRyYXdSYXkzRChyYXlTbGljZVdpZHRoLCBpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9