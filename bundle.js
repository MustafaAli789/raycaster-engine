/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";class t{constructor(t,e,i){this.row=e,this.col=i,this.blockType=t}getBlockType(){return this.blockType}getRow(){return this.row}getCol(){return this.col}}var e,i;!function(t){t[t.Empty=0]="Empty",t[t.Wall=1]="Wall"}(e||(e={}));class s{constructor(e,i,s,a){this.blocks=new Array,this.canvas=a,this.cellWidth=e,this.cellHeight=i,s&&s.forEach(((e,i)=>{let s=new Array;e.forEach(((e,a)=>{s.push(new t(e,i,a))})),this.blocks.push(s)}))}drawMap(){let t=this.canvas.getContext("2d");this.blocks.forEach(((i,s)=>{i.forEach(((i,a)=>{i.blockType===e.Wall&&(t.beginPath(),t.strokeStyle="black",t.rect(this.cellWidth*a,this.cellHeight*s,this.cellWidth,this.cellHeight),t.stroke())}))}))}getBlocks(){return this.blocks}}class a{constructor(t,e,i,s){this.walkingPlayBackRate=1,this.runningPlayBackRate=2,this.crouchingPlayBackRate=.7,this.walkingVolume=.3,this.runningVolume=.45,this.crouchingVolume=.15,this.playBackRate=e||this.walkingPlayBackRate,this.audio=document.getElementById(t),this.audio.loop=null==i||i,this.volume=s||this.walkingVolume}setAudioData(){this.audio.playbackRate=this.playBackRate,this.audio.volume=this.volume}setPlayBackRate(t){this.playBackRate=t,this.setAudioData()}setVolume(t){this.volume=t,this.setAudioData()}play(){this.audio.play()}stop(){this.audio.pause(),this.audio.currentTime=0}setAudioWalking(){this.playBackRate=this.walkingPlayBackRate,this.volume=this.walkingVolume,this.setAudioData()}setAudioCrouching(){this.playBackRate=this.crouchingPlayBackRate,this.volume=this.crouchingVolume,this.setAudioData()}setAudioRunning(){this.playBackRate=this.runningPlayBackRate,this.volume=this.runningVolume,this.setAudioData()}}class l{constructor(t){this.dir=t,this.x=Math.cos(this.toRad(t)),this.y=Math.sin(this.toRad(t))}updateDir(t){this.dir+=t,this.x=Math.cos(this.toRad(this.dir)),this.y=Math.sin(this.toRad(this.dir))}setDir(t){this.dir=t,this.x=Math.cos(this.toRad(this.dir)),this.y=Math.sin(this.toRad(this.dir))}toRad(t){return t*Math.PI/180}getDirDeg(){return this.dir}getDirRad(){return this.dir*Math.PI/180}getX(){return this.x}getY(){return this.y}}class r{constructor(){}pointInRectangle(t,e){var i=this.vector(e.A,e.B),s=this.vector(e.A,t),a=this.vector(e.B,e.C),l=this.vector(e.B,t),r=this.dot(i,s),o=this.dot(i,i),h=this.dot(a,l),n=this.dot(a,a);return 0<=r&&r<=o&&0<=h&&h<=n}vector(t,e){return{x:e.x-t.x,y:e.y-t.y}}toRad(t){return t*Math.PI/180}toDeg(t){return t/Math.PI*180}dot(t,e){return t.x*e.x+t.y*e.y}getMapBlockFromCoord(t,e,i,s){return{col:Math.ceil(t/i)-1,row:Math.ceil(e/s)-1}}inMapBlock(t,i,s,a,l){return s.getBlocks()[this.getMapBlockFromCoord(t,i,a,l).row][this.getMapBlockFromCoord(t,i,a,l).col].getBlockType()===e.Wall}dist(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}}class o{constructor(t,e,i,s,a){this.velocity=7,this.dim=1.5,this.crouchedBullet=!1,this.util=new r,this.xPos=t,this.yPos=e,this.uVecDir=i,this.areaState=a,this.crouchedBullet=s}moveBullet(){this.xPos+=this.velocity*this.uVecDir.getX(),this.yPos+=this.velocity*this.uVecDir.getY()}checkWallHit(){let t=new l(this.uVecDir.getDirDeg());for(let e=0;e<360;e+=5){let e=this.xPos+t.getX()*(this.dim+.01),i=this.yPos+t.getY()*(this.dim+.01);if(this.util.inMapBlock(e,i,this.areaState.getMap(),this.areaState.getCellWidth(),this.areaState.getCellHeight()))return!0;t.updateDir(5)}return!1}draw2D(){let t=this.areaState.getCanvas2D().getContext("2d");t.fillStyle="grey",t.moveTo(this.xPos,this.yPos),t.beginPath(),t.arc(this.xPos,this.yPos,this.dim,0,2*Math.PI),t.fill()}getX(){return this.xPos}getY(){return this.yPos}getCrouchedBullet(){return this.crouchedBullet}getDim(){return this.dim}}!function(t){t.UP="w",t.LEFT_ROTATION="a",t.DOWN="s",t.RIGHT_ROTATION="d",t.CROUCH="c",t.RUN=" "}(i||(i={}));class h{constructor(t,e,s,a,h,n){this.standingVel=1.5,this.crouchingVel=.75,this.runningVel=3,this.standingAngularVel=9,this.crouchingAngularVel=1.5,this.playerCircleRadius=2,this.keysState={},this.bullets=[],this.util=new r,this.xPos=t,this.yPos=e,this.dirUVec=s,this.movementAudioControl=h,this.shootingAudioControl=n,this.areaState=a,window.addEventListener("click",(()=>{let t=Math.atan((this.curMousePosX-this.areaState.canvas3D.width/2)/350)+this.dirUVec.getDirRad(),e=new l(this.util.toDeg(t));this.bullets.push(new o(this.getXMid(),this.getYMid(),e,this.isPlayerCrouching(),this.areaState)),this.shootingAudioControl.stop(),this.shootingAudioControl.play()})),window.addEventListener("keyup",(t=>{switch(t.key){case i.RUN:this.keysState[i.CROUCH]||(this.movementAudioControl.setAudioWalking(),this.keysState[i.RUN]=!1);break;case i.CROUCH:this.keysState[i.RUN]||(this.movementAudioControl.setAudioWalking(),this.keysState[i.CROUCH]=!1);break;case i.UP:this.keysState[i.DOWN]||(this.movementAudioControl.stop(),clearInterval(this.keysState[i.UP]),this.keysState[i.UP]=null);break;case i.DOWN:this.keysState[i.UP]||(this.movementAudioControl.stop(),clearInterval(this.keysState[i.DOWN]),this.keysState[i.DOWN]=null);break;case i.LEFT_ROTATION:clearInterval(this.keysState[i.LEFT_ROTATION]),this.keysState[i.LEFT_ROTATION]=null;break;case i.RIGHT_ROTATION:clearInterval(this.keysState[i.RIGHT_ROTATION]),this.keysState[i.RIGHT_ROTATION]=null}})),window.addEventListener("mousemove",(t=>{let e=this.areaState.getCanvas3D().getBoundingClientRect(),i=t.clientX-e.left;this.curMousePosX=i})),window.addEventListener("keydown",(t=>{switch(t.key){case i.RUN:this.keysState[i.CROUCH]||(this.movementAudioControl.setAudioRunning(),this.keysState[i.RUN]=!0);break;case i.CROUCH:this.keysState[i.RUN]||(this.movementAudioControl.setAudioCrouching(),this.keysState[i.CROUCH]=!0);break;case i.UP:if(this.keysState[i.DOWN])return;this.keysState[i.CROUCH]||this.keysState[i.RUN]||this.movementAudioControl.setAudioWalking(),this.movementAudioControl.play(),this.keysState[i.UP]||(this.keysState[i.UP]=setInterval((()=>{this.moveForward()}),25));break;case i.DOWN:if(this.keysState[i.UP])return;this.keysState[i.CROUCH]||this.keysState[i.RUN]||this.movementAudioControl.setAudioWalking(),this.movementAudioControl.play(),this.keysState[i.DOWN]||(this.keysState[i.DOWN]=setInterval((()=>{this.moveBackward()}),25));break;case i.LEFT_ROTATION:this.keysState[i.LEFT_ROTATION]||(this.keysState[i.LEFT_ROTATION]=setInterval((()=>{this.rotate("LEFT")}),25));break;case i.RIGHT_ROTATION:this.keysState[i.RIGHT_ROTATION]||(this.keysState[i.RIGHT_ROTATION]=setInterval((()=>{this.rotate("RIGHT")}),25))}}))}isPlayerMoving(){return this.keysState[i.UP]||this.keysState[i.DOWN]}isPlayerCrouching(){return this.keysState[i.CROUCH]}isPlayerRunning(){return this.keysState[i.RUN]}getBullets(){return this.bullets}setBullets(t){this.bullets=t}removeBullets(t){this.bullets.splice(t,1)}rotate(t){let e=this.keysState[i.CROUCH]?this.crouchingAngularVel:this.standingAngularVel;"LEFT"===t?this.dirUVec.updateDir(-e):"RIGHT"===t&&this.dirUVec.updateDir(e)}moveForward(){let t=this.keysState[i.CROUCH]?this.crouchingVel:this.keysState[i.RUN]?this.runningVel:this.standingVel,e=t*this.dirUVec.getX(),s=t*this.dirUVec.getY();this.util.inMapBlock(this.xPos+e,this.yPos+s,this.areaState.getMap(),this.areaState.getCellWidth(),this.areaState.getCellHeight())||(this.yPos+=t*this.dirUVec.getY(),this.xPos+=t*this.dirUVec.getX())}moveBackward(){let t=this.keysState[i.CROUCH]?this.crouchingVel:this.keysState[i.RUN]?this.runningVel:this.standingVel,e=-t*this.dirUVec.getX(),s=-t*this.dirUVec.getY();this.util.inMapBlock(this.xPos+e,this.yPos+s,this.areaState.getMap(),this.areaState.getCellWidth(),this.areaState.getCellHeight())||(this.yPos-=t*this.dirUVec.getY(),this.xPos-=t*this.dirUVec.getX())}reset(){this.xPos=300,this.yPos=400,this.dirUVec.setDir(270)}draw2D(){let t=this.areaState.getCanvas2D().getContext("2d");t.beginPath(),t.arc(this.xPos,this.yPos,this.playerCircleRadius,0,2*Math.PI,!1),t.fillStyle="green",t.fill()}drawCursor3D(){let t=this.areaState.getCanvas3D().getContext("2d"),e=this.areaState.geCanvast3DHeight()/2,i=this.curMousePosX+1,s=e;t.fillStyle="white",t.fillRect(this.curMousePosX,e-10,2,20),t.fillRect(i-10,s-1,20,2),t.setTransform(1,0,0,1,0,0)}getUnitVec(){return this.dirUVec}getXMid(){return this.xPos}getYMid(){return this.yPos}}var n=function(){function t(t){void 0===t&&(t=void 0),this.comparers=t||[]}return t.create=function(){return new t},t.prototype.thenKey=function(t){return this.sortKey(t)},t.prototype.thenKeyDescending=function(t){return this.sortKeyDescending(t)},t.prototype.sortKey=function(e){var i=this.createComparer(e,(function(t,e){return t<e?-1:t>e?1:0})),s=this.comparers.slice();return s.push(i),new t(s)},t.prototype.sortKeyDescending=function(e){var i=this.createComparer(e,(function(t,e){return t<e?1:t>e?-1:0})),s=this.comparers.slice();return s.push(i),new t(s)},t.prototype.createComparer=function(t,e){return function(i,s){var a=t(i),l=t(s);return e(a,l)}},t.prototype.build=function(){var t=this;return function(e,i){for(var s=0,a=t.comparers;s<a.length;s++){var l=(0,a[s])(e,i);if(0!==l)return l}return 0}},t}().create;function c(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}var g,u=function(t,e,i){var s=t[e];t[e]=t[i],t[i]=s};function y(t){var e=[],i=function(e){return function(t,e){var i,s;if(0!==t.length){var a,l=0;try{for(var r=c(t),o=r.next();!o.done;o=r.next()){var h=o.value;a=l++>0?e(h,a)>0?h:a:h}}catch(t){i={error:t}}finally{try{o&&!o.done&&(s=r.return)&&s.call(r)}finally{if(i)throw i.error}}return a}}(e,(function(e,i){var s=e.item,a=i.item;return t(a,s)}))},s={push:function(i){var s=e.length;for(e.push(i);s>0;){var a=s-1>>1;if(!(t(i,e[a])<0))break;u(e,s,a),s=a}},pushRange:function(t){var e,i;try{for(var a=c(t),l=a.next();!l.done;l=a.next()){var r=l.value;s.push(r)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}},pop:function(){if(0===e.length)return null;var s=e[0];e[0]=e[e.length-1],e.length=e.length-1;for(var a=0;;){for(var l=e[a],r=1+(a<<1),o=[],h=0;h<2;++h){var n=r+h;n<e.length&&o.push({item:e[n],index:n})}if(0===o.length)break;var c=i(o);if(!(t(c.item,l)<0))break;u(e,a,c.index),a=c.index}return s},get length(){return e.length}};return s}function p(t){var e=y((function(e,i){var s=t(e.item,i.item);return 0===s?e.order-i.order:s})),i=0,s={push:function(t){return e.push({item:t,order:i++})},pushRange:function(t){var e,i;try{for(var a=c(t),l=a.next();!l.done;l=a.next()){var r=l.value;s.push(r)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}},pop:function(){var t=e.pop();return t?t.item:null},get length(){return e.length}};return s}class d{constructor(t){this.cellStraightDist=1,this.areaState=t,this.areaState.getMap().getBlocks().forEach(((t,i)=>{let s=new Array;t.forEach(((t,a)=>{if(t.getBlockType()===e.Wall)s.push(null);else if(t.getBlockType()===e.Wall){let t={col:a,row:i},e=(this.getXYFromRowCol({col:a,row:i}),null),l=999999;s.push({id:`${t}`,position:t,h_score:e,g_score:l,f_score:999999})}})),this.nodes.push(s)}))}getXYFromRowCol(t){return{x:t.col*this.areaState.getCellWidth()+this.areaState.getCellWidth()/2,y:t.row*this.areaState.getCellHeight()+this.areaState.getCellHeight()/2}}getNodeNeighbours(t,e){let i=[],s=this.getXYFromRowCol(e.position);if(t.position.col>0&&t.position.row>0&&null!=this.nodes[t.position.row-1][t.position.col-1]){let e=this.nodes[t.position.row-1][t.position.col-1];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist+this.cellStraightDist)};i.push(a)}if(t.position.row>0&&null!=this.nodes[t.position.row-1][t.position.col]){let e=this.nodes[t.position.row-1][t.position.col];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist)};i.push(a)}if(t.position.col<this.nodes[0].length-1&&t.position.row>0&&null!=this.nodes[t.position.row-1][t.position.col+1]){let e=this.nodes[t.position.row-1][t.position.col+1];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist+this.cellStraightDist)};i.push(a)}if(t.position.col>0&&null!=this.nodes[t.position.row][t.position.col-1]){let e=this.nodes[t.position.row][t.position.col-1];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist)};i.push(a)}if(t.position.col<this.nodes[0].length-1&&null!=this.nodes[t.position.row][t.position.col+1]){let e=this.nodes[t.position.row][t.position.col+1];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist)};i.push(a)}if(t.position.col>0&&t.position.row<this.nodes.length-1&&null!=this.nodes[t.position.row+1][t.position.col-1]){let e=this.nodes[t.position.row+1][t.position.col-1];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist+this.cellStraightDist)};i.push(a)}if(t.position.row<this.nodes.length-1&&null!=this.nodes[t.position.row+1][t.position.col]){let e=this.nodes[t.position.row+1][t.position.col];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist)};i.push(a)}if(t.position.col<this.nodes[0].length-1&&t.position.row<this.nodes.length-1&&null!=this.nodes[t.position.row+1][t.position.col+1]){let e=this.nodes[t.position.row+1][t.position.col+1];if(null===e.h_score){let i=this.getXYFromRowCol(t.position);e.h_score=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))}let a={node:e,d_val:Math.sqrt(this.cellStraightDist+this.cellStraightDist)};i.push(a)}return i}reconstructPath(t){let e=t;for(this.path.unshift(e);null!=e.parent_Node;)e=e.parent_Node,this.path.unshift(e)}calculatePath(t,e,i,s){const a={id:"start",position:{row:t,col:e},g_score:0,f_score:null,h_score:null},l={id:"end",position:{row:i,col:s},g_score:999999,f_score:999999,h_score:0},r=function(t,e,i){void 0===e&&(e="min"),void 0===i&&(i=!0);var s=n();return(i?p:y)(("min"===e?s.sortKey:s.sortKeyDescending).call(s,(t=>t.f_score)).build())}();r.push(a);let o,h={start:!0};for(;r.length>0;){if(o=r.pop(),h[o.id]=!1,o===l)return this.reconstructPath(l),this.path;this.getNodeNeighbours(o,l).forEach((t=>{let e=o.g_score+t.d_val;e<t.node.g_score&&(t.node.parent_Node=o,t.node.g_score=e,t.node.f_score=t.node.g_score+t.node.h_score,h[t.node.id]||(r.push(t.node),h[t.node.id]=!0))}))}return null}}class m{constructor(t,e,i,s){this.dim=5,this.velocity=2,this.util=new r,this.xPos=t,this.yPos=e,this.uVecDir=i,this.areaState=s,this.searcher=new d(s)}move(t,e){let i=this.util.getMapBlockFromCoord(t,e,this.areaState.getCellWidth(),this.areaState.getCellHeight()),s=this.util.getMapBlockFromCoord(this.xPos,this.yPos,this.areaState.getCellWidth(),this.areaState.getCellHeight());this.searcher.calculatePath(s.row,s.col,i.row,i.col),this.xPos+=this.uVecDir.getX()*this.velocity,this.yPos+=this.uVecDir.getY()*this.velocity,this.checkObjectHit()&&this.uVecDir.updateDir(180+10*Math.random())}checkObjectHit(){let t=new l(this.uVecDir.getDirDeg());for(let e=0;e<360;e+=5){let e=this.xPos+t.getX()*(this.dim+.01),i=this.yPos+t.getY()*(this.dim+.01);if(this.util.inMapBlock(e,i,this.areaState.getMap(),this.areaState.getCellWidth(),this.areaState.getCellHeight()))return!0;t.updateDir(5)}return!1}draw2D(){let t=this.areaState.getCanvas2D().getContext("2d");t.fillStyle="red",t.moveTo(this.xPos,this.yPos),t.beginPath(),t.arc(this.xPos,this.yPos,this.dim,0,2*Math.PI),t.fill()}getX(){return this.xPos}getY(){return this.yPos}getDir(){return this.uVecDir}getDim(){return this.dim}}!function(t){t[t.Player=0]="Player",t[t.Wall=1]="Wall",t[t.Ray=2]="Ray",t[t.None=3]="None"}(g||(g={}));class E{constructor(t,e,i){this.walkingFrameCount=0,this.walkingFrameIncr=4,this.util=new r,this.randY=350*Math.random(),this.gameState=t,this.areaState=e,this.uVecDir=i;let s={r:0,g:183,b:255};this.grd=this.areaState.getCanvas3D().getContext("2d").createLinearGradient(0,this.areaState.geCanvast3DHeight(),0,this.areaState.geCanvast3DHeight()/2);let a=Math.ceil(this.areaState.geCanvast3DHeight()/2/2.5),l=1/a;for(let t=0;t<a;t++)this.grd.addColorStop(t*l,`rgb(${s.r}, ${s.g}, ${s.b})`),this.adjustColor(s,{r:0,g:-1,b:-1.4})}getEdgeCords(t){let e=this.areaState.getCellWidth(),i=this.areaState.getCellHeight(),s=e*t.getCol(),a=i*t.getRow();return{C:{x:s,y:a+i},D:{x:s+e,y:a+i},B:{x:s+e,y:a},A:{x:s,y:a}}}checkEdgeRay(t){let e=this.getEdgeCords(t);this.edgeRay=!1;let i=null,s=null,a=null,l=null;Object.keys(e).forEach((t=>{i={x:e[t].x-this.gameState.getCenterX(),y:e[t].y-this.gameState.getCenterY()},s=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)),a=180*Math.acos((this.uVecDir.getX()*i.x+this.uVecDir.getY()*i.y)/s)/Math.PI,l=Math.sqrt(Math.pow(e[t].x-this.endX,2)+Math.pow(e[t].y-this.endY,2)),a<=.1&&l<=3.5&&(this.edgeRay=!0)}))}calculateCollisionsAndIfEdge(){let t=this.gameState.getCenterX(),e=this.gameState.getCenterY();this.bulletCollisionArray=[],this.enemyNpcCollisionArray=[];let i=this.gameState.getAllBullets(),s=this.gameState.getAllEnemies();for(;!this.util.inMapBlock(t,e,this.areaState.getMap(),this.areaState.getCellWidth(),this.areaState.getCellHeight());){for(let s=i.length-1;s>=0;s--){let a=i[s];Math.sqrt(Math.pow(t-a.getX(),2)+Math.pow(e-a.getY(),2))<a.getDim()&&(this.bulletCollisionArray.push({collisionX:t,collisionY:e,objectHit:a,length:null}),i.splice(s,1))}for(let i=s.length-1;i>=0;i--){let a=s[i];Math.sqrt(Math.pow(t-a.getX(),2)+Math.pow(e-a.getY(),2))<a.getDim()&&(this.enemyNpcCollisionArray.push({collisionX:t,collisionY:e,objectHit:a,length:null}),s.splice(i,1))}t+=this.uVecDir.getX()/4,e+=this.uVecDir.getY()/4}this.endX=t,this.endY=e;let a=this.util.getMapBlockFromCoord(t,e,this.areaState.getCellWidth(),this.areaState.getCellHeight()),l=this.areaState.getMap().getBlocks()[a.row][a.col];this.checkEdgeRay(l)}getAdjustedLength(t,e){return Math.sqrt(Math.pow(this.gameState.getCenterX()-t,2)+Math.pow(this.gameState.getCenterY()-e,2))*(this.uVecDir.getX()*this.gameState.getCenterDir().getX()+this.uVecDir.getY()*this.gameState.getCenterDir().getY())}performRayCalculations(t){this.uVecDir=t,this.calculateCollisionsAndIfEdge(),this.length=this.getAdjustedLength(this.endX,this.endY),this.bulletCollisionArray.forEach((t=>t.length=this.getAdjustedLength(t.collisionX,t.collisionY))),this.enemyNpcCollisionArray.forEach((t=>t.length=this.getAdjustedLength(t.collisionX,t.collisionY))),this.gameState.isPlayerCrouching()?(this.walkingFrameIncr=this.walkingFrameIncr/Math.abs(this.walkingFrameIncr),this.walkingFrameIncr*=2):this.gameState.isPlayerRunning()?(this.walkingFrameIncr=this.walkingFrameIncr/Math.abs(this.walkingFrameIncr),this.walkingFrameIncr*=8):(this.walkingFrameIncr=this.walkingFrameIncr/Math.abs(this.walkingFrameIncr),this.walkingFrameIncr*=4),this.gameState.isPlayerMoving()?(this.walkingFrameCount<=60&&this.walkingFrameCount>=0||(this.walkingFrameIncr*=-1),this.walkingFrameCount+=this.walkingFrameIncr):this.walkingFrameCount=0}drawRay2D(){let t=this.areaState.getCanvas2D().getContext("2d");this.gameState.getCenterDir().getDirRad()==this.uVecDir.getDirRad()?t.strokeStyle="#FF0000":t.strokeStyle="black",t.beginPath(),t.moveTo(this.gameState.getCenterX(),this.gameState.getCenterY()),this.bulletCollisionArray.length>0?(t.strokeStyle="blue",t.lineTo(this.bulletCollisionArray[0].collisionX,this.bulletCollisionArray[0].collisionY),t.stroke(),t.strokeStyle="green",t.lineTo(this.endX,this.endY),t.stroke()):(t.strokeStyle="black",t.lineTo(this.endX,this.endY),t.stroke())}adjustColor(t,e){t.r=Math.max(t.r+e.r,0),t.g=Math.max(t.g+e.g,0),t.b=Math.max(t.b+e.b,0)}drawRay3D(t,e){let i=this.areaState.getCanvas3D().getContext("2d"),s=this.areaState.geCanvast3DHeight(),a=1/(this.length/12)*-300,l=this.walkingFrameCount/10,r=s/2-s/(this.length/12)+(this.gameState.isPlayerCrouching()?a:0)+l,h=s-r+2*l+(this.gameState.isPlayerCrouching()?2*a:0),n=h-r;i.fillStyle="black",i.fillRect(e*t,0,t,r),i.fillStyle="white",i.fillRect(e*t,this.randY,1,1);let c={r:175,g:175,b:175};if(this.adjustColor(c,{r:-this.length/3.5,g:-this.length/3.5,b:-this.length/3.5}),i.fillStyle=`rgb(${c.r}, ${c.g}, ${c.b})`,Math.abs(this.gameState.getCenterDir().getDirRad()-this.uVecDir.getDirRad())<=.0075)i.fillStyle="#FF0000";else if(this.edgeRay){let t={r:125,g:125,b:125};this.adjustColor(t,{r:-this.length/3.5,g:-this.length/3.5,b:-this.length/3.5}),i.fillStyle=`rgb(${t.r}, ${t.g}, ${t.b})`}i.fillRect(e*t,r,t,n),i.fillStyle=this.grd,i.fillRect(e*t,h,t,s-h);let g=s/2-s/(this.length/12)+l,u=s-g+2*l,y=this.bulletCollisionArray.concat(this.enemyNpcCollisionArray);y.sort(((t,e)=>t.length<e.length?1:t.length>e.length?-1:0)),y.forEach((a=>{let l=(u-g)/2+g,r=null!=a.length?a.length:10,h=1/(r/12)*-300,n=-1,c=1,y={r:0,g:0,b:0};if(a.objectHit instanceof o){let t=a.objectHit.getCrouchedBullet();this.gameState.isPlayerCrouching()?t||(l+=h):t&&(l+=-1*h),n=s/r}else a.objectHit instanceof m&&(this.gameState.isPlayerCrouching()&&(l+=h),n=s/(r/12),c=8);let p=l-n/c,d=l+n;if(a.objectHit instanceof o)y={r:224,g:86,b:0},this.adjustColor(y,{r:-r/2,g:-r/2*.4,b:0}),i.fillStyle="white",i.fillRect(e*t,p-.5,t,d-p+1);else if(a.objectHit instanceof m){let s=l-n/(c/2);y={r:255,g:98,b:0},this.adjustColor(y,{r:-r/2,g:-r/2*.4,b:0}),i.fillStyle=`rgb(${y.r}, ${y.g}, ${y.b})`,i.fillRect(e*t,s,t,d-s),i.fillStyle="black",i.fillRect(e*t,p,t,d-p+.5),y={r:0,g:219,b:22},this.adjustColor(y,{r:0,g:-r/2,b:-r/2*.1})}i.fillStyle=`rgb(${y.r}, ${y.g}, ${y.b})`,i.fillRect(e*t,p,t,d-p)}))}}let C=document.querySelector("#canvasLeft"),w=document.querySelector("#canvasRight"),f=new a("movementAudioElem"),S=new a("shootingAudioElem",1,!1,1),k=[[e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Wall,e.Wall,e.Empty,e.Empty,e.Empty,e.Wall,e.Wall,e.Wall,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Empty,e.Wall,e.Empty,e.Wall,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Empty,e.Wall,e.Empty,e.Wall,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Empty,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Wall,e.Wall,e.Empty,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Wall,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall,e.Empty,e.Wall,e.Wall,e.Wall,e.Empty,e.Wall],[e.Wall,e.Empty,e.Wall,e.Wall,e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Empty,e.Wall],[e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall,e.Wall]];const v=new class{constructor(t,e,i){this.canvas3D=e,this.canvas2D=t,this.cellWidth=t.width/i[0].length,this.cellHeight=t.height/i.length,this.map=new s(this.cellWidth,this.cellHeight,i,t)}getCanvas2DHeight(){return this.canvas2D.height}geCanvast3DHeight(){return this.canvas3D.height}getCanvas2DWidth(){return this.canvas2D.width}getCanvas3DWidth(){return this.canvas3D.width}getCanvas2D(){return this.canvas2D}getCanvas3D(){return this.canvas3D}getCellWidth(){return this.cellWidth}getCellHeight(){return this.cellHeight}getMap(){return this.map}drawMap(){this.map.drawMap()}}(C,w,k),D=new class{constructor(t,e,i){this.util=new r,this.totNumEnemiesInWave=1,this.numEnemiesRemaining=1,this.areaState=t,this.player=new h(300,400,new l(270),t,e,i),this.enemyNpcs=[new m(300,350,new l(45),t)]}isPlayerMoving(){return this.player.isPlayerMoving()}isPlayerCrouching(){return this.player.isPlayerCrouching()}isPlayerRunning(){return this.player.isPlayerRunning()}getCenterX(){return this.player.getXMid()}getCenterY(){return this.player.getYMid()}getCenterDir(){return this.player.getUnitVec()}drawPlayer2D(){this.player.draw2D()}drawPlayerCrosshair(){this.player.drawCursor3D()}updateBullets(){this.player.getBullets().slice(0).forEach(((t,e)=>{t.moveBullet(),t.checkWallHit()&&this.player.removeBullets(e)}))}drawBullets2D(){this.player.getBullets().forEach((t=>t.draw2D()))}updateEnemyNpcs(){this.enemyNpcs.forEach((t=>{t.move(this.player.getXMid(),this.player.getYMid())}))}drawEnemyNpcs2D(){this.enemyNpcs.forEach((t=>t.draw2D()))}getAllBullets(){return this.player.getBullets().slice(0)}getAllEnemies(){return this.enemyNpcs.slice(0)}checkExternalCollisions(){this.enemyNpcs.forEach((t=>{this.util.dist({x:t.getX(),y:t.getY()},{x:this.player.getXMid(),y:this.player.getYMid()})<t.getDim()+0&&this.player.reset()}));let t=this.getAllBullets();for(let e=this.enemyNpcs.length-1;e>=0;e--){let i=this.enemyNpcs[e];for(let s=0;s<t.length;s++){let a=t[s];if(this.util.dist({x:i.getX(),y:i.getY()},{x:a.getX(),y:a.getY()})<i.getDim()+a.getDim()){this.enemyNpcs.splice(e,1),this.player.removeBullets(s),this.numEnemiesRemaining--;break}}}if(0===this.numEnemiesRemaining){this.totNumEnemiesInWave++,this.numEnemiesRemaining=this.totNumEnemiesInWave;for(let t=0;t<this.totNumEnemiesInWave;t++)this.enemyNpcs.push(new m(300,350,new l(360*Math.random()),this.areaState))}}}(v,f,S),W=new class{constructor(t,e){this.rays=[],this.fov=90,this.distToProjection=350,this.util=new r,this.gameState=t,this.areaState=e}setupRays(){let t=this.gameState.getCenterDir();this.distToProjection=this.areaState.getCanvas3DWidth()/2/Math.tan(this.util.toRad(this.fov/2));let e=0;for(let i=0;i<this.areaState.getCanvas3DWidth();i+=1){let s=Math.atan((i-this.areaState.getCanvas3DWidth()/2)/this.distToProjection)+t.getDirRad(),a=new l(this.util.toDeg(s));if(this.rays[e])this.rays[e].performRayCalculations(a);else{let t=new E(this.gameState,this.areaState,a);t.performRayCalculations(a),this.rays.push(t)}e++}}draw2D(){this.rays.forEach((t=>t.drawRay2D()))}draw3D(){let t=this.areaState.getCanvas3DWidth()/this.rays.length;this.rays.forEach(((e,i)=>{e.drawRay3D(t,i)}))}}(D,v);function R(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}setInterval((function(){R(C),R(w),v.drawMap(),D.drawPlayer2D(),W.setupRays(),W.draw2D(),D.checkExternalCollisions(),D.updateBullets(),D.updateEnemyNpcs(),D.drawEnemyNpcs2D(),D.drawBullets2D(),W.draw3D(),D.drawPlayerCrosshair()}),1e3/60)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL0Jsb2NrLnRzIiwid2VicGFjazovL3JheS1jYXN0ZXIvLi9zcmMvTW9kZWwvRUJsb2NrVHlwZS50cyIsIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL1BsYXllci50cyIsIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL01hcC50cyIsIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL0F1ZGlvQ29udHJvbC50cyIsIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL1VuaXRWZWN0b3IudHMiLCJ3ZWJwYWNrOi8vcmF5LWNhc3Rlci8uL3NyYy9VdGlsLnRzIiwid2VicGFjazovL3JheS1jYXN0ZXIvLi9zcmMvQnVsbGV0LnRzIiwid2VicGFjazovL3JheS1jYXN0ZXIvLi9ub2RlX21vZHVsZXMvdHMtYmluLWhlYXAvZGlzdC90cy1iaW4taGVhcC5lczUuanMiLCJ3ZWJwYWNrOi8vcmF5LWNhc3Rlci8uL3NyYy9HYW1lU3RhdGUudHMiLCJ3ZWJwYWNrOi8vcmF5LWNhc3Rlci8uL3NyYy9BU3RhclNlYXJjaC50cyIsIndlYnBhY2s6Ly9yYXktY2FzdGVyLy4vc3JjL0VuZW15TnBjLnRzIiwid2VicGFjazovL3JheS1jYXN0ZXIvLi9zcmMvUmF5LnRzIiwid2VicGFjazovL3JheS1jYXN0ZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcmF5LWNhc3Rlci8uL3NyYy9BcmVhU3RhdGUudHMiLCJ3ZWJwYWNrOi8vcmF5LWNhc3Rlci8uL3NyYy9SYXlzLnRzIl0sIm5hbWVzIjpbIkJsb2NrIiwiYmxvY2tUeXBlIiwicm93IiwiY29sIiwidGhpcyIsIkJsb2NrVHlwZSIsIktFWVMiLCJNYXAiLCJjZWxsV2lkdGgiLCJjZWxsSGVpZ2h0IiwibWFwVGVtcGxhdGUiLCJjYW52YXMiLCJibG9ja3MiLCJBcnJheSIsImZvckVhY2giLCJpUm93IiwiciIsImJUeXBlIiwiaUNvbCIsInB1c2giLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImJsb2NrIiwiV2FsbCIsImJlZ2luUGF0aCIsInN0cm9rZVN0eWxlIiwicmVjdCIsInN0cm9rZSIsIkF1ZGlvQ29udHJvbCIsImF1ZGlvRWxlbUlkIiwicGxheWJhY2tSYXRlIiwibG9vcCIsInZvbHVtZSIsIndhbGtpbmdQbGF5QmFja1JhdGUiLCJydW5uaW5nUGxheUJhY2tSYXRlIiwiY3JvdWNoaW5nUGxheUJhY2tSYXRlIiwid2Fsa2luZ1ZvbHVtZSIsInJ1bm5pbmdWb2x1bWUiLCJjcm91Y2hpbmdWb2x1bWUiLCJwbGF5QmFja1JhdGUiLCJhdWRpbyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ1bmRlZmluZWQiLCJzZXRBdWRpb0RhdGEiLCJwbGF5IiwicGF1c2UiLCJjdXJyZW50VGltZSIsIlVuaXRWZWN0b3IiLCJkaXIiLCJ4IiwiTWF0aCIsImNvcyIsInRvUmFkIiwieSIsInNpbiIsImNoYW5nZSIsIm5ld0RpciIsImRlZyIsIlBJIiwiVXRpbCIsIm0iLCJBQiIsInZlY3RvciIsIkEiLCJCIiwiQU0iLCJCQyIsIkMiLCJCTSIsImRvdEFCQU0iLCJkb3QiLCJkb3RBQkFCIiwiZG90QkNCTSIsImRvdEJDQkMiLCJwMSIsInAyIiwicmFkIiwidSIsInYiLCJjZWlsIiwibWFwIiwiZ2V0QmxvY2tzIiwiZ2V0TWFwQmxvY2tGcm9tQ29vcmQiLCJnZXRCbG9ja1R5cGUiLCJwb2ludDEiLCJwb2ludDIiLCJzcXJ0IiwicG93IiwiQnVsbGV0Iiwic3RhcnRYIiwic3RhcnRZIiwidVZlY0RpciIsImNyb3VjaGVkQnVsbGV0IiwiYXJlYVN0YXRlIiwidmVsb2NpdHkiLCJkaW0iLCJ1dGlsIiwieFBvcyIsInlQb3MiLCJnZXRYIiwiZ2V0WSIsInRlbXBVVmVjIiwiZ2V0RGlyRGVnIiwiaSIsImluTWFwQmxvY2siLCJnZXRNYXAiLCJnZXRDZWxsV2lkdGgiLCJnZXRDZWxsSGVpZ2h0IiwidXBkYXRlRGlyIiwiY3R4IiwiZ2V0Q2FudmFzMkQiLCJmaWxsU3R5bGUiLCJtb3ZlVG8iLCJhcmMiLCJmaWxsIiwiUGxheWVyIiwic3RhcnRpbmdEaXJVVmVjIiwibW92ZW1lbnRBdWRpb0NvbnRyb2wiLCJzaG9vdGluZ0F1ZGlvQ29udHJvbCIsInN0YW5kaW5nVmVsIiwiY3JvdWNoaW5nVmVsIiwicnVubmluZ1ZlbCIsInN0YW5kaW5nQW5ndWxhclZlbCIsImNyb3VjaGluZ0FuZ3VsYXJWZWwiLCJwbGF5ZXJDaXJjbGVSYWRpdXMiLCJrZXlzU3RhdGUiLCJidWxsZXRzIiwiZGlyVVZlYyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhbmciLCJhdGFuIiwiY3VyTW91c2VQb3NYIiwiY2FudmFzM0QiLCJ3aWR0aCIsImdldERpclJhZCIsInVWZWMiLCJ0b0RlZyIsImdldFhNaWQiLCJnZXRZTWlkIiwiaXNQbGF5ZXJDcm91Y2hpbmciLCJzdG9wIiwiZSIsImtleSIsIlJVTiIsIkNST1VDSCIsInNldEF1ZGlvV2Fsa2luZyIsIlVQIiwiRE9XTiIsImNsZWFySW50ZXJ2YWwiLCJMRUZUX1JPVEFUSU9OIiwiUklHSFRfUk9UQVRJT04iLCJnZXRDYW52YXMzRCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFgiLCJsZWZ0Iiwic2V0QXVkaW9SdW5uaW5nIiwic2V0QXVkaW9Dcm91Y2hpbmciLCJzZXRJbnRlcnZhbCIsIm1vdmVGb3J3YXJkIiwibW92ZUJhY2t3YXJkIiwicm90YXRlIiwiaW5kZXgiLCJzcGxpY2UiLCJ2ZWwiLCJjaGFuZ2VYIiwiY2hhbmdlWSIsInNldERpciIsIm1pZFkiLCJnZUNhbnZhc3QzREhlaWdodCIsImNyb3NzSGFpckNlbnRlciIsInNob3J0U2lkZSIsImZpbGxSZWN0IiwibG9uZ1NpZGUiLCJzZXRUcmFuc2Zvcm0iLCJjb21wYXJlckJ1aWxkZXIiLCJDb21wYXJlckJ1aWxkZXIiLCJjb21wYXJlcnMiLCJjcmVhdGUiLCJwcm90b3R5cGUiLCJ0aGVuS2V5Iiwic2VsZWN0b3IiLCJzb3J0S2V5IiwidGhlbktleURlc2NlbmRpbmciLCJzb3J0S2V5RGVzY2VuZGluZyIsImMiLCJjcmVhdGVDb21wYXJlciIsImEiLCJiIiwibmV3Q29tcGFyZXJzIiwic2xpY2UiLCJjb21wYXJlciIsImNtcEEiLCJjbXBCIiwiYnVpbGQiLCJfdGhpcyIsIl9pIiwiX2EiLCJsZW5ndGgiLCJjb21wYXJpc29uIiwiX192YWx1ZXMiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjYWxsIiwibmV4dCIsInZhbHVlIiwiZG9uZSIsIk9iamVjdEhpdCIsInN3YXBBcnJheUluZGV4ZXMiLCJzcmMiLCJpZHgxIiwiaWR4MiIsImNyZWF0ZVVuc3RhYmxlQmluYXJ5SGVhcCIsImhlYXBBcnJheSIsInN3YXBJdGVtU2VsZWN0b3IiLCJpdGVtcyIsImVfMSIsImN1cnJlbnRNYXgiLCJzcmNfMSIsInNyY18xXzEiLCJpdGVtIiwiZV8xXzEiLCJlcnJvciIsInJldHVybiIsIm1heEJ5IiwiX2IiLCJoZWFwIiwiY3VycmVudEluZGV4IiwicGFyZW50SXRlbUluZGV4IiwicHVzaFJhbmdlIiwiaXRlbXNfMSIsIml0ZW1zXzFfMSIsInBvcCIsInJldHVyblZhbHVlIiwiY3VycmVudEl0ZW0iLCJsZWZ0Q2hpbGRJbmRleCIsImNoaWxkSWR4Iiwic3dhcEl0ZW0iLCJjcmVhdGVTdGFibGVCaW5hcnlIZWFwIiwidW5zdGFibGVIZWFwIiwiaXRlbTEiLCJpdGVtMiIsIm9yZGVyIiwiY291bnQiLCJzdGFibGVIZWFwIiwiQVN0YXJTZWFyY2giLCJjZWxsU3RyYWlnaHREaXN0Iiwibm9kZVJvdyIsInBvc2l0aW9uIiwiaF9zY29yZSIsImdldFhZRnJvbVJvd0NvbCIsImdfc2NvcmUiLCJpZCIsImZfc2NvcmUiLCJub2RlcyIsImN1ck5vZGUiLCJlbmROb2RlIiwibmVpZ2hCb3VycyIsImVuZE5vZGVQb2ludCIsIm5vZGUiLCJjdXJOb2RlUG9pbnQiLCJuZWlnaEJvdXIiLCJkX3ZhbCIsImN1cnJlbnQiLCJwYXRoIiwidW5zaGlmdCIsInBhcmVudF9Ob2RlIiwic3RhcnRSb3ciLCJzdGFydENvbCIsImVuZFJvdyIsImVuZENvbCIsInN0YXJ0Tm9kZSIsIm9wZW5TZXQiLCJyYW5rU2VsZWN0b3IiLCJ0eXBlIiwic3RhYmxlIiwiYnVpbGRlciIsImNyZWF0ZUJpbmFyeUhlYXAiLCJub2Rlc0luT3BlblNldCIsInJlY29uc3RydWN0UGF0aCIsImdldE5vZGVOZWlnaGJvdXJzIiwibmVpZ2hib3VyIiwidGVudGF0aXZlX2dTY29yZSIsIkVuZW15TnBjIiwiaW5pdGlhbFgiLCJpbml0aWFsWSIsImluaXRpYWxEaXIiLCJzZWFyY2hlciIsInBsYXllclgiLCJwbGF5ZXJZIiwicGxheWVyQ2VsbCIsImVuZW15Q2VsbCIsImNhbGN1bGF0ZVBhdGgiLCJjaGVja09iamVjdEhpdCIsInJhbmRvbSIsIlJheSIsImdhbWVTdGF0ZSIsIndhbGtpbmdGcmFtZUNvdW50Iiwid2Fsa2luZ0ZyYW1lSW5jciIsInJhbmRZIiwiY29sb3IiLCJnIiwiZ3JkIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJudW1JbmNycyIsInN0b3BDb2xvclN0ZXAiLCJhZGRDb2xvclN0b3AiLCJhZGp1c3RDb2xvciIsImJsb2NrWCIsImdldENvbCIsImJsb2NrWSIsImdldFJvdyIsIkQiLCJibG9ja0hpdCIsImVkZ2VDb29yZHMiLCJnZXRFZGdlQ29yZHMiLCJlZGdlUmF5Iiwic3RhcnRUb0VkZ2VWZWMiLCJzdGFydFRvRWRnZVZlY01hZyIsImFuZ2xlQmV0d2VlblJheUFuZFN0YXJ0VG9FZGdlVmVjIiwiZGlzdEJldHdlZW5SYXlFbmRBbmRTdGFydFRvRWRnZVZlY0VuZCIsIk9iamVjdCIsImtleXMiLCJnZXRDZW50ZXJYIiwiZ2V0Q2VudGVyWSIsImFjb3MiLCJlbmRYIiwiZW5kWSIsImN1clgiLCJjdXJZIiwiYnVsbGV0Q29sbGlzaW9uQXJyYXkiLCJlbmVteU5wY0NvbGxpc2lvbkFycmF5IiwiZ2V0QWxsQnVsbGV0cyIsImVuZW15TnBjcyIsImdldEFsbEVuZW1pZXMiLCJidWxsZXQiLCJnZXREaW0iLCJjb2xsaXNpb25YIiwiY29sbGlzaW9uWSIsIm9iamVjdEhpdCIsImVuZW15TnBjIiwiY3VyQmxvY2siLCJjaGVja0VkZ2VSYXkiLCJnZXRDZW50ZXJEaXIiLCJuZXdVVmVjRGlyIiwiY2FsY3VsYXRlQ29sbGlzaW9uc0FuZElmRWRnZSIsImdldEFkanVzdGVkTGVuZ3RoIiwiY29sbCIsImFicyIsImlzUGxheWVyUnVubmluZyIsImlzUGxheWVyTW92aW5nIiwibGluZVRvIiwic3RhcnRDb2xvciIsImNvbG9yQ2hhbmdlIiwibWF4Iiwic2xpY2VXaWR0aCIsInNsaWNlQ29sIiwiY2FudmFzM0RIZWlnaHQiLCJjcm91Y2hpbmdGYWN0b3IiLCJ3YWxraW5nRmFjdG9yIiwiY2VpbGluZyIsImZsb29yIiwiZGlzdEZyb21DZWlsVG9GbG9vciIsImZsciIsImNvbGxpc2lvbk9iamVjdHMiLCJjb25jYXQiLCJzb3J0IiwibWlkIiwibGVuZ3RoVG9Db2xsaWRlZE9iaiIsImNyb3VjaGVkT2JqU2hpZnQiLCJzaGlmdEZyb21NaWQiLCJzaGlmdEZyb21NaWRDZWlsaW5nRmFjdG9yIiwiZ2V0Q3JvdWNoZWRCdWxsZXQiLCJjb2xsaWRlZE9iakNlaWwiLCJjb2xsaWRlZE9iakZsb29yIiwiaGVhZENlaWxpbmciLCJjYW52YXMyRCIsInF1ZXJ5U2VsZWN0b3IiLCJFbXB0eSIsIkFTdGF0ZSIsImhlaWdodCIsImRyYXdNYXAiLCJHU3RhdGUiLCJ0b3ROdW1FbmVtaWVzSW5XYXZlIiwibnVtRW5lbWllc1JlbWFpbmluZyIsInBsYXllciIsImdldFVuaXRWZWMiLCJkcmF3MkQiLCJkcmF3Q3Vyc29yM0QiLCJnZXRCdWxsZXRzIiwibW92ZUJ1bGxldCIsImNoZWNrV2FsbEhpdCIsInJlbW92ZUJ1bGxldHMiLCJlbmVteSIsIm1vdmUiLCJkaXN0IiwicmVzZXQiLCJqIiwicmF5cyIsImZvdiIsImRpc3RUb1Byb2plY3Rpb24iLCJjZW50ZXJVVmVjIiwiZ2V0Q2FudmFzM0RXaWR0aCIsInRhbiIsImNvdW50ZXIiLCJwZXJmb3JtUmF5Q2FsY3VsYXRpb25zIiwibmV3UmF5IiwicmF5IiwiZHJhd1JheTJEIiwicmF5U2xpY2VXaWR0aCIsImRyYXdSYXkzRCIsImNsZWFyQ2FudmFzIiwiY2xlYXJSZWN0IiwiZHJhd1BsYXllcjJEIiwic2V0dXBSYXlzIiwiY2hlY2tFeHRlcm5hbENvbGxpc2lvbnMiLCJ1cGRhdGVCdWxsZXRzIiwidXBkYXRlRW5lbXlOcGNzIiwiZHJhd0VuZW15TnBjczJEIiwiZHJhd0J1bGxldHMyRCIsImRyYXczRCIsImRyYXdQbGF5ZXJDcm9zc2hhaXIiXSwibWFwcGluZ3MiOiI7bUJBQU8sTUFBTUEsRUFDVCxZQUFZQyxFQUFXQyxFQUFLQyxHQUN4QkMsS0FBS0YsSUFBTUEsRUFDWEUsS0FBS0QsSUFBTUEsRUFDWEMsS0FBS0gsVUFBWUEsRUFFckIsZUFDSSxPQUFPRyxLQUFLSCxVQUVoQixTQUNJLE9BQU9HLEtBQUtGLElBRWhCLFNBQ0ksT0FBT0UsS0FBS0QsS0NiYixJQUFJRSxFQ0tQQyxHREpKLFNBQVdELEdBQ1BBLEVBQVVBLEVBQWlCLE1BQUksR0FBSyxRQUNwQ0EsRUFBVUEsRUFBZ0IsS0FBSSxHQUFLLE9BRnZDLENBR0dBLElBQWNBLEVBQVksS0VGdEIsTUFBTUUsRUFDVCxZQUFZQyxFQUFXQyxFQUFZQyxFQUFhQyxHQUM1Q1AsS0FBS1EsT0FBUyxJQUFJQyxNQUNsQlQsS0FBS08sT0FBU0EsRUFDZFAsS0FBS0ksVUFBWUEsRUFDakJKLEtBQUtLLFdBQWFBLEVBQ2RDLEdBQ0FBLEVBQVlJLFNBQVEsQ0FBQ1osRUFBS2EsS0FDdEIsSUFBSUMsRUFBSSxJQUFJSCxNQUNaWCxFQUFJWSxTQUFRLENBQUNHLEVBQU9DLEtBQ2hCRixFQUFFRyxLQUFLLElBQUluQixFQUFNaUIsRUFBT0YsRUFBTUcsT0FFbENkLEtBQUtRLE9BQU9PLEtBQUtILE1BSTdCLFVBQ0ksSUFBSUksRUFBVWhCLEtBQUtPLE9BQU9VLFdBQVcsTUFDckNqQixLQUFLUSxPQUFPRSxTQUFRLENBQUNaLEVBQUthLEtBQ3RCYixFQUFJWSxTQUFRLENBQUNRLEVBQU9KLEtBQ1pJ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TUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDeFAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDbFAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDeFAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDdlAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVWtCLEtBQU1sQixFQUFVa0IsTUFDblAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDcFAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDclAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDdFAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDcFAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsS0FBTWxCLEVBQVV1WCxNQUFPdlgsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDcFAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVa0IsS0FBTWxCLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDclAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVdVgsTUFBT3ZYLEVBQVV1WCxNQUFPdlgsRUFBVXVYLE1BQU92WCxFQUFVa0IsTUFDeFAsQ0FBQ2xCLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVVrQixLQUFNbEIsRUFBVWtCLEtBQU1sQixFQUFVa0IsS0FBTWxCLEVBQVVrQixLQUFNbEIsRUFB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b3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQmxvY2sge1xyXG4gICAgY29uc3RydWN0b3IoYmxvY2tUeXBlLCByb3csIGNvbCkge1xyXG4gICAgICAgIHRoaXMucm93ID0gcm93O1xyXG4gICAgICAgIHRoaXMuY29sID0gY29sO1xyXG4gICAgICAgIHRoaXMuYmxvY2tUeXBlID0gYmxvY2tUeXBlO1xyXG4gICAgfVxyXG4gICAgZ2V0QmxvY2tUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJsb2NrVHlwZTtcclxuICAgIH1cclxuICAgIGdldFJvdygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3c7XHJcbiAgICB9XHJcbiAgICBnZXRDb2woKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCB2YXIgQmxvY2tUeXBlO1xyXG4oZnVuY3Rpb24gKEJsb2NrVHlwZSkge1xyXG4gICAgQmxvY2tUeXBlW0Jsb2NrVHlwZVtcIkVtcHR5XCJdID0gMF0gPSBcIkVtcHR5XCI7XHJcbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiV2FsbFwiXSA9IDFdID0gXCJXYWxsXCI7XHJcbn0pKEJsb2NrVHlwZSB8fCAoQmxvY2tUeXBlID0ge30pKTtcclxuIiwiaW1wb3J0IHsgVW5pdFZlY3RvciB9IGZyb20gJy4vVW5pdFZlY3Rvcic7XHJcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gJy4vQnVsbGV0JztcclxuaW1wb3J0IHsgVXRpbCB9IGZyb20gJy4vVXRpbCc7XHJcbi8vbm90IHVzaW5nIFdBU0QgYmVjYXVzZSBpdCB3YXMgY2F1c2luZyBwcm9ibGVtc1xyXG4vL3NwZWNpZmljYWxseSB3aGVuIGNyb3VjaGluZyArIG1vdmluZyBmb3J3YXJkL2JhY2t3YXJkIGFuZCB0aGVuIHRyeWluZyB0byByb3RhdGFlIHJpZ2h0ICh3b3VsZG50IHJvdGF0ZSBidXQgZm9yIHNvbWUgcmVhc29uIHJvdGF0ZSBsZWZ0IHdvcmtlZClcclxudmFyIEtFWVM7XHJcbihmdW5jdGlvbiAoS0VZUykge1xyXG4gICAgS0VZU1tcIlVQXCJdID0gXCJ3XCI7XHJcbiAgICBLRVlTW1wiTEVGVF9ST1RBVElPTlwiXSA9IFwiYVwiO1xyXG4gICAgS0VZU1tcIkRPV05cIl0gPSBcInNcIjtcclxuICAgIEtFWVNbXCJSSUdIVF9ST1RBVElPTlwiXSA9IFwiZFwiO1xyXG4gICAgS0VZU1tcIkNST1VDSFwiXSA9IFwiY1wiO1xyXG4gICAgS0VZU1tcIlJVTlwiXSA9IFwiIFwiO1xyXG59KShLRVlTIHx8IChLRVlTID0ge30pKTtcclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4UG9zLCB5UG9zLCBzdGFydGluZ0RpclVWZWMsIGFyZWFTdGF0ZSwgbW92ZW1lbnRBdWRpb0NvbnRyb2wsIHNob290aW5nQXVkaW9Db250cm9sKSB7XHJcbiAgICAgICAgdGhpcy5zdGFuZGluZ1ZlbCA9IDEuNTtcclxuICAgICAgICB0aGlzLmNyb3VjaGluZ1ZlbCA9IDAuNzU7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nVmVsID0gMztcclxuICAgICAgICB0aGlzLnN0YW5kaW5nQW5ndWxhclZlbCA9IDk7XHJcbiAgICAgICAgdGhpcy5jcm91Y2hpbmdBbmd1bGFyVmVsID0gMS41O1xyXG4gICAgICAgIHRoaXMucGxheWVyQ2lyY2xlUmFkaXVzID0gMjtcclxuICAgICAgICB0aGlzLmtleXNTdGF0ZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuYnVsbGV0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMudXRpbCA9IG5ldyBVdGlsKCk7XHJcbiAgICAgICAgdGhpcy54UG9zID0geFBvcztcclxuICAgICAgICB0aGlzLnlQb3MgPSB5UG9zO1xyXG4gICAgICAgIHRoaXMuZGlyVVZlYyA9IHN0YXJ0aW5nRGlyVVZlYztcclxuICAgICAgICB0aGlzLm1vdmVtZW50QXVkaW9Db250cm9sID0gbW92ZW1lbnRBdWRpb0NvbnRyb2w7XHJcbiAgICAgICAgdGhpcy5zaG9vdGluZ0F1ZGlvQ29udHJvbCA9IHNob290aW5nQXVkaW9Db250cm9sO1xyXG4gICAgICAgIHRoaXMuYXJlYVN0YXRlID0gYXJlYVN0YXRlO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGFuZyA9IE1hdGguYXRhbigodGhpcy5jdXJNb3VzZVBvc1ggLSB0aGlzLmFyZWFTdGF0ZS5jYW52YXMzRC53aWR0aCAvIDIpIC8gMzUwKSArIHRoaXMuZGlyVVZlYy5nZXREaXJSYWQoKTtcclxuICAgICAgICAgICAgbGV0IHVWZWMgPSBuZXcgVW5pdFZlY3Rvcih0aGlzLnV0aWwudG9EZWcoYW5nKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0cy5wdXNoKG5ldyBCdWxsZXQodGhpcy5nZXRYTWlkKCksIHRoaXMuZ2V0WU1pZCgpLCB1VmVjLCB0aGlzLmlzUGxheWVyQ3JvdWNoaW5nKCksIHRoaXMuYXJlYVN0YXRlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvb3RpbmdBdWRpb0NvbnRyb2wuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNob290aW5nQXVkaW9Db250cm9sLnBsYXkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEtFWVMuUlVOOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vcmVsZWFzZSB0aGUgcnVuIGtleSBvbmx5IGRvZXMgYW55dGhpbmcgd2hlbiB3ZSBhcmUgY3VyIHJ1bm5pbmcgYnV0IG5vdCBjcm91Y2hpbmdcclxuICAgICAgICAgICAgICAgICAgICAvL3dlIGRvbnQgd2FudCB0byBjaGFuZ2UgYXVkaW8gdG8gd2Fsa2luZyB3aGVuIHdlIGFyZSBjcm91Y2hpbmcrbW92aW5nIGFuZCBqdXN0IHByZXNzIGFuZCBybGVhc2UgdGhlIHJ1biBrZXlcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMua2V5c1N0YXRlW0tFWVMuQ1JPVUNIXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50QXVkaW9Db250cm9sLnNldEF1ZGlvV2Fsa2luZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXNTdGF0ZVtLRVlTLlJVTl0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEtFWVMuQ1JPVUNIOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vd2UgZG9udCB3YW50IHNvbWVvbmUgdG8gcHJlc3MgYW5kIHJlbGVhc2UgY3JvdWNoIGtleSB3aGlsZSBydW5uaW5nIGFuZCBjaGFuZ2UgYXVkaW8gdG8gd2Fsa2luZ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5rZXlzU3RhdGVbS0VZUy5SVU5dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBdWRpb0NvbnRyb2wuc2V0QXVkaW9XYWxraW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5c1N0YXRlW0tFWVMuQ1JPVUNIXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5VUDpcclxuICAgICAgICAgICAgICAgICAgICAvL2RvbnQgd2FudCBzb21lb25lIHRvIHByZXNzIGFuZCByZWxlYXNlIHVwIHdoaWxlIG1vdmluZyBiYWNrIGFuZCBzdG9wIGF1ZGlvXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtleXNTdGF0ZVtLRVlTLkRPV05dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBdWRpb0NvbnRyb2wuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMua2V5c1N0YXRlW0tFWVMuVVBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlzU3RhdGVbS0VZUy5VUF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5ET1dOOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vZG9udCB3YW50IHNvbWVvbmUgdG8gcHJlc3MgYW5kIHJlbGVhc2UgZG93biB3aGlsZSBtb3ZpbmcgZm9yd2FyZCBhbmQgc3RvcCBhdWRpb1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5rZXlzU3RhdGVbS0VZUy5VUF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudEF1ZGlvQ29udHJvbC5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5rZXlzU3RhdGVbS0VZUy5ET1dOXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5c1N0YXRlW0tFWVMuRE9XTl0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5MRUZUX1JPVEFUSU9OOlxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5rZXlzU3RhdGVbS0VZUy5MRUZUX1JPVEFUSU9OXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlzU3RhdGVbS0VZUy5MRUZUX1JPVEFUSU9OXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEtFWVMuUklHSFRfUk9UQVRJT046XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmtleXNTdGF0ZVtLRVlTLlJJR0hUX1JPVEFUSU9OXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlzU3RhdGVbS0VZUy5SSUdIVF9ST1RBVElPTl0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5hcmVhU3RhdGUuZ2V0Q2FudmFzM0QoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgbGV0IHhQb3MgPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyTW91c2VQb3NYID0geFBvcztcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5SVU46XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtleXNTdGF0ZVtLRVlTLkNST1VDSF0pIHsgLy9jYW50IHJ1biB3aGVuIGNyb3VjaGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVtZW50QXVkaW9Db250cm9sLnNldEF1ZGlvUnVubmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXNTdGF0ZVtLRVlTLlJVTl0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5DUk9VQ0g6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtleXNTdGF0ZVtLRVlTLlJVTl0pIHsgLy9jYW50IGdldCBmcm9tIHJ1bm5pbmcgdG8gY3JvdWNoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBdWRpb0NvbnRyb2wuc2V0QXVkaW9Dcm91Y2hpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlzU3RhdGVbS0VZUy5DUk9VQ0hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEtFWVMuVVA6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMua2V5c1N0YXRlW0tFWVMuRE9XTl0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy9jYW50IGdvIGZvcndhcmQgYW5kIGJhY2sgYXQgc2FtZSB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zbyBpZiB1ciBhbHJlYWR5IGNyb3VjaGluZyBhbmQgdGhlbiBzdGFydCBtb3ZpbmcsIGF1ZGlvIHdvbnQgb3ZlcndyaXRlIHRvIHdhbGtpbmcgc3RhbmRpbiBhdWRpb1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2ltaWxhciBpZGVhIGZvciBydW5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMua2V5c1N0YXRlW0tFWVMuQ1JPVUNIXSAmJiAhdGhpcy5rZXlzU3RhdGVbS0VZUy5SVU5dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBdWRpb0NvbnRyb2wuc2V0QXVkaW9XYWxraW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBdWRpb0NvbnRyb2wucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5rZXlzU3RhdGVbS0VZUy5VUF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlzU3RhdGVbS0VZUy5VUF0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVGb3J3YXJkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDI1KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEtFWVMuRE9XTjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5rZXlzU3RhdGVbS0VZUy5VUF0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy9jYW50IGdvIGZvcndhcmQgYW5kIGJhY2sgYXQgc2FtZSB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zbyBpZiB1ciBhbHJlYWR5IGNyb3VjaGluZyBhbmQgdGhlbiBzdGFydCBtb3ZpbmcsIGF1ZGlvIHdvbnQgb3ZlcndyaXRlIHRvIHdhbGtpbmcgc3RhbmRpbiBhdWRpb1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2ltaWxhciBpZGVhIGZvciBydW5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMua2V5c1N0YXRlW0tFWVMuQ1JPVUNIXSAmJiAhdGhpcy5rZXlzU3RhdGVbS0VZUy5SVU5dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBdWRpb0NvbnRyb2wuc2V0QXVkaW9XYWxraW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRBdWRpb0NvbnRyb2wucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5rZXlzU3RhdGVbS0VZUy5ET1dOXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXNTdGF0ZVtLRVlTLkRPV05dID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlQmFja3dhcmQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5MRUZUX1JPVEFUSU9OOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5rZXlzU3RhdGVbS0VZUy5MRUZUX1JPVEFUSU9OXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXNTdGF0ZVtLRVlTLkxFRlRfUk9UQVRJT05dID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGUoJ0xFRlQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgS0VZUy5SSUdIVF9ST1RBVElPTjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMua2V5c1N0YXRlW0tFWVMuUklHSFRfUk9UQVRJT05dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5c1N0YXRlW0tFWVMuUklHSFRfUk9UQVRJT05dID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGUoJ1JJR0hUJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDI1KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlzUGxheWVyTW92aW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtleXNTdGF0ZVtLRVlTLlVQXSB8fCB0aGlzLmtleXNTdGF0ZVtLRVlTLkRPV05dO1xyXG4gICAgfVxyXG4gICAgaXNQbGF5ZXJDcm91Y2hpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c1N0YXRlW0tFWVMuQ1JPVUNIXTtcclxuICAgIH1cclxuICAgIGlzUGxheWVyUnVubmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlzU3RhdGVbS0VZUy5SVU5dO1xyXG4gICAgfVxyXG4gICAgZ2V0QnVsbGV0cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5idWxsZXRzO1xyXG4gICAgfVxyXG4gICAgc2V0QnVsbGV0cyhidWxsZXRzKSB7XHJcbiAgICAgICAgdGhpcy5idWxsZXRzID0gYnVsbGV0cztcclxuICAgIH1cclxuICAgIHJlbW92ZUJ1bGxldHMoaW5kZXgpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICAgIC8vIHJvdGF0ZU9uTW91c2VQb3MoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgZGlyRm9yd2FyZDogYm9vbGVhbik6dm9pZCB7XHJcbiAgICAvLyAgICAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAvLyAgICAgbGV0IHhQb3M6IG51bWJlciA9IHRoaXMuY3VyTW91c2VQb3NYIC0gcmVjdC5sZWZ0O1xyXG4gICAgLy8gICAgIGlmICh4UG9zIDwgY2FudmFzLndpZHRoLzMpIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5kaXJVVmVjLnVwZGF0ZURpcihkaXJGb3J3YXJkID8gLXRoaXMuYW5ndWxhclZlbG9jaXR5IDogdGhpcy5hbmd1bGFyVmVsb2NpdHkpO1xyXG4gICAgLy8gICAgIH0gZWxzZSBpZiAoeFBvcyA+IDIqY2FudmFzLndpZHRoLzMpIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5kaXJVVmVjLnVwZGF0ZURpcihkaXJGb3J3YXJkID8gdGhpcy5hbmd1bGFyVmVsb2NpdHkgOiAtdGhpcy5hbmd1bGFyVmVsb2NpdHkpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuICAgIHJvdGF0ZShkaXIpIHtcclxuICAgICAgICBsZXQgdmVsID0gdGhpcy5rZXlzU3RhdGVbS0VZUy5DUk9VQ0hdID8gdGhpcy5jcm91Y2hpbmdBbmd1bGFyVmVsIDogdGhpcy5zdGFuZGluZ0FuZ3VsYXJWZWw7XHJcbiAgICAgICAgaWYgKGRpciA9PT0gJ0xFRlQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlyVVZlYy51cGRhdGVEaXIoLXZlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRpciA9PT0gJ1JJR0hUJykge1xyXG4gICAgICAgICAgICB0aGlzLmRpclVWZWMudXBkYXRlRGlyKHZlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9jcm91Y2hpbmcgdGFrZXMgcHJpbyBvdmVyIHJ1bm5pbmdcclxuICAgIG1vdmVGb3J3YXJkKCkge1xyXG4gICAgICAgIGxldCB2ZWwgPSB0aGlzLmtleXNTdGF0ZVtLRVlTLkNST1VDSF0gPyB0aGlzLmNyb3VjaGluZ1ZlbCA6ICh0aGlzLmtleXNTdGF0ZVtLRVlTLlJVTl0gPyB0aGlzLnJ1bm5pbmdWZWwgOiB0aGlzLnN0YW5kaW5nVmVsKTtcclxuICAgICAgICBsZXQgY2hhbmdlWCA9IHZlbCAqIHRoaXMuZGlyVVZlYy5nZXRYKCk7XHJcbiAgICAgICAgbGV0IGNoYW5nZVkgPSB2ZWwgKiB0aGlzLmRpclVWZWMuZ2V0WSgpO1xyXG4gICAgICAgIGlmICghdGhpcy51dGlsLmluTWFwQmxvY2sodGhpcy54UG9zICsgY2hhbmdlWCwgdGhpcy55UG9zICsgY2hhbmdlWSwgdGhpcy5hcmVhU3RhdGUuZ2V0TWFwKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxXaWR0aCgpLCB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsSGVpZ2h0KCkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMueVBvcyArPSB2ZWwgKiB0aGlzLmRpclVWZWMuZ2V0WSgpO1xyXG4gICAgICAgICAgICB0aGlzLnhQb3MgKz0gdmVsICogdGhpcy5kaXJVVmVjLmdldFgoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2Nyb3VjaGluZyB0YWtlcyBwcmlvIG92ZXIgcnVubmluZ1xyXG4gICAgbW92ZUJhY2t3YXJkKCkge1xyXG4gICAgICAgIGxldCB2ZWwgPSB0aGlzLmtleXNTdGF0ZVtLRVlTLkNST1VDSF0gPyB0aGlzLmNyb3VjaGluZ1ZlbCA6ICh0aGlzLmtleXNTdGF0ZVtLRVlTLlJVTl0gPyB0aGlzLnJ1bm5pbmdWZWwgOiB0aGlzLnN0YW5kaW5nVmVsKTtcclxuICAgICAgICBsZXQgY2hhbmdlWCA9IC12ZWwgKiB0aGlzLmRpclVWZWMuZ2V0WCgpO1xyXG4gICAgICAgIGxldCBjaGFuZ2VZID0gLXZlbCAqIHRoaXMuZGlyVVZlYy5nZXRZKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnV0aWwuaW5NYXBCbG9jayh0aGlzLnhQb3MgKyBjaGFuZ2VYLCB0aGlzLnlQb3MgKyBjaGFuZ2VZLCB0aGlzLmFyZWFTdGF0ZS5nZXRNYXAoKSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSkpIHtcclxuICAgICAgICAgICAgdGhpcy55UG9zIC09IHZlbCAqIHRoaXMuZGlyVVZlYy5nZXRZKCk7XHJcbiAgICAgICAgICAgIHRoaXMueFBvcyAtPSB2ZWwgKiB0aGlzLmRpclVWZWMuZ2V0WCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMueFBvcyA9IDMwMDtcclxuICAgICAgICB0aGlzLnlQb3MgPSA0MDA7XHJcbiAgICAgICAgdGhpcy5kaXJVVmVjLnNldERpcigyNzApO1xyXG4gICAgfVxyXG4gICAgZHJhdzJEKCkge1xyXG4gICAgICAgIGxldCBjdHggPSB0aGlzLmFyZWFTdGF0ZS5nZXRDYW52YXMyRCgpLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgLy8gY3R4LnRyYW5zbGF0ZSh0aGlzLnhQb3MsIHRoaXMueVBvcyk7XHJcbiAgICAgICAgLy8gY3R4LnJvdGF0ZShyYWRBbmdsZSk7XHJcbiAgICAgICAgLy8gY3R4LnRyYW5zbGF0ZSgtdGhpcy54UG9zLCAtdGhpcy55UG9zKTtcclxuICAgICAgICAvL2N0eC5maWxsUmVjdCh0aGlzLnhQb3MsIHRoaXMueVBvcywgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHRoaXMueFBvcywgdGhpcy55UG9zLCB0aGlzLnBsYXllckNpcmNsZVJhZGl1cywgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2dyZWVuJztcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG4gICAgZHJhd0N1cnNvcjNEKCkge1xyXG4gICAgICAgIGxldCBjdHggPSB0aGlzLmFyZWFTdGF0ZS5nZXRDYW52YXMzRCgpLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgbGV0IG1pZFkgPSB0aGlzLmFyZWFTdGF0ZS5nZUNhbnZhc3QzREhlaWdodCgpIC8gMjtcclxuICAgICAgICBsZXQgc2hvcnRTaWRlID0gMjtcclxuICAgICAgICBsZXQgbG9uZ1NpZGUgPSAyMDtcclxuICAgICAgICBsZXQgY3Jvc3NIYWlyQ2VudGVyID0geyB4OiB0aGlzLmN1ck1vdXNlUG9zWCArIHNob3J0U2lkZSAvIDIsIHk6IG1pZFkgfTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmN1ck1vdXNlUG9zWCwgbWlkWSAtIGxvbmdTaWRlIC8gMiwgc2hvcnRTaWRlLCBsb25nU2lkZSk7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KGNyb3NzSGFpckNlbnRlci54IC0gbG9uZ1NpZGUgLyAyLCBjcm9zc0hhaXJDZW50ZXIueSAtIHNob3J0U2lkZSAvIDIsIGxvbmdTaWRlLCBzaG9ydFNpZGUpO1xyXG4gICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XHJcbiAgICB9XHJcbiAgICBnZXRVbml0VmVjKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpclVWZWM7XHJcbiAgICB9XHJcbiAgICBnZXRYTWlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnhQb3M7XHJcbiAgICB9XHJcbiAgICBnZXRZTWlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnlQb3M7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQmxvY2sgfSBmcm9tICcuL0Jsb2NrJztcclxuaW1wb3J0IHsgQmxvY2tUeXBlIH0gZnJvbSAnLi9Nb2RlbC9FQmxvY2tUeXBlJztcclxuZXhwb3J0IGNsYXNzIE1hcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihjZWxsV2lkdGgsIGNlbGxIZWlnaHQsIG1hcFRlbXBsYXRlLCBjYW52YXMpIHtcclxuICAgICAgICB0aGlzLmJsb2NrcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuY2VsbFdpZHRoID0gY2VsbFdpZHRoO1xyXG4gICAgICAgIHRoaXMuY2VsbEhlaWdodCA9IGNlbGxIZWlnaHQ7XHJcbiAgICAgICAgaWYgKG1hcFRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIG1hcFRlbXBsYXRlLmZvckVhY2goKHJvdywgaVJvdykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIHJvdy5mb3JFYWNoKChiVHlwZSwgaUNvbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHIucHVzaChuZXcgQmxvY2soYlR5cGUsIGlSb3csIGlDb2wpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ibG9ja3MucHVzaChyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhd01hcCgpIHtcclxuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgdGhpcy5ibG9ja3MuZm9yRWFjaCgocm93LCBpUm93KSA9PiB7XHJcbiAgICAgICAgICAgIHJvdy5mb3JFYWNoKChibG9jaywgaUNvbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLmJsb2NrVHlwZSA9PT0gQmxvY2tUeXBlLldhbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KHRoaXMuY2VsbFdpZHRoICogaUNvbCwgdGhpcy5jZWxsSGVpZ2h0ICogaVJvdywgdGhpcy5jZWxsV2lkdGgsIHRoaXMuY2VsbEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXRCbG9ja3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tzO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBBdWRpb0NvbnRyb2wge1xyXG4gICAgY29uc3RydWN0b3IoYXVkaW9FbGVtSWQsIHBsYXliYWNrUmF0ZSwgbG9vcCwgdm9sdW1lKSB7XHJcbiAgICAgICAgLy9mb290c3RlcCBjb25maWcgdmFycyBwbGF5IGJhY2sgcmF0ZVxyXG4gICAgICAgIHRoaXMud2Fsa2luZ1BsYXlCYWNrUmF0ZSA9IDE7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nUGxheUJhY2tSYXRlID0gMjtcclxuICAgICAgICB0aGlzLmNyb3VjaGluZ1BsYXlCYWNrUmF0ZSA9IDAuNztcclxuICAgICAgICAvL2Zvb3RzdGVwIGNvbmZpZyB2YXJzIHZvbHVtZVxyXG4gICAgICAgIHRoaXMud2Fsa2luZ1ZvbHVtZSA9IDAuMztcclxuICAgICAgICB0aGlzLnJ1bm5pbmdWb2x1bWUgPSAwLjQ1O1xyXG4gICAgICAgIHRoaXMuY3JvdWNoaW5nVm9sdW1lID0gMC4xNTtcclxuICAgICAgICB0aGlzLnBsYXlCYWNrUmF0ZSA9IHBsYXliYWNrUmF0ZSA/IHBsYXliYWNrUmF0ZSA6IHRoaXMud2Fsa2luZ1BsYXlCYWNrUmF0ZTtcclxuICAgICAgICB0aGlzLmF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXVkaW9FbGVtSWQpO1xyXG4gICAgICAgIHRoaXMuYXVkaW8ubG9vcCA9IGxvb3AgIT0gdW5kZWZpbmVkID8gbG9vcCA6IHRydWU7XHJcbiAgICAgICAgdGhpcy52b2x1bWUgPSB2b2x1bWUgPyB2b2x1bWUgOiB0aGlzLndhbGtpbmdWb2x1bWU7XHJcbiAgICB9XHJcbiAgICBzZXRBdWRpb0RhdGEoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wbGF5YmFja1JhdGUgPSB0aGlzLnBsYXlCYWNrUmF0ZTtcclxuICAgICAgICB0aGlzLmF1ZGlvLnZvbHVtZSA9IHRoaXMudm9sdW1lO1xyXG4gICAgfVxyXG4gICAgc2V0UGxheUJhY2tSYXRlKHBsYXliYWNrUmF0ZSkge1xyXG4gICAgICAgIHRoaXMucGxheUJhY2tSYXRlID0gcGxheWJhY2tSYXRlO1xyXG4gICAgICAgIHRoaXMuc2V0QXVkaW9EYXRhKCk7XHJcbiAgICB9XHJcbiAgICBzZXRWb2x1bWUodm9sdW1lKSB7XHJcbiAgICAgICAgdGhpcy52b2x1bWUgPSB2b2x1bWU7XHJcbiAgICAgICAgdGhpcy5zZXRBdWRpb0RhdGEoKTtcclxuICAgIH1cclxuICAgIHBsYXkoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wbGF5KCk7XHJcbiAgICB9XHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIH1cclxuICAgIC8vIGZvb3RzdGVwcyBtZXRob2RcclxuICAgIHNldEF1ZGlvV2Fsa2luZygpIHtcclxuICAgICAgICB0aGlzLnBsYXlCYWNrUmF0ZSA9IHRoaXMud2Fsa2luZ1BsYXlCYWNrUmF0ZTtcclxuICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMud2Fsa2luZ1ZvbHVtZTtcclxuICAgICAgICB0aGlzLnNldEF1ZGlvRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgc2V0QXVkaW9Dcm91Y2hpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5QmFja1JhdGUgPSB0aGlzLmNyb3VjaGluZ1BsYXlCYWNrUmF0ZTtcclxuICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMuY3JvdWNoaW5nVm9sdW1lO1xyXG4gICAgICAgIHRoaXMuc2V0QXVkaW9EYXRhKCk7XHJcbiAgICB9XHJcbiAgICBzZXRBdWRpb1J1bm5pbmcoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5QmFja1JhdGUgPSB0aGlzLnJ1bm5pbmdQbGF5QmFja1JhdGU7XHJcbiAgICAgICAgdGhpcy52b2x1bWUgPSB0aGlzLnJ1bm5pbmdWb2x1bWU7XHJcbiAgICAgICAgdGhpcy5zZXRBdWRpb0RhdGEoKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgVW5pdFZlY3RvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihkaXIpIHtcclxuICAgICAgICB0aGlzLmRpciA9IGRpcjtcclxuICAgICAgICB0aGlzLnggPSBNYXRoLmNvcyh0aGlzLnRvUmFkKGRpcikpO1xyXG4gICAgICAgIHRoaXMueSA9IE1hdGguc2luKHRoaXMudG9SYWQoZGlyKSk7XHJcbiAgICB9XHJcbiAgICAvL2NoYW5nZSBpcyBpbiBkZWdcclxuICAgIHVwZGF0ZURpcihjaGFuZ2UpIHtcclxuICAgICAgICB0aGlzLmRpciArPSBjaGFuZ2U7XHJcbiAgICAgICAgdGhpcy54ID0gTWF0aC5jb3ModGhpcy50b1JhZCh0aGlzLmRpcikpO1xyXG4gICAgICAgIHRoaXMueSA9IE1hdGguc2luKHRoaXMudG9SYWQodGhpcy5kaXIpKTtcclxuICAgIH1cclxuICAgIC8vY2hhbmdlIGlzIGluIGRlZ1xyXG4gICAgc2V0RGlyKG5ld0Rpcikge1xyXG4gICAgICAgIHRoaXMuZGlyID0gbmV3RGlyO1xyXG4gICAgICAgIHRoaXMueCA9IE1hdGguY29zKHRoaXMudG9SYWQodGhpcy5kaXIpKTtcclxuICAgICAgICB0aGlzLnkgPSBNYXRoLnNpbih0aGlzLnRvUmFkKHRoaXMuZGlyKSk7XHJcbiAgICB9XHJcbiAgICB0b1JhZChkZWcpIHtcclxuICAgICAgICByZXR1cm4gZGVnICogTWF0aC5QSSAvIDE4MDtcclxuICAgIH1cclxuICAgIGdldERpckRlZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kaXI7XHJcbiAgICB9XHJcbiAgICBnZXREaXJSYWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyICogTWF0aC5QSSAvIDE4MDtcclxuICAgIH1cclxuICAgIGdldFgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueDtcclxuICAgIH1cclxuICAgIGdldFkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCbG9ja1R5cGUgfSBmcm9tIFwiLi9Nb2RlbC9FQmxvY2tUeXBlXCI7XHJcbmV4cG9ydCBjbGFzcyBVdGlsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyB9XHJcbiAgICAvL2FsZ28gZnJvbSB0aGUgZm9sbG93aW4gcmVzb3VyY2VzOiBcclxuICAgIC8vKioqcmVxdWlyZXMgZm9yIEEgQiBhbmQgQyB0byBmb2xsb3cgb25lIGFub3RoZXIgaS5lIEEgaXMgdG9wIGxlZnQsIEIgaXMgdG9wIHJpZ2h0LCBDIGlzIGJvdHRvbSByaWdodFxyXG4gICAgLy9odHRwczovL21hdGguc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzIxNTc5MzEvaG93LXRvLWNoZWNrLWlmLWEtcG9pbnQtaXMtaW5zaWRlLWEtc3F1YXJlLTJkLXBsYW5lXHJcbiAgICAvL2h0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI3NTI3MjUvZmluZGluZy13aGV0aGVyLWEtcG9pbnQtbGllcy1pbnNpZGUtYS1yZWN0YW5nbGUtb3Itbm90LzM3ODY1MzMyIzM3ODY1MzMyXHJcbiAgICBwb2ludEluUmVjdGFuZ2xlKG0sIHIpIHtcclxuICAgICAgICB2YXIgQUIgPSB0aGlzLnZlY3RvcihyLkEsIHIuQik7XHJcbiAgICAgICAgdmFyIEFNID0gdGhpcy52ZWN0b3Ioci5BLCBtKTtcclxuICAgICAgICB2YXIgQkMgPSB0aGlzLnZlY3RvcihyLkIsIHIuQyk7XHJcbiAgICAgICAgdmFyIEJNID0gdGhpcy52ZWN0b3Ioci5CLCBtKTtcclxuICAgICAgICB2YXIgZG90QUJBTSA9IHRoaXMuZG90KEFCLCBBTSk7XHJcbiAgICAgICAgdmFyIGRvdEFCQUIgPSB0aGlzLmRvdChBQiwgQUIpO1xyXG4gICAgICAgIHZhciBkb3RCQ0JNID0gdGhpcy5kb3QoQkMsIEJNKTtcclxuICAgICAgICB2YXIgZG90QkNCQyA9IHRoaXMuZG90KEJDLCBCQyk7XHJcbiAgICAgICAgcmV0dXJuIDAgPD0gZG90QUJBTSAmJiBkb3RBQkFNIDw9IGRvdEFCQUIgJiYgMCA8PSBkb3RCQ0JNICYmIGRvdEJDQk0gPD0gZG90QkNCQztcclxuICAgIH1cclxuICAgIHZlY3RvcihwMSwgcDIpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiAocDIueCAtIHAxLngpLFxyXG4gICAgICAgICAgICB5OiAocDIueSAtIHAxLnkpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHRvUmFkKGRlZykge1xyXG4gICAgICAgIHJldHVybiBkZWcgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgfVxyXG4gICAgdG9EZWcocmFkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhZCAvIE1hdGguUEkgKiAxODA7XHJcbiAgICB9XHJcbiAgICBkb3QodSwgdikge1xyXG4gICAgICAgIHJldHVybiB1LnggKiB2LnggKyB1LnkgKiB2Lnk7XHJcbiAgICB9XHJcbiAgICBnZXRNYXBCbG9ja0Zyb21Db29yZCh4LCB5LCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQpIHtcclxuICAgICAgICBsZXQgY3VyWEJsb2NrSW5kZXggPSBNYXRoLmNlaWwoeCAvIGNlbGxXaWR0aCkgLSAxO1xyXG4gICAgICAgIGxldCBjdXJZQmxvY2tJbmRleCA9IE1hdGguY2VpbCh5IC8gY2VsbEhlaWdodCkgLSAxO1xyXG4gICAgICAgIHJldHVybiB7IGNvbDogY3VyWEJsb2NrSW5kZXgsIHJvdzogY3VyWUJsb2NrSW5kZXggfTtcclxuICAgIH1cclxuICAgIGluTWFwQmxvY2soeCwgeSwgbWFwLCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQpIHtcclxuICAgICAgICByZXR1cm4gbWFwLmdldEJsb2NrcygpW3RoaXMuZ2V0TWFwQmxvY2tGcm9tQ29vcmQoeCwgeSwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KS5yb3ddW3RoaXMuZ2V0TWFwQmxvY2tGcm9tQ29vcmQoeCwgeSwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KS5jb2xdLmdldEJsb2NrVHlwZSgpID09PSBCbG9ja1R5cGUuV2FsbDtcclxuICAgIH1cclxuICAgIGRpc3QocG9pbnQxLCBwb2ludDIpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KChwb2ludDEueCAtIHBvaW50Mi54KSwgMikgKyBNYXRoLnBvdygocG9pbnQxLnkgLSBwb2ludDIueSksIDIpKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBVbml0VmVjdG9yIH0gZnJvbSBcIi4vVW5pdFZlY3RvclwiO1xyXG5pbXBvcnQgeyBVdGlsIH0gZnJvbSAnLi9VdGlsJztcclxuZXhwb3J0IGNsYXNzIEJ1bGxldCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzdGFydFgsIHN0YXJ0WSwgdVZlY0RpciwgY3JvdWNoZWRCdWxsZXQsIGFyZWFTdGF0ZSkge1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSA3O1xyXG4gICAgICAgIHRoaXMuZGltID0gMS41OyAvL2kuZSBzcXVhcmUgc2lkZSBsZW5ndGhcclxuICAgICAgICB0aGlzLmNyb3VjaGVkQnVsbGV0ID0gZmFsc2U7IC8vaWYgYnVsbGV0IHdhcyBjcmVhdGVkIHdoaWxlIHBsYXllciBjcm91Y2hlZCAobmVlZGVkIGZvciByZW5kZXJpbmcgaGVpZ2h0IG9mIGJ1bGxldCBpbiAzZClcclxuICAgICAgICB0aGlzLnV0aWwgPSBuZXcgVXRpbCgpO1xyXG4gICAgICAgIHRoaXMueFBvcyA9IHN0YXJ0WDsgLy9jZW50ZXIgYnVsbGV0IGFyb3VuZCBwbGF5ZXJcclxuICAgICAgICB0aGlzLnlQb3MgPSBzdGFydFk7IC8vY2VudGVyIGJ1bGxldCBhcm91bmQgcGxheWVyXHJcbiAgICAgICAgdGhpcy51VmVjRGlyID0gdVZlY0RpcjtcclxuICAgICAgICB0aGlzLmFyZWFTdGF0ZSA9IGFyZWFTdGF0ZTtcclxuICAgICAgICB0aGlzLmNyb3VjaGVkQnVsbGV0ID0gY3JvdWNoZWRCdWxsZXQ7XHJcbiAgICB9XHJcbiAgICBtb3ZlQnVsbGV0KCkge1xyXG4gICAgICAgIHRoaXMueFBvcyArPSB0aGlzLnZlbG9jaXR5ICogdGhpcy51VmVjRGlyLmdldFgoKTtcclxuICAgICAgICB0aGlzLnlQb3MgKz0gdGhpcy52ZWxvY2l0eSAqIHRoaXMudVZlY0Rpci5nZXRZKCk7XHJcbiAgICB9XHJcbiAgICBjaGVja1dhbGxIaXQoKSB7XHJcbiAgICAgICAgbGV0IHRlbXBVVmVjID0gbmV3IFVuaXRWZWN0b3IodGhpcy51VmVjRGlyLmdldERpckRlZygpKTtcclxuICAgICAgICBsZXQgcHJvak1hZyA9IDAuMDE7XHJcbiAgICAgICAgbGV0IGluY3IgPSA1O1xyXG4gICAgICAgIC8vd2Ugd2FudCB0byBjaGVjayBhIHRpbnkgYml0IG91dHNpZGUgYXJvdW5kIHRoZSB3aG9sZSBjaXJjbGVcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM2MDsgaSArPSBpbmNyKSB7XHJcbiAgICAgICAgICAgIGxldCB4ID0gdGhpcy54UG9zICsgdGVtcFVWZWMuZ2V0WCgpICogKHRoaXMuZGltICsgcHJvak1hZyk7XHJcbiAgICAgICAgICAgIGxldCB5ID0gdGhpcy55UG9zICsgdGVtcFVWZWMuZ2V0WSgpICogKHRoaXMuZGltICsgcHJvak1hZyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnV0aWwuaW5NYXBCbG9jayh4LCB5LCB0aGlzLmFyZWFTdGF0ZS5nZXRNYXAoKSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRlbXBVVmVjLnVwZGF0ZURpcihpbmNyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZHJhdzJEKCkge1xyXG4gICAgICAgIGxldCBjdHggPSB0aGlzLmFyZWFTdGF0ZS5nZXRDYW52YXMyRCgpLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdncmV5JztcclxuICAgICAgICBjdHgubW92ZVRvKHRoaXMueFBvcywgdGhpcy55UG9zKTtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyh0aGlzLnhQb3MsIHRoaXMueVBvcywgdGhpcy5kaW0sIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0WCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy54UG9zO1xyXG4gICAgfVxyXG4gICAgZ2V0WSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy55UG9zO1xyXG4gICAgfVxyXG4gICAgZ2V0Q3JvdWNoZWRCdWxsZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JvdWNoZWRCdWxsZXQ7XHJcbiAgICB9XHJcbiAgICBnZXREaW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGltO1xyXG4gICAgfVxyXG59XHJcbiIsInZhciBDb21wYXJlckJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb21wYXJlckJ1aWxkZXIoY29tcGFyZXJzKSB7XHJcbiAgICAgICAgaWYgKGNvbXBhcmVycyA9PT0gdm9pZCAwKSB7IGNvbXBhcmVycyA9IHVuZGVmaW5lZDsgfVxyXG4gICAgICAgIHRoaXMuY29tcGFyZXJzID0gY29tcGFyZXJzIHx8IFtdO1xyXG4gICAgfVxyXG4gICAgQ29tcGFyZXJCdWlsZGVyLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbXBhcmVyQnVpbGRlcigpO1xyXG4gICAgfTtcclxuICAgIENvbXBhcmVyQnVpbGRlci5wcm90b3R5cGUudGhlbktleSA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRLZXkoc2VsZWN0b3IpO1xyXG4gICAgfTtcclxuICAgIENvbXBhcmVyQnVpbGRlci5wcm90b3R5cGUudGhlbktleURlc2NlbmRpbmcgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zb3J0S2V5RGVzY2VuZGluZyhzZWxlY3Rvcik7XHJcbiAgICB9O1xyXG4gICAgQ29tcGFyZXJCdWlsZGVyLnByb3RvdHlwZS5zb3J0S2V5ID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbXBhcmVyKHNlbGVjdG9yLCBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwKTsgfSk7XHJcbiAgICAgICAgdmFyIG5ld0NvbXBhcmVycyA9IHRoaXMuY29tcGFyZXJzLnNsaWNlKCk7XHJcbiAgICAgICAgbmV3Q29tcGFyZXJzLnB1c2goYyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wYXJlckJ1aWxkZXIobmV3Q29tcGFyZXJzKTtcclxuICAgIH07XHJcbiAgICBDb21wYXJlckJ1aWxkZXIucHJvdG90eXBlLnNvcnRLZXlEZXNjZW5kaW5nID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbXBhcmVyKHNlbGVjdG9yLCBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEgPCBiID8gMSA6IGEgPiBiID8gLTEgOiAwKTsgfSk7XHJcbiAgICAgICAgdmFyIG5ld0NvbXBhcmVycyA9IHRoaXMuY29tcGFyZXJzLnNsaWNlKCk7XHJcbiAgICAgICAgbmV3Q29tcGFyZXJzLnB1c2goYyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wYXJlckJ1aWxkZXIobmV3Q29tcGFyZXJzKTtcclxuICAgIH07XHJcbiAgICBDb21wYXJlckJ1aWxkZXIucHJvdG90eXBlLmNyZWF0ZUNvbXBhcmVyID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb21wYXJlcikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICB2YXIgY21wQSA9IHNlbGVjdG9yKGEpO1xyXG4gICAgICAgICAgICB2YXIgY21wQiA9IHNlbGVjdG9yKGIpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcGFyZXIoY21wQSwgY21wQik7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBDb21wYXJlckJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5jb21wYXJlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcGFyZXIgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcGFyaXNvbiA9IGNvbXBhcmVyKGEsIGIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmlzb24gIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyaXNvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb21wYXJlckJ1aWxkZXI7XHJcbn0oKSk7XG5cbnZhciBjb21wYXJlckJ1aWxkZXIgPSBDb21wYXJlckJ1aWxkZXIuY3JlYXRlO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XG5cbnZhciBzd2FwQXJyYXlJbmRleGVzID0gZnVuY3Rpb24gKHNyYywgaWR4MSwgaWR4Mikge1xyXG4gICAgdmFyIHggPSBzcmNbaWR4MV07XHJcbiAgICBzcmNbaWR4MV0gPSBzcmNbaWR4Ml07XHJcbiAgICBzcmNbaWR4Ml0gPSB4O1xyXG59O1xuXG52YXIgbWF4QnkgPSBmdW5jdGlvbiAoc3JjLCBjb21wYXJlcikge1xyXG4gICAgdmFyIGVfMSwgX2E7XHJcbiAgICBpZiAoc3JjLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICB2YXIgY3VycmVudE1heDtcclxuICAgIHZhciBjID0gMDtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3JjXzEgPSBfX3ZhbHVlcyhzcmMpLCBzcmNfMV8xID0gc3JjXzEubmV4dCgpOyAhc3JjXzFfMS5kb25lOyBzcmNfMV8xID0gc3JjXzEubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gc3JjXzFfMS52YWx1ZTtcclxuICAgICAgICAgICAgY3VycmVudE1heCA9IGMrKyA+IDAgPyAoY29tcGFyZXIoaXRlbSwgY3VycmVudE1heCkgPiAwID8gaXRlbSA6IGN1cnJlbnRNYXgpIDogaXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHNyY18xXzEgJiYgIXNyY18xXzEuZG9uZSAmJiAoX2EgPSBzcmNfMS5yZXR1cm4pKSBfYS5jYWxsKHNyY18xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGN1cnJlbnRNYXg7XHJcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVVuc3RhYmxlQmluYXJ5SGVhcChjb21wYXJlcikge1xyXG4gICAgdmFyIGhlYXBBcnJheSA9IFtdO1xyXG4gICAgdmFyIHN3YXBJdGVtU2VsZWN0b3IgPSBmdW5jdGlvbiAoaXRlbXMpIHtcclxuICAgICAgICByZXR1cm4gbWF4QnkoaXRlbXMsIGZ1bmN0aW9uIChfYSwgX2IpIHtcclxuICAgICAgICAgICAgdmFyIGEgPSBfYS5pdGVtO1xyXG4gICAgICAgICAgICB2YXIgYiA9IF9iLml0ZW07XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlcihiLCBhKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgaGVhcCA9IHtcclxuICAgICAgICBwdXNoOiBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gaGVhcEFycmF5Lmxlbmd0aDtcclxuICAgICAgICAgICAgaGVhcEFycmF5LnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50SW5kZXggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50SXRlbUluZGV4ID0gKGN1cnJlbnRJbmRleCAtIDEpID4+IDE7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZXIoaXRlbSwgaGVhcEFycmF5W3BhcmVudEl0ZW1JbmRleF0pIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3YXBBcnJheUluZGV4ZXMoaGVhcEFycmF5LCBjdXJyZW50SW5kZXgsIHBhcmVudEl0ZW1JbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gcGFyZW50SXRlbUluZGV4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHB1c2hSYW5nZTogZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICAgICAgICAgIHZhciBlXzEsIF9hO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaXRlbXNfMSA9IF9fdmFsdWVzKGl0ZW1zKSwgaXRlbXNfMV8xID0gaXRlbXNfMS5uZXh0KCk7ICFpdGVtc18xXzEuZG9uZTsgaXRlbXNfMV8xID0gaXRlbXNfMS5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zXzFfMS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBoZWFwLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtc18xXzEgJiYgIWl0ZW1zXzFfMS5kb25lICYmIChfYSA9IGl0ZW1zXzEucmV0dXJuKSkgX2EuY2FsbChpdGVtc18xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9wOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChoZWFwQXJyYXkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBoZWFwQXJyYXlbMF07XHJcbiAgICAgICAgICAgIGhlYXBBcnJheVswXSA9IGhlYXBBcnJheVtoZWFwQXJyYXkubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGhlYXBBcnJheS5sZW5ndGggPSBoZWFwQXJyYXkubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoOzspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SXRlbSA9IGhlYXBBcnJheVtjdXJyZW50SW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxlZnRDaGlsZEluZGV4ID0gKGN1cnJlbnRJbmRleCA8PCAxKSArIDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkSWR4ID0gbGVmdENoaWxkSW5kZXggKyBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZElkeCA8IGhlYXBBcnJheS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBoZWFwQXJyYXlbY2hpbGRJZHhdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGNoaWxkSWR4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGNvbnN0IGN1cnJJdGVtUmFuayA9IHJhbmtTZWxlY3RvcihjdXJySXRlbSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3dhcEl0ZW0gPSBzd2FwSXRlbVNlbGVjdG9yKGl0ZW1zKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlcihzd2FwSXRlbS5pdGVtLCBjdXJyZW50SXRlbSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dhcEFycmF5SW5kZXhlcyhoZWFwQXJyYXksIGN1cnJlbnRJbmRleCwgc3dhcEl0ZW0uaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleCA9IHN3YXBJdGVtLmluZGV4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IGxlbmd0aCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhlYXBBcnJheS5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBoZWFwO1xyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0YWJsZUJpbmFyeUhlYXAoY29tcGFyZXIpIHtcclxuICAgIHZhciB1bnN0YWJsZUhlYXAgPSBjcmVhdGVVbnN0YWJsZUJpbmFyeUhlYXAoZnVuY3Rpb24gKGl0ZW0xLCBpdGVtMikge1xyXG4gICAgICAgIHZhciBjID0gY29tcGFyZXIoaXRlbTEuaXRlbSwgaXRlbTIuaXRlbSk7XHJcbiAgICAgICAgaWYgKGMgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0xLm9yZGVyIC0gaXRlbTIub3JkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjO1xyXG4gICAgfSk7XHJcbiAgICB2YXIgY291bnQgPSAwO1xyXG4gICAgdmFyIHN0YWJsZUhlYXAgPSB7XHJcbiAgICAgICAgcHVzaDogZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuc3RhYmxlSGVhcC5wdXNoKHsgaXRlbTogaXRlbSwgb3JkZXI6IGNvdW50KysgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwdXNoUmFuZ2U6IGZ1bmN0aW9uIChpdGVtcykge1xyXG4gICAgICAgICAgICB2YXIgZV8xLCBfYTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW1zXzEgPSBfX3ZhbHVlcyhpdGVtcyksIGl0ZW1zXzFfMSA9IGl0ZW1zXzEubmV4dCgpOyAhaXRlbXNfMV8xLmRvbmU7IGl0ZW1zXzFfMSA9IGl0ZW1zXzEubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc18xXzEudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhYmxlSGVhcC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXNfMV8xICYmICFpdGVtc18xXzEuZG9uZSAmJiAoX2EgPSBpdGVtc18xLnJldHVybikpIF9hLmNhbGwoaXRlbXNfMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHBvcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHVuc3RhYmxlSGVhcC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLml0ZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgbGVuZ3RoKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5zdGFibGVIZWFwLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHN0YWJsZUhlYXA7XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmluYXJ5SGVhcChyYW5rU2VsZWN0b3IsIHR5cGUsIHN0YWJsZSkge1xyXG4gICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gJ21pbic7IH1cclxuICAgIGlmIChzdGFibGUgPT09IHZvaWQgMCkgeyBzdGFibGUgPSB0cnVlOyB9XHJcbiAgICB2YXIgYnVpbGRlciA9IGNvbXBhcmVyQnVpbGRlcigpO1xyXG4gICAgdmFyIG9wID0gdHlwZSA9PT0gJ21pbicgPyBidWlsZGVyLnNvcnRLZXkgOiBidWlsZGVyLnNvcnRLZXlEZXNjZW5kaW5nO1xyXG4gICAgdmFyIGNtcCA9IG9wLmNhbGwoYnVpbGRlciwgcmFua1NlbGVjdG9yKS5idWlsZCgpO1xyXG4gICAgdmFyIGYgPSBzdGFibGUgPyBjcmVhdGVTdGFibGVCaW5hcnlIZWFwIDogY3JlYXRlVW5zdGFibGVCaW5hcnlIZWFwO1xyXG4gICAgcmV0dXJuIGYoY21wKTtcclxufVxuXG4vLyBJbXBvcnQgaGVyZSBQb2x5ZmlsbHMgaWYgbmVlZGVkLiBSZWNvbW1lbmRlZCBjb3JlLWpzIChucG0gaSAtRCBjb3JlLWpzKVxuXG5leHBvcnQgeyBjcmVhdGVCaW5hcnlIZWFwLCBjcmVhdGVTdGFibGVCaW5hcnlIZWFwLCBjcmVhdGVVbnN0YWJsZUJpbmFyeUhlYXAgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRzLWJpbi1oZWFwLmVzNS5qcy5tYXBcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgeyBVbml0VmVjdG9yIH0gZnJvbSBcIi4vVW5pdFZlY3RvclwiO1xyXG5pbXBvcnQgeyBFbmVteU5wYyB9IGZyb20gXCIuL0VuZW15TnBjXCI7XHJcbmltcG9ydCB7IFV0aWwgfSBmcm9tIFwiLi9VdGlsXCI7XHJcbnZhciBPYmplY3RIaXQ7XHJcbihmdW5jdGlvbiAoT2JqZWN0SGl0KSB7XHJcbiAgICBPYmplY3RIaXRbT2JqZWN0SGl0W1wiUGxheWVyXCJdID0gMF0gPSBcIlBsYXllclwiO1xyXG4gICAgT2JqZWN0SGl0W09iamVjdEhpdFtcIldhbGxcIl0gPSAxXSA9IFwiV2FsbFwiO1xyXG4gICAgT2JqZWN0SGl0W09iamVjdEhpdFtcIlJheVwiXSA9IDJdID0gXCJSYXlcIjtcclxuICAgIE9iamVjdEhpdFtPYmplY3RIaXRbXCJOb25lXCJdID0gM10gPSBcIk5vbmVcIjtcclxufSkoT2JqZWN0SGl0IHx8IChPYmplY3RIaXQgPSB7fSkpO1xyXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIHtcclxuICAgIGNvbnN0cnVjdG9yKGFyZWFTdGF0ZSwgbW92ZW1lbnRBdWRpb0NvbnRyb2wsIHNob290aW5nQXVkaW9Db250cm9sKSB7XHJcbiAgICAgICAgdGhpcy51dGlsID0gbmV3IFV0aWwoKTtcclxuICAgICAgICB0aGlzLnRvdE51bUVuZW1pZXNJbldhdmUgPSAxO1xyXG4gICAgICAgIHRoaXMubnVtRW5lbWllc1JlbWFpbmluZyA9IDE7XHJcbiAgICAgICAgdGhpcy5hcmVhU3RhdGUgPSBhcmVhU3RhdGU7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKDMwMCwgNDAwLCBuZXcgVW5pdFZlY3RvcigyNzApLCBhcmVhU3RhdGUsIG1vdmVtZW50QXVkaW9Db250cm9sLCBzaG9vdGluZ0F1ZGlvQ29udHJvbCk7XHJcbiAgICAgICAgdGhpcy5lbmVteU5wY3MgPSBbbmV3IEVuZW15TnBjKDMwMCwgMzUwLCBuZXcgVW5pdFZlY3Rvcig0NSksIGFyZWFTdGF0ZSldO1xyXG4gICAgfVxyXG4gICAgLy9QbGF5ZXIgaW5mb1xyXG4gICAgaXNQbGF5ZXJNb3ZpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmlzUGxheWVyTW92aW5nKCk7XHJcbiAgICB9XHJcbiAgICBpc1BsYXllckNyb3VjaGluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuaXNQbGF5ZXJDcm91Y2hpbmcoKTtcclxuICAgIH1cclxuICAgIGlzUGxheWVyUnVubmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuaXNQbGF5ZXJSdW5uaW5nKCk7XHJcbiAgICB9XHJcbiAgICBnZXRDZW50ZXJYKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllci5nZXRYTWlkKCk7XHJcbiAgICB9XHJcbiAgICBnZXRDZW50ZXJZKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllci5nZXRZTWlkKCk7XHJcbiAgICB9XHJcbiAgICBnZXRDZW50ZXJEaXIoKSB7XHJcbiAgICAgICAgbGV0IGNlbnRlckRpciA9IHRoaXMucGxheWVyLmdldFVuaXRWZWMoKTtcclxuICAgICAgICByZXR1cm4gY2VudGVyRGlyO1xyXG4gICAgfVxyXG4gICAgLy9EcmF3aW5nIHBsYXllciBzdHVmZlxyXG4gICAgZHJhd1BsYXllcjJEKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyLmRyYXcyRCgpO1xyXG4gICAgfVxyXG4gICAgZHJhd1BsYXllckNyb3NzaGFpcigpIHtcclxuICAgICAgICB0aGlzLnBsYXllci5kcmF3Q3Vyc29yM0QoKTtcclxuICAgIH1cclxuICAgIC8vVXBkYXRpbmcgYnVsbGV0cyBwb3NpdGlvblxyXG4gICAgLy9idWxsZXQgb25seSByZXNwb25zaWJsZSBmb3IgaXRzIG93biBjb2xsaXNpb24gd2l0aCB3YWxsXHJcbiAgICB1cGRhdGVCdWxsZXRzKCkge1xyXG4gICAgICAgIGxldCBidWxsZXRzID0gdGhpcy5wbGF5ZXIuZ2V0QnVsbGV0cygpLnNsaWNlKDApO1xyXG4gICAgICAgIGJ1bGxldHMuZm9yRWFjaCgoYnVsbGV0LCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGJ1bGxldC5tb3ZlQnVsbGV0KCk7XHJcbiAgICAgICAgICAgIGlmIChidWxsZXQuY2hlY2tXYWxsSGl0KCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJlbW92ZUJ1bGxldHMoaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vZHJhd2luZyBidWxsZXRzXHJcbiAgICBkcmF3QnVsbGV0czJEKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyLmdldEJ1bGxldHMoKS5mb3JFYWNoKGJ1bGxldCA9PiBidWxsZXQuZHJhdzJEKCkpO1xyXG4gICAgfVxyXG4gICAgLy9VcGRhdGluZyBlbmVteSBucGNzIHBvc2l0aW9uXHJcbiAgICAvL2VuZW15IG9ubHkgcmVzcG9uc2libGUgZm9yIGl0cyBvd24gY29sbGlzaW9uIHdpdGggd2FsbFxyXG4gICAgdXBkYXRlRW5lbXlOcGNzKCkge1xyXG4gICAgICAgIHRoaXMuZW5lbXlOcGNzLmZvckVhY2goZW5lbXkgPT4ge1xyXG4gICAgICAgICAgICBlbmVteS5tb3ZlKHRoaXMucGxheWVyLmdldFhNaWQoKSwgdGhpcy5wbGF5ZXIuZ2V0WU1pZCgpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGRyYXdFbmVteU5wY3MyRCgpIHtcclxuICAgICAgICB0aGlzLmVuZW15TnBjcy5mb3JFYWNoKGVuZW15TnBjID0+IGVuZW15TnBjLmRyYXcyRCgpKTtcclxuICAgIH1cclxuICAgIC8vRW50aXR5IGdldHRlcnNcclxuICAgIGdldEFsbEJ1bGxldHMoKSB7XHJcbiAgICAgICAgbGV0IGJ1bGxldHMgPSB0aGlzLnBsYXllci5nZXRCdWxsZXRzKCkuc2xpY2UoMCk7XHJcbiAgICAgICAgcmV0dXJuIGJ1bGxldHM7XHJcbiAgICB9XHJcbiAgICBnZXRBbGxFbmVtaWVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVuZW15TnBjcy5zbGljZSgwKTtcclxuICAgIH1cclxuICAgIC8vRVhURVJOQUwgQ09MTElTSU9OUyAoYi93IGVuZW15IGFuZCBwbGF5ZXIgYW5kIGJ1bGxldCBhbmQgZW5lbXkpXHJcbiAgICBjaGVja0V4dGVybmFsQ29sbGlzaW9ucygpIHtcclxuICAgICAgICAvL2NoZWNraW5nIGVuZW15IHdpdGggcGxheWVyIGNvbGxpc2lvblxyXG4gICAgICAgIHRoaXMuZW5lbXlOcGNzLmZvckVhY2goZW5lbXkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZGlzdEZyb21FbmVteUNlbnRlclRvUGxheWVyQ2VudGVyID0gdGhpcy51dGlsLmRpc3QoeyB4OiBlbmVteS5nZXRYKCksIHk6IGVuZW15LmdldFkoKSB9LCB7IHg6IHRoaXMucGxheWVyLmdldFhNaWQoKSwgeTogdGhpcy5wbGF5ZXIuZ2V0WU1pZCgpIH0pO1xyXG4gICAgICAgICAgICBpZiAoZGlzdEZyb21FbmVteUNlbnRlclRvUGxheWVyQ2VudGVyIDwgZW5lbXkuZ2V0RGltKCkgKyAwKSB7IC8vdGhlICsgMCBzaG91bGQgcmVhbGx5IGJlIHRoZSBkaW0gb2YgdGhlIHBsYXllciBidXQgZm9yIG5vdyB0aGUgcGxheWVyIGlzIGp1c3QgYSBwb2ludFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBidWxsZXRzID0gdGhpcy5nZXRBbGxCdWxsZXRzKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZW5lbXlOcGNzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGxldCBlbmVteSA9IHRoaXMuZW5lbXlOcGNzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJ1bGxldHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBidWxsZXQgPSBidWxsZXRzW2pdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpc3RGcm9tRW5lbXlDZW50ZXJUb0J1bGxldENlbnRlciA9IHRoaXMudXRpbC5kaXN0KHsgeDogZW5lbXkuZ2V0WCgpLCB5OiBlbmVteS5nZXRZKCkgfSwgeyB4OiBidWxsZXQuZ2V0WCgpLCB5OiBidWxsZXQuZ2V0WSgpIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RGcm9tRW5lbXlDZW50ZXJUb0J1bGxldENlbnRlciA8IChlbmVteS5nZXREaW0oKSArIGJ1bGxldC5nZXREaW0oKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15TnBjcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVtb3ZlQnVsbGV0cyhqKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm51bUVuZW1pZXNSZW1haW5pbmctLTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL25ldyB3YXZlXHJcbiAgICAgICAgaWYgKHRoaXMubnVtRW5lbWllc1JlbWFpbmluZyA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRvdE51bUVuZW1pZXNJbldhdmUrKztcclxuICAgICAgICAgICAgdGhpcy5udW1FbmVtaWVzUmVtYWluaW5nID0gdGhpcy50b3ROdW1FbmVtaWVzSW5XYXZlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudG90TnVtRW5lbWllc0luV2F2ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZW15TnBjcy5wdXNoKG5ldyBFbmVteU5wYygzMDAsIDM1MCwgbmV3IFVuaXRWZWN0b3IoTWF0aC5yYW5kb20oKSAqIDM2MCksIHRoaXMuYXJlYVN0YXRlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgY3JlYXRlQmluYXJ5SGVhcCB9IGZyb20gXCJ0cy1iaW4taGVhcFwiO1xyXG5pbXBvcnQgeyBCbG9ja1R5cGUgfSBmcm9tIFwiLi9Nb2RlbC9FQmxvY2tUeXBlXCI7XHJcbmV4cG9ydCBjbGFzcyBBU3RhclNlYXJjaCB7XHJcbiAgICBjb25zdHJ1Y3RvcihhcmVhU3RhdGUpIHtcclxuICAgICAgICB0aGlzLmNlbGxTdHJhaWdodERpc3QgPSAxOyAvL2Rpc3QgYi93IGFkamFjZW50IGNlbGxzIGluIHRvcCByaWdodCBib3R0b20gb3IgbGVmdFxyXG4gICAgICAgIHRoaXMuYXJlYVN0YXRlID0gYXJlYVN0YXRlO1xyXG4gICAgICAgIC8vaW5pdCBub2Rlc1xyXG4gICAgICAgIHRoaXMuYXJlYVN0YXRlLmdldE1hcCgpLmdldEJsb2NrcygpLmZvckVhY2goKHJvdywgaVJvdykgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbm9kZVJvdyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICByb3cuZm9yRWFjaCgoYmxvY2ssIGlDb2wpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jay5nZXRCbG9ja1R5cGUoKSA9PT0gQmxvY2tUeXBlLldhbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlUm93LnB1c2gobnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChibG9jay5nZXRCbG9ja1R5cGUoKSA9PT0gQmxvY2tUeXBlLldhbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSB7IGNvbDogaUNvbCwgcm93OiBpUm93IH07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck5vZGVQb2ludCA9IHRoaXMuZ2V0WFlGcm9tUm93Q29sKHsgY29sOiBpQ29sLCByb3c6IGlSb3cgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhfc2NvcmUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBnX3Njb3JlID0gOTk5OTk5O1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVSb3cucHVzaCh7IGlkOiBgJHtwb3NpdGlvbn1gLCBwb3NpdGlvbjogcG9zaXRpb24sIGhfc2NvcmU6IGhfc2NvcmUsIGdfc2NvcmU6IGdfc2NvcmUsIGZfc2NvcmU6IDk5OTk5OSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaChub2RlUm93KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldFhZRnJvbVJvd0NvbChwb3NpdGlvbikge1xyXG4gICAgICAgIC8vdGhlIGxpbCAvMiBwYXJ0IGlzIHRvIGdldCBjZW50ZXIgb2YgY2VsbFxyXG4gICAgICAgIHJldHVybiB7IHg6IHBvc2l0aW9uLmNvbCAqIHRoaXMuYXJlYVN0YXRlLmdldENlbGxXaWR0aCgpICsgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCkgLyAyLCB5OiBwb3NpdGlvbi5yb3cgKiB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsSGVpZ2h0KCkgKyB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsSGVpZ2h0KCkgLyAyIH07XHJcbiAgICB9XHJcbiAgICBnZXROb2RlTmVpZ2hib3VycyhjdXJOb2RlLCBlbmROb2RlKSB7XHJcbiAgICAgICAgbGV0IG5laWdoQm91cnMgPSBbXTtcclxuICAgICAgICBsZXQgZW5kTm9kZVBvaW50ID0gdGhpcy5nZXRYWUZyb21Sb3dDb2woZW5kTm9kZS5wb3NpdGlvbik7XHJcbiAgICAgICAgLy90b3BsZWZ0XHJcbiAgICAgICAgaWYgKGN1ck5vZGUucG9zaXRpb24uY29sID4gMCAmJiBjdXJOb2RlLnBvc2l0aW9uLnJvdyA+IDAgJiYgdGhpcy5ub2Rlc1tjdXJOb2RlLnBvc2l0aW9uLnJvdyAtIDFdW2N1ck5vZGUucG9zaXRpb24uY29sIC0gMV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3cgLSAxXVtjdXJOb2RlLnBvc2l0aW9uLmNvbCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAobm9kZS5oX3Njb3JlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyTm9kZVBvaW50ID0gdGhpcy5nZXRYWUZyb21Sb3dDb2woY3VyTm9kZS5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBub2RlLmhfc2NvcmUgPSBNYXRoLnNxcnQoTWF0aC5wb3coKGVuZE5vZGVQb2ludC54IC0gY3VyTm9kZVBvaW50LngpLCAyKSArIE1hdGgucG93KChlbmROb2RlUG9pbnQueSAtIGN1ck5vZGVQb2ludC55KSwgMikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBuZWlnaEJvdXIgPSB7IG5vZGU6IG5vZGUsIGRfdmFsOiBNYXRoLnNxcnQodGhpcy5jZWxsU3RyYWlnaHREaXN0ICsgdGhpcy5jZWxsU3RyYWlnaHREaXN0KSB9O1xyXG4gICAgICAgICAgICBuZWlnaEJvdXJzLnB1c2gobmVpZ2hCb3VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy90b3BcclxuICAgICAgICBpZiAoY3VyTm9kZS5wb3NpdGlvbi5yb3cgPiAwICYmIHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3cgLSAxXVtjdXJOb2RlLnBvc2l0aW9uLmNvbF0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3cgLSAxXVtjdXJOb2RlLnBvc2l0aW9uLmNvbF07XHJcbiAgICAgICAgICAgIGlmIChub2RlLmhfc2NvcmUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJOb2RlUG9pbnQgPSB0aGlzLmdldFhZRnJvbVJvd0NvbChjdXJOb2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG5vZGUuaF9zY29yZSA9IE1hdGguc3FydChNYXRoLnBvdygoZW5kTm9kZVBvaW50LnggLSBjdXJOb2RlUG9pbnQueCksIDIpICsgTWF0aC5wb3coKGVuZE5vZGVQb2ludC55IC0gY3VyTm9kZVBvaW50LnkpLCAyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG5laWdoQm91ciA9IHsgbm9kZTogbm9kZSwgZF92YWw6IE1hdGguc3FydCh0aGlzLmNlbGxTdHJhaWdodERpc3QpIH07XHJcbiAgICAgICAgICAgIG5laWdoQm91cnMucHVzaChuZWlnaEJvdXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3RvcHJpZ2h0XHJcbiAgICAgICAgaWYgKGN1ck5vZGUucG9zaXRpb24uY29sIDwgdGhpcy5ub2Rlc1swXS5sZW5ndGggLSAxICYmIGN1ck5vZGUucG9zaXRpb24ucm93ID4gMCAmJiB0aGlzLm5vZGVzW2N1ck5vZGUucG9zaXRpb24ucm93IC0gMV1bY3VyTm9kZS5wb3NpdGlvbi5jb2wgKyAxXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gdGhpcy5ub2Rlc1tjdXJOb2RlLnBvc2l0aW9uLnJvdyAtIDFdW2N1ck5vZGUucG9zaXRpb24uY29sICsgMV07XHJcbiAgICAgICAgICAgIGlmIChub2RlLmhfc2NvcmUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJOb2RlUG9pbnQgPSB0aGlzLmdldFhZRnJvbVJvd0NvbChjdXJOb2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG5vZGUuaF9zY29yZSA9IE1hdGguc3FydChNYXRoLnBvdygoZW5kTm9kZVBvaW50LnggLSBjdXJOb2RlUG9pbnQueCksIDIpICsgTWF0aC5wb3coKGVuZE5vZGVQb2ludC55IC0gY3VyTm9kZVBvaW50LnkpLCAyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG5laWdoQm91ciA9IHsgbm9kZTogbm9kZSwgZF92YWw6IE1hdGguc3FydCh0aGlzLmNlbGxTdHJhaWdodERpc3QgKyB0aGlzLmNlbGxTdHJhaWdodERpc3QpIH07XHJcbiAgICAgICAgICAgIG5laWdoQm91cnMucHVzaChuZWlnaEJvdXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2xlZnRcclxuICAgICAgICBpZiAoY3VyTm9kZS5wb3NpdGlvbi5jb2wgPiAwICYmIHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3ddW2N1ck5vZGUucG9zaXRpb24uY29sIC0gMV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3ddW2N1ck5vZGUucG9zaXRpb24uY29sIC0gMV07XHJcbiAgICAgICAgICAgIGlmIChub2RlLmhfc2NvcmUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJOb2RlUG9pbnQgPSB0aGlzLmdldFhZRnJvbVJvd0NvbChjdXJOb2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG5vZGUuaF9zY29yZSA9IE1hdGguc3FydChNYXRoLnBvdygoZW5kTm9kZVBvaW50LnggLSBjdXJOb2RlUG9pbnQueCksIDIpICsgTWF0aC5wb3coKGVuZE5vZGVQb2ludC55IC0gY3VyTm9kZVBvaW50LnkpLCAyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG5laWdoQm91ciA9IHsgbm9kZTogbm9kZSwgZF92YWw6IE1hdGguc3FydCh0aGlzLmNlbGxTdHJhaWdodERpc3QpIH07XHJcbiAgICAgICAgICAgIG5laWdoQm91cnMucHVzaChuZWlnaEJvdXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3JpZ2h0XHJcbiAgICAgICAgaWYgKGN1ck5vZGUucG9zaXRpb24uY29sIDwgdGhpcy5ub2Rlc1swXS5sZW5ndGggLSAxICYmIHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3ddW2N1ck5vZGUucG9zaXRpb24uY29sICsgMV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3ddW2N1ck5vZGUucG9zaXRpb24uY29sICsgMV07XHJcbiAgICAgICAgICAgIGlmIChub2RlLmhfc2NvcmUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJOb2RlUG9pbnQgPSB0aGlzLmdldFhZRnJvbVJvd0NvbChjdXJOb2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG5vZGUuaF9zY29yZSA9IE1hdGguc3FydChNYXRoLnBvdygoZW5kTm9kZVBvaW50LnggLSBjdXJOb2RlUG9pbnQueCksIDIpICsgTWF0aC5wb3coKGVuZE5vZGVQb2ludC55IC0gY3VyTm9kZVBvaW50LnkpLCAyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG5laWdoQm91ciA9IHsgbm9kZTogbm9kZSwgZF92YWw6IE1hdGguc3FydCh0aGlzLmNlbGxTdHJhaWdodERpc3QpIH07XHJcbiAgICAgICAgICAgIG5laWdoQm91cnMucHVzaChuZWlnaEJvdXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2JvdHRvbWxlZnRcclxuICAgICAgICBpZiAoY3VyTm9kZS5wb3NpdGlvbi5jb2wgPiAwICYmIGN1ck5vZGUucG9zaXRpb24ucm93IDwgdGhpcy5ub2Rlcy5sZW5ndGggLSAxICYmIHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3cgKyAxXVtjdXJOb2RlLnBvc2l0aW9uLmNvbCAtIDFdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVzW2N1ck5vZGUucG9zaXRpb24ucm93ICsgMV1bY3VyTm9kZS5wb3NpdGlvbi5jb2wgLSAxXTtcclxuICAgICAgICAgICAgaWYgKG5vZGUuaF9zY29yZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ck5vZGVQb2ludCA9IHRoaXMuZ2V0WFlGcm9tUm93Q29sKGN1ck5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5oX3Njb3JlID0gTWF0aC5zcXJ0KE1hdGgucG93KChlbmROb2RlUG9pbnQueCAtIGN1ck5vZGVQb2ludC54KSwgMikgKyBNYXRoLnBvdygoZW5kTm9kZVBvaW50LnkgLSBjdXJOb2RlUG9pbnQueSksIDIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbmVpZ2hCb3VyID0geyBub2RlOiBub2RlLCBkX3ZhbDogTWF0aC5zcXJ0KHRoaXMuY2VsbFN0cmFpZ2h0RGlzdCArIHRoaXMuY2VsbFN0cmFpZ2h0RGlzdCkgfTtcclxuICAgICAgICAgICAgbmVpZ2hCb3Vycy5wdXNoKG5laWdoQm91cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vYm90dG9tXHJcbiAgICAgICAgaWYgKGN1ck5vZGUucG9zaXRpb24ucm93IDwgdGhpcy5ub2Rlcy5sZW5ndGggLSAxICYmIHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3cgKyAxXVtjdXJOb2RlLnBvc2l0aW9uLmNvbF0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3cgKyAxXVtjdXJOb2RlLnBvc2l0aW9uLmNvbF07XHJcbiAgICAgICAgICAgIGlmIChub2RlLmhfc2NvcmUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJOb2RlUG9pbnQgPSB0aGlzLmdldFhZRnJvbVJvd0NvbChjdXJOb2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG5vZGUuaF9zY29yZSA9IE1hdGguc3FydChNYXRoLnBvdygoZW5kTm9kZVBvaW50LnggLSBjdXJOb2RlUG9pbnQueCksIDIpICsgTWF0aC5wb3coKGVuZE5vZGVQb2ludC55IC0gY3VyTm9kZVBvaW50LnkpLCAyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG5laWdoQm91ciA9IHsgbm9kZTogbm9kZSwgZF92YWw6IE1hdGguc3FydCh0aGlzLmNlbGxTdHJhaWdodERpc3QpIH07XHJcbiAgICAgICAgICAgIG5laWdoQm91cnMucHVzaChuZWlnaEJvdXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2JvdHRvbXJpZ2h0XHJcbiAgICAgICAgaWYgKGN1ck5vZGUucG9zaXRpb24uY29sIDwgdGhpcy5ub2Rlc1swXS5sZW5ndGggLSAxICYmIGN1ck5vZGUucG9zaXRpb24ucm93IDwgdGhpcy5ub2Rlcy5sZW5ndGggLSAxICYmIHRoaXMubm9kZXNbY3VyTm9kZS5wb3NpdGlvbi5yb3cgKyAxXVtjdXJOb2RlLnBvc2l0aW9uLmNvbCArIDFdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVzW2N1ck5vZGUucG9zaXRpb24ucm93ICsgMV1bY3VyTm9kZS5wb3NpdGlvbi5jb2wgKyAxXTtcclxuICAgICAgICAgICAgaWYgKG5vZGUuaF9zY29yZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ck5vZGVQb2ludCA9IHRoaXMuZ2V0WFlGcm9tUm93Q29sKGN1ck5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5oX3Njb3JlID0gTWF0aC5zcXJ0KE1hdGgucG93KChlbmROb2RlUG9pbnQueCAtIGN1ck5vZGVQb2ludC54KSwgMikgKyBNYXRoLnBvdygoZW5kTm9kZVBvaW50LnkgLSBjdXJOb2RlUG9pbnQueSksIDIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbmVpZ2hCb3VyID0geyBub2RlOiBub2RlLCBkX3ZhbDogTWF0aC5zcXJ0KHRoaXMuY2VsbFN0cmFpZ2h0RGlzdCArIHRoaXMuY2VsbFN0cmFpZ2h0RGlzdCkgfTtcclxuICAgICAgICAgICAgbmVpZ2hCb3Vycy5wdXNoKG5laWdoQm91cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZWlnaEJvdXJzO1xyXG4gICAgfVxyXG4gICAgcmVjb25zdHJ1Y3RQYXRoKGVuZE5vZGUpIHtcclxuICAgICAgICBsZXQgY3VycmVudCA9IGVuZE5vZGU7XHJcbiAgICAgICAgdGhpcy5wYXRoLnVuc2hpZnQoY3VycmVudCk7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQucGFyZW50X05vZGUgIT0gdW5kZWZpbmVkKSB7IC8vc3RhcnQgbm9kZXMgcGFyZW50IGlzIHVuZGVmIHNvIHNodWxkIHN0b3AgdGhlcmVcclxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50X05vZGU7XHJcbiAgICAgICAgICAgIHRoaXMucGF0aC51bnNoaWZ0KGN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhbGN1bGF0ZVBhdGgoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0Tm9kZSA9IHsgaWQ6ICdzdGFydCcsIHBvc2l0aW9uOiB7IHJvdzogc3RhcnRSb3csIGNvbDogc3RhcnRDb2wgfSwgZ19zY29yZTogMCwgZl9zY29yZTogbnVsbCwgaF9zY29yZTogbnVsbCB9OyAvL2RvbnQgY2FyZSBhYm91dCBmIG9yIGhcclxuICAgICAgICBjb25zdCBlbmROb2RlID0geyBpZDogJ2VuZCcsIHBvc2l0aW9uOiB7IHJvdzogZW5kUm93LCBjb2w6IGVuZENvbCB9LCBnX3Njb3JlOiA5OTk5OTksIGZfc2NvcmU6IDk5OTk5OSwgaF9zY29yZTogMCB9OyAvL2cgaXMgaW5pdCBpbmZpbml0eSBcclxuICAgICAgICBjb25zdCBvcGVuU2V0ID0gY3JlYXRlQmluYXJ5SGVhcChub2RlID0+IG5vZGUuZl9zY29yZSk7XHJcbiAgICAgICAgb3BlblNldC5wdXNoKHN0YXJ0Tm9kZSk7XHJcbiAgICAgICAgbGV0IG5vZGVzSW5PcGVuU2V0ID0geyAnc3RhcnQnOiB0cnVlIH07XHJcbiAgICAgICAgbGV0IGN1cnJlbnQ7XHJcbiAgICAgICAgd2hpbGUgKG9wZW5TZXQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gb3BlblNldC5wb3AoKTtcclxuICAgICAgICAgICAgbm9kZXNJbk9wZW5TZXRbY3VycmVudC5pZF0gPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IGVuZE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3RQYXRoKGVuZE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmdldE5vZGVOZWlnaGJvdXJzKGN1cnJlbnQsIGVuZE5vZGUpLmZvckVhY2gobmVpZ2hib3VyID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCB0ZW50YXRpdmVfZ1Njb3JlID0gY3VycmVudC5nX3Njb3JlICsgbmVpZ2hib3VyLmRfdmFsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRlbnRhdGl2ZV9nU2NvcmUgPCBuZWlnaGJvdXIubm9kZS5nX3Njb3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmVpZ2hib3VyLm5vZGUucGFyZW50X05vZGUgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIG5laWdoYm91ci5ub2RlLmdfc2NvcmUgPSB0ZW50YXRpdmVfZ1Njb3JlO1xyXG4gICAgICAgICAgICAgICAgICAgIG5laWdoYm91ci5ub2RlLmZfc2NvcmUgPSBuZWlnaGJvdXIubm9kZS5nX3Njb3JlICsgbmVpZ2hib3VyLm5vZGUuaF9zY29yZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGVzSW5PcGVuU2V0W25laWdoYm91ci5ub2RlLmlkXSkgeyAvL3RydWUgbWVhbnMgaW4gb3BlbiBzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlblNldC5wdXNoKG5laWdoYm91ci5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXNJbk9wZW5TZXRbbmVpZ2hib3VyLm5vZGUuaWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBU3RhclNlYXJjaCB9IGZyb20gXCIuL0FTdGFyU2VhcmNoXCI7XHJcbmltcG9ydCB7IFVuaXRWZWN0b3IgfSBmcm9tIFwiLi9Vbml0VmVjdG9yXCI7XHJcbmltcG9ydCB7IFV0aWwgfSBmcm9tIFwiLi9VdGlsXCI7XHJcbmV4cG9ydCBjbGFzcyBFbmVteU5wYyB7XHJcbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsWCwgaW5pdGlhbFksIGluaXRpYWxEaXIsIGFyZWFTdGF0ZSkge1xyXG4gICAgICAgIHRoaXMuZGltID0gNTtcclxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMjtcclxuICAgICAgICB0aGlzLnV0aWwgPSBuZXcgVXRpbCgpO1xyXG4gICAgICAgIHRoaXMueFBvcyA9IGluaXRpYWxYO1xyXG4gICAgICAgIHRoaXMueVBvcyA9IGluaXRpYWxZO1xyXG4gICAgICAgIHRoaXMudVZlY0RpciA9IGluaXRpYWxEaXI7XHJcbiAgICAgICAgdGhpcy5hcmVhU3RhdGUgPSBhcmVhU3RhdGU7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hlciA9IG5ldyBBU3RhclNlYXJjaChhcmVhU3RhdGUpO1xyXG4gICAgfVxyXG4gICAgbW92ZShwbGF5ZXJYLCBwbGF5ZXJZKSB7XHJcbiAgICAgICAgbGV0IHBsYXllckNlbGwgPSB0aGlzLnV0aWwuZ2V0TWFwQmxvY2tGcm9tQ29vcmQocGxheWVyWCwgcGxheWVyWSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSk7XHJcbiAgICAgICAgbGV0IGVuZW15Q2VsbCA9IHRoaXMudXRpbC5nZXRNYXBCbG9ja0Zyb21Db29yZCh0aGlzLnhQb3MsIHRoaXMueVBvcywgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSk7XHJcbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLnNlYXJjaGVyLmNhbGN1bGF0ZVBhdGgoZW5lbXlDZWxsLnJvdywgZW5lbXlDZWxsLmNvbCwgcGxheWVyQ2VsbC5yb3csIHBsYXllckNlbGwuY29sKTtcclxuICAgICAgICB0aGlzLnhQb3MgKz0gdGhpcy51VmVjRGlyLmdldFgoKSAqIHRoaXMudmVsb2NpdHk7XHJcbiAgICAgICAgdGhpcy55UG9zICs9IHRoaXMudVZlY0Rpci5nZXRZKCkgKiB0aGlzLnZlbG9jaXR5O1xyXG4gICAgICAgIGlmICh0aGlzLmNoZWNrT2JqZWN0SGl0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy51VmVjRGlyLnVwZGF0ZURpcigxODAgKyBNYXRoLnJhbmRvbSgpICogMTApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNoZWNrT2JqZWN0SGl0KCkge1xyXG4gICAgICAgIGxldCB0ZW1wVVZlYyA9IG5ldyBVbml0VmVjdG9yKHRoaXMudVZlY0Rpci5nZXREaXJEZWcoKSk7XHJcbiAgICAgICAgbGV0IHByb2pNYWcgPSAwLjAxO1xyXG4gICAgICAgIGxldCBpbmNyID0gNTtcclxuICAgICAgICAvL3dlIHdhbnQgdG8gY2hlY2sgYSB0aW55IGJpdCBvdXRzaWRlIGFyb3VuZCB0aGUgd2hvbGUgY2lyY2xlXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzNjA7IGkgKz0gaW5jcikge1xyXG4gICAgICAgICAgICBsZXQgeCA9IHRoaXMueFBvcyArIHRlbXBVVmVjLmdldFgoKSAqICh0aGlzLmRpbSArIHByb2pNYWcpO1xyXG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMueVBvcyArIHRlbXBVVmVjLmdldFkoKSAqICh0aGlzLmRpbSArIHByb2pNYWcpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy51dGlsLmluTWFwQmxvY2soeCwgeSwgdGhpcy5hcmVhU3RhdGUuZ2V0TWFwKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxXaWR0aCgpLCB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsSGVpZ2h0KCkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ZW1wVVZlYy51cGRhdGVEaXIoaW5jcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGRyYXcyRCgpIHtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcy5hcmVhU3RhdGUuZ2V0Q2FudmFzMkQoKS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmVkJztcclxuICAgICAgICBjdHgubW92ZVRvKHRoaXMueFBvcywgdGhpcy55UG9zKTtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyh0aGlzLnhQb3MsIHRoaXMueVBvcywgdGhpcy5kaW0sIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0WCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy54UG9zO1xyXG4gICAgfVxyXG4gICAgZ2V0WSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy55UG9zO1xyXG4gICAgfVxyXG4gICAgZ2V0RGlyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVWZWNEaXI7XHJcbiAgICB9XHJcbiAgICBnZXREaW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGltO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFV0aWwgfSBmcm9tICcuL1V0aWwnO1xyXG5pbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9CdWxsZXRcIjtcclxuaW1wb3J0IHsgRW5lbXlOcGMgfSBmcm9tIFwiLi9FbmVteU5wY1wiO1xyXG5leHBvcnQgY2xhc3MgUmF5IHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTdGF0ZSwgYXJlYVN0YXRlLCB1VmVjRGlyKSB7XHJcbiAgICAgICAgdGhpcy53YWxraW5nRnJhbWVDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy53YWxraW5nRnJhbWVJbmNyID0gNDsgLy9mb3JtdWxhIGZvciBudW0gb2YgdXAgYW5kIGRvd25zIGlzIDEvKDIvd2FsaW5nRnJhbWVJbmNyKVxyXG4gICAgICAgIHRoaXMudXRpbCA9IG5ldyBVdGlsKCk7XHJcbiAgICAgICAgdGhpcy5yYW5kWSA9IE1hdGgucmFuZG9tKCkgKiAoMzUwIC0gMCk7IC8vdGhlIHNreSB3aWxsIG5ldmVyIGJlIHBhc3QgbWlkd2F5IG9mIHNjcmVlblxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gZ2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMuYXJlYVN0YXRlID0gYXJlYVN0YXRlO1xyXG4gICAgICAgIHRoaXMudVZlY0RpciA9IHVWZWNEaXI7XHJcbiAgICAgICAgLy9mbG9vciB3aWxsIGJlIGF0IG1heCBoYWxmIHdheSB1cCB0aGUgc2NyZWVuIGkuZSBjYW52YXMzZCBoZWlnaHQgLyAyXHJcbiAgICAgICAgbGV0IGNvbG9yID0geyByOiAwLCBnOiAxODMsIGI6IDI1NSB9O1xyXG4gICAgICAgIHRoaXMuZ3JkID0gdGhpcy5hcmVhU3RhdGUuZ2V0Q2FudmFzM0QoKS5nZXRDb250ZXh0KCcyZCcpLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIHRoaXMuYXJlYVN0YXRlLmdlQ2FudmFzdDNESGVpZ2h0KCksIDAsIHRoaXMuYXJlYVN0YXRlLmdlQ2FudmFzdDNESGVpZ2h0KCkgLyAyKTtcclxuICAgICAgICBsZXQgbnVtUGl4VG9BZGROZXdTdG9wQ29sb3IgPSAyLjU7XHJcbiAgICAgICAgbGV0IGNvbG9yQ2hhbmdlUGVyU3RvcENvbG9yID0gMTtcclxuICAgICAgICBsZXQgbnVtSW5jcnMgPSBNYXRoLmNlaWwoKHRoaXMuYXJlYVN0YXRlLmdlQ2FudmFzdDNESGVpZ2h0KCkgLyAyKSAvIG51bVBpeFRvQWRkTmV3U3RvcENvbG9yKTtcclxuICAgICAgICBsZXQgc3RvcENvbG9yU3RlcCA9IDEgLyBudW1JbmNycztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUluY3JzOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5ncmQuYWRkQ29sb3JTdG9wKGkgKiBzdG9wQ29sb3JTdGVwLCBgcmdiKCR7Y29sb3Iucn0sICR7Y29sb3IuZ30sICR7Y29sb3IuYn0pYCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0Q29sb3IoY29sb3IsIHsgcjogMCwgZzogLWNvbG9yQ2hhbmdlUGVyU3RvcENvbG9yLCBiOiAtY29sb3JDaGFuZ2VQZXJTdG9wQ29sb3IgKiAxLjQgfSk7IC8vdGhhdCAqMS40IGlzIGp1c3QgdGhlcmUgYmVjYXVzZSB0byBhY2MgZGFya2VuIGZyb20gbGlnaHQgdG8gZGFyayBibHVlIHRvIGJsYWNrIHRoZSBiIHBhcnQgY2hhbmdlcyBhdCBhIHJhdGUgb2YgMS40XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0RWRnZUNvcmRzKGJsb2NrKSB7XHJcbiAgICAgICAgbGV0IGNlbGxXaWR0aCA9IHRoaXMuYXJlYVN0YXRlLmdldENlbGxXaWR0aCgpO1xyXG4gICAgICAgIGxldCBjZWxsSGVpZ2h0ID0gdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbEhlaWdodCgpO1xyXG4gICAgICAgIGxldCBibG9ja1ggPSBjZWxsV2lkdGggKiBibG9jay5nZXRDb2woKTtcclxuICAgICAgICBsZXQgYmxvY2tZID0gY2VsbEhlaWdodCAqIGJsb2NrLmdldFJvdygpO1xyXG4gICAgICAgIHJldHVybiB7IEM6IHsgeDogYmxvY2tYLCB5OiBibG9ja1kgKyBjZWxsSGVpZ2h0IH0sXHJcbiAgICAgICAgICAgIEQ6IHsgeDogYmxvY2tYICsgY2VsbFdpZHRoLCB5OiBibG9ja1kgKyBjZWxsSGVpZ2h0IH0sXHJcbiAgICAgICAgICAgIEI6IHsgeDogYmxvY2tYICsgY2VsbFdpZHRoLCB5OiBibG9ja1kgfSxcclxuICAgICAgICAgICAgQTogeyB4OiBibG9ja1gsIHk6IGJsb2NrWSB9IH07XHJcbiAgICB9XHJcbiAgICBjaGVja0VkZ2VSYXkoYmxvY2tIaXQpIHtcclxuICAgICAgICBsZXQgZWRnZUNvb3JkcyA9IHRoaXMuZ2V0RWRnZUNvcmRzKGJsb2NrSGl0KTtcclxuICAgICAgICB0aGlzLmVkZ2VSYXkgPSBmYWxzZTtcclxuICAgICAgICBsZXQgc3RhcnRUb0VkZ2VWZWMgPSBudWxsO1xyXG4gICAgICAgIGxldCBzdGFydFRvRWRnZVZlY01hZyA9IG51bGw7XHJcbiAgICAgICAgbGV0IGFuZ2xlQmV0d2VlblJheUFuZFN0YXJ0VG9FZGdlVmVjID0gbnVsbDtcclxuICAgICAgICBsZXQgZGlzdEJldHdlZW5SYXlFbmRBbmRTdGFydFRvRWRnZVZlY0VuZCA9IG51bGw7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZWRnZUNvb3JkcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBzdGFydFRvRWRnZVZlYyA9IHsgeDogZWRnZUNvb3Jkc1trZXldLnggLSB0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJYKCksIHk6IGVkZ2VDb29yZHNba2V5XS55IC0gdGhpcy5nYW1lU3RhdGUuZ2V0Q2VudGVyWSgpIH07XHJcbiAgICAgICAgICAgIHN0YXJ0VG9FZGdlVmVjTWFnID0gTWF0aC5zcXJ0KE1hdGgucG93KHN0YXJ0VG9FZGdlVmVjLngsIDIpICsgTWF0aC5wb3coc3RhcnRUb0VkZ2VWZWMueSwgMikpO1xyXG4gICAgICAgICAgICAvL2RvaW5nIGRvdCBwcm9kIHRvIGdldCBhbmdsZSBiZXR3ZWVuIHJheSB2ZWMgbmFkIHN0YXJ0IHRvIGVkZ2UgdmVjXHJcbiAgICAgICAgICAgIGFuZ2xlQmV0d2VlblJheUFuZFN0YXJ0VG9FZGdlVmVjID0gTWF0aC5hY29zKCh0aGlzLnVWZWNEaXIuZ2V0WCgpICogc3RhcnRUb0VkZ2VWZWMueCArIHRoaXMudVZlY0Rpci5nZXRZKCkgKiBzdGFydFRvRWRnZVZlYy55KSAvIChzdGFydFRvRWRnZVZlY01hZykpICogMTgwIC8gTWF0aC5QSTtcclxuICAgICAgICAgICAgLy9kaXN0IGZvcm11bGFcclxuICAgICAgICAgICAgZGlzdEJldHdlZW5SYXlFbmRBbmRTdGFydFRvRWRnZVZlY0VuZCA9IE1hdGguc3FydChNYXRoLnBvdygoZWRnZUNvb3Jkc1trZXldLnggLSB0aGlzLmVuZFgpLCAyKSArIE1hdGgucG93KChlZGdlQ29vcmRzW2tleV0ueSAtIHRoaXMuZW5kWSksIDIpKTtcclxuICAgICAgICAgICAgLy9zbyBib3RoIHRoZSBhbmdsZSBiZXR3ZWVuIHRoZSBjdXIgcmF5IGFuZCB0aGUgcHJvamVjdGVkIHJheSBmcm9tIGVuZGdlIHRvIHN0YXJ0IGhhcyB0byBiZSB3aXRoaW4gYSBsaW1pdCBCVVQgQUxTT1xyXG4gICAgICAgICAgICAvL3RoZSBkaXN0IGIvdyBlbmQgb2YgcmF5IGFuZCBlYWNoIGVkZ2UgaGFzIHRvIGJlIHdpdGhpbiBhIGxpbWl0IHRvb1xyXG4gICAgICAgICAgICBpZiAoYW5nbGVCZXR3ZWVuUmF5QW5kU3RhcnRUb0VkZ2VWZWMgPD0gMC4xICYmIGRpc3RCZXR3ZWVuUmF5RW5kQW5kU3RhcnRUb0VkZ2VWZWNFbmQgPD0gMy41KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVkZ2VSYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjYWxjdWxhdGVDb2xsaXNpb25zQW5kSWZFZGdlKCkge1xyXG4gICAgICAgIGxldCBjdXJYID0gdGhpcy5nYW1lU3RhdGUuZ2V0Q2VudGVyWCgpO1xyXG4gICAgICAgIGxldCBjdXJZID0gdGhpcy5nYW1lU3RhdGUuZ2V0Q2VudGVyWSgpO1xyXG4gICAgICAgIHRoaXMuYnVsbGV0Q29sbGlzaW9uQXJyYXkgPSBbXTtcclxuICAgICAgICB0aGlzLmVuZW15TnBjQ29sbGlzaW9uQXJyYXkgPSBbXTtcclxuICAgICAgICBsZXQgYnVsbGV0cyA9IHRoaXMuZ2FtZVN0YXRlLmdldEFsbEJ1bGxldHMoKTtcclxuICAgICAgICBsZXQgZW5lbXlOcGNzID0gdGhpcy5nYW1lU3RhdGUuZ2V0QWxsRW5lbWllcygpO1xyXG4gICAgICAgIHdoaWxlICghdGhpcy51dGlsLmluTWFwQmxvY2soY3VyWCwgY3VyWSwgdGhpcy5hcmVhU3RhdGUuZ2V0TWFwKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxXaWR0aCgpLCB0aGlzLmFyZWFTdGF0ZS5nZXRDZWxsSGVpZ2h0KCkpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBidWxsZXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnVsbGV0ID0gYnVsbGV0c1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLnNxcnQoTWF0aC5wb3coKGN1clggLSBidWxsZXQuZ2V0WCgpKSwgMikgKyBNYXRoLnBvdygoY3VyWSAtIGJ1bGxldC5nZXRZKCkpLCAyKSkgPCBidWxsZXQuZ2V0RGltKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldENvbGxpc2lvbkFycmF5LnB1c2goeyBjb2xsaXNpb25YOiBjdXJYLCBjb2xsaXNpb25ZOiBjdXJZLCBvYmplY3RIaXQ6IGJ1bGxldCwgbGVuZ3RoOiBudWxsIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBlbmVteU5wY3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBlbmVteU5wYyA9IGVuZW15TnBjc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLnNxcnQoTWF0aC5wb3coKGN1clggLSBlbmVteU5wYy5nZXRYKCkpLCAyKSArIE1hdGgucG93KChjdXJZIC0gZW5lbXlOcGMuZ2V0WSgpKSwgMikpIDwgZW5lbXlOcGMuZ2V0RGltKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15TnBjQ29sbGlzaW9uQXJyYXkucHVzaCh7IGNvbGxpc2lvblg6IGN1clgsIGNvbGxpc2lvblk6IGN1clksIG9iamVjdEhpdDogZW5lbXlOcGMsIGxlbmd0aDogbnVsbCB9KTtcclxuICAgICAgICAgICAgICAgICAgICBlbmVteU5wY3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1clggKz0gdGhpcy51VmVjRGlyLmdldFgoKSAvIDQ7XHJcbiAgICAgICAgICAgIGN1clkgKz0gdGhpcy51VmVjRGlyLmdldFkoKSAvIDQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW5kWCA9IGN1clg7XHJcbiAgICAgICAgdGhpcy5lbmRZID0gY3VyWTtcclxuICAgICAgICBsZXQgY3VyQmxvY2sgPSB0aGlzLnV0aWwuZ2V0TWFwQmxvY2tGcm9tQ29vcmQoY3VyWCwgY3VyWSwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2VsbFdpZHRoKCksIHRoaXMuYXJlYVN0YXRlLmdldENlbGxIZWlnaHQoKSk7XHJcbiAgICAgICAgbGV0IGJsb2NrSGl0ID0gdGhpcy5hcmVhU3RhdGUuZ2V0TWFwKCkuZ2V0QmxvY2tzKClbY3VyQmxvY2sucm93XVtjdXJCbG9jay5jb2xdO1xyXG4gICAgICAgIHRoaXMuY2hlY2tFZGdlUmF5KGJsb2NrSGl0KTtcclxuICAgIH1cclxuICAgIGdldEFkanVzdGVkTGVuZ3RoKGVuZFgsIGVuZFkpIHtcclxuICAgICAgICBsZXQgcmF5TGVuID0gTWF0aC5zcXJ0KE1hdGgucG93KCh0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJYKCkgLSBlbmRYKSwgMikgKyBNYXRoLnBvdygodGhpcy5nYW1lU3RhdGUuZ2V0Q2VudGVyWSgpIC0gZW5kWSksIDIpKTtcclxuICAgICAgICAvL2xpbiBhbGcgZXFuIGkuZSBkb3QgcHJvZCBvZiB0d28gdmVjcyAvIHByb2Qgb2YgdGhlaXIgbWFnbml0dXJlID0gY29zIG9mIGFuZ2xlIGJldHdlZW4gZW0gKG1hZyBvZiBib3RoIGhlcmUgaXMgMSB0aG8pXHJcbiAgICAgICAgbGV0IGNvc1RoZXRhID0gdGhpcy51VmVjRGlyLmdldFgoKSAqIHRoaXMuZ2FtZVN0YXRlLmdldENlbnRlckRpcigpLmdldFgoKSArIHRoaXMudVZlY0Rpci5nZXRZKCkgKiB0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJEaXIoKS5nZXRZKCk7XHJcbiAgICAgICAgcmV0dXJuIHJheUxlbiAqIGNvc1RoZXRhO1xyXG4gICAgfVxyXG4gICAgcGVyZm9ybVJheUNhbGN1bGF0aW9ucyhuZXdVVmVjRGlyKSB7XHJcbiAgICAgICAgdGhpcy51VmVjRGlyID0gbmV3VVZlY0RpcjtcclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZUNvbGxpc2lvbnNBbmRJZkVkZ2UoKTtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMuZ2V0QWRqdXN0ZWRMZW5ndGgodGhpcy5lbmRYLCB0aGlzLmVuZFkpO1xyXG4gICAgICAgIHRoaXMuYnVsbGV0Q29sbGlzaW9uQXJyYXkuZm9yRWFjaChjb2xsID0+IGNvbGwubGVuZ3RoID0gdGhpcy5nZXRBZGp1c3RlZExlbmd0aChjb2xsLmNvbGxpc2lvblgsIGNvbGwuY29sbGlzaW9uWSkpO1xyXG4gICAgICAgIHRoaXMuZW5lbXlOcGNDb2xsaXNpb25BcnJheS5mb3JFYWNoKGNvbGwgPT4gY29sbC5sZW5ndGggPSB0aGlzLmdldEFkanVzdGVkTGVuZ3RoKGNvbGwuY29sbGlzaW9uWCwgY29sbC5jb2xsaXNpb25ZKSk7XHJcbiAgICAgICAgLy93YWxraW5nIGZyYW1lIGluY3IgY29udHJvbHMgaG93IG1hbnkgcGl4IHRoZSBzY3JlZW4gbW92ZXMgdXAgYW5kIGRvd24gcGVyIGZyYW1lIChzbyB3YWxraW5nIGNvdW50IGlzIGIvdyBvc3NjaWxhdGVzIGIvdyAwIGFuZCA2MCkgd2hpbGUgcGxheWVyIG1vdmVzXHJcbiAgICAgICAgLy9zbyBuZWVkIHRvIHNldCBpdCBkaWZmZXJlbnQgZGVwIG9uIGlmIGNyb3VjaGluZywgd2Fsa2luZyBvciBydW5uaW5nXHJcbiAgICAgICAgLy9maXJzdCBub3JtYWx6aWUgd2Fsa2lnbiBmcmFtZSBpbmNyIHRvIDEgYW5kIHRoZW4gbXVsdGlwIGJ5IGZhY3RvclxyXG4gICAgICAgIC8vY2FudCBqdXN0IHNheSA9IDMgb3IgPSA2IGNhdXNlIHRoZXkgbWlnaHRhIGJlZW4gYSBuZWcgbnVtIGJlZm9yZVxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZS5pc1BsYXllckNyb3VjaGluZygpKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa2luZ0ZyYW1lSW5jciA9IHRoaXMud2Fsa2luZ0ZyYW1lSW5jciAvIE1hdGguYWJzKHRoaXMud2Fsa2luZ0ZyYW1lSW5jcik7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa2luZ0ZyYW1lSW5jciAqPSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVTdGF0ZS5pc1BsYXllclJ1bm5pbmcoKSkge1xyXG4gICAgICAgICAgICB0aGlzLndhbGtpbmdGcmFtZUluY3IgPSB0aGlzLndhbGtpbmdGcmFtZUluY3IgLyBNYXRoLmFicyh0aGlzLndhbGtpbmdGcmFtZUluY3IpO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtpbmdGcmFtZUluY3IgKj0gODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa2luZ0ZyYW1lSW5jciA9IHRoaXMud2Fsa2luZ0ZyYW1lSW5jciAvIE1hdGguYWJzKHRoaXMud2Fsa2luZ0ZyYW1lSW5jcik7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa2luZ0ZyYW1lSW5jciAqPSA0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuZ2FtZVN0YXRlLmlzUGxheWVyTW92aW5nKCkpIHtcclxuICAgICAgICAgICAgdGhpcy53YWxraW5nRnJhbWVDb3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMud2Fsa2luZ0ZyYW1lQ291bnQgPD0gNjAgJiYgdGhpcy53YWxraW5nRnJhbWVDb3VudCA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa2luZ0ZyYW1lQ291bnQgKz0gdGhpcy53YWxraW5nRnJhbWVJbmNyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy53YWxraW5nRnJhbWVJbmNyICo9IC0xO1xyXG4gICAgICAgICAgICB0aGlzLndhbGtpbmdGcmFtZUNvdW50ICs9IHRoaXMud2Fsa2luZ0ZyYW1lSW5jcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3UmF5MkQoKSB7XHJcbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuYXJlYVN0YXRlLmdldENhbnZhczJEKCkuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBpZiAodGhpcy5nYW1lU3RhdGUuZ2V0Q2VudGVyRGlyKCkuZ2V0RGlyUmFkKCkgPT0gdGhpcy51VmVjRGlyLmdldERpclJhZCgpKSB7IC8vdGhpcyBpcyB0aGUgY2VudGVyIGNvbFxyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiNGRjAwMDBcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8odGhpcy5nYW1lU3RhdGUuZ2V0Q2VudGVyWCgpLCB0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJZKCkpO1xyXG4gICAgICAgIGlmICh0aGlzLmJ1bGxldENvbGxpc2lvbkFycmF5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ2JsdWUnO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMuYnVsbGV0Q29sbGlzaW9uQXJyYXlbMF0uY29sbGlzaW9uWCwgdGhpcy5idWxsZXRDb2xsaXNpb25BcnJheVswXS5jb2xsaXNpb25ZKTtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnZ3JlZW4nO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMuZW5kWCwgdGhpcy5lbmRZKTtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMuZW5kWCwgdGhpcy5lbmRZKTtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFkanVzdENvbG9yKHN0YXJ0Q29sb3IsIGNvbG9yQ2hhbmdlKSB7XHJcbiAgICAgICAgc3RhcnRDb2xvci5yID0gTWF0aC5tYXgoc3RhcnRDb2xvci5yICsgY29sb3JDaGFuZ2UuciwgMCk7XHJcbiAgICAgICAgc3RhcnRDb2xvci5nID0gTWF0aC5tYXgoc3RhcnRDb2xvci5nICsgY29sb3JDaGFuZ2UuZywgMCk7XHJcbiAgICAgICAgc3RhcnRDb2xvci5iID0gTWF0aC5tYXgoc3RhcnRDb2xvci5iICsgY29sb3JDaGFuZ2UuYiwgMCk7XHJcbiAgICB9XHJcbiAgICBkcmF3UmF5M0Qoc2xpY2VXaWR0aCwgc2xpY2VDb2wpIHtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcy5hcmVhU3RhdGUuZ2V0Q2FudmFzM0QoKS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGxldCBjYW52YXMzREhlaWdodCA9IHRoaXMuYXJlYVN0YXRlLmdlQ2FudmFzdDNESGVpZ2h0KCk7XHJcbiAgICAgICAgLy9jcm91Y2hpbmcgYW5kIHJ1bm5pbmcgYW5pbWF0aW9uXHJcbiAgICAgICAgbGV0IGNyb3VjaGluZ1BpeGhpZnQgPSAtMzAwO1xyXG4gICAgICAgIGxldCBjcm91Y2hpbmdGYWN0b3IgPSBjcm91Y2hpbmdQaXhoaWZ0ICogKDEgLyAodGhpcy5sZW5ndGggLyAxMikpOyAvL25lZWQgdG8gZmFjdG9yIGluIGxlbmd0aCBvZiByYXkgYmVjYXVzZSBjbHNvZXIgc3R1ZmYgZ2V0cyBtb3JlIHRhbGwgdGhhbiBzdHVmZiB0aGF0cyBmdXJ0aGVyIGF3YXlcclxuICAgICAgICBsZXQgd2Fsa2luZ0ZhY3RvciA9IHRoaXMud2Fsa2luZ0ZyYW1lQ291bnQgLyAxMDtcclxuICAgICAgICAvL2NhbGN1bGF0aW5nIGNlaWxpbmcgYW5kIGZsb29yIGdpdmVuIGxlbmd0aCBvZiByYXkgKyB3YWxraW5nIGFuZCBjcm91Y2hpbmcgYW5pbWF0aW9uXHJcbiAgICAgICAgbGV0IGNlaWxpbmcgPSBjYW52YXMzREhlaWdodCAvIDIgLSBjYW52YXMzREhlaWdodCAvICh0aGlzLmxlbmd0aCAvIDEyKSArICh0aGlzLmdhbWVTdGF0ZS5pc1BsYXllckNyb3VjaGluZygpID8gY3JvdWNoaW5nRmFjdG9yIDogMCkgKyB3YWxraW5nRmFjdG9yO1xyXG4gICAgICAgIGxldCBmbG9vciA9IGNhbnZhczNESGVpZ2h0IC0gY2VpbGluZyArIHdhbGtpbmdGYWN0b3IgKiAyICsgKHRoaXMuZ2FtZVN0YXRlLmlzUGxheWVyQ3JvdWNoaW5nKCkgPyBjcm91Y2hpbmdGYWN0b3IgKiAyIDogMCk7XHJcbiAgICAgICAgbGV0IGRpc3RGcm9tQ2VpbFRvRmxvb3IgPSBmbG9vciAtIGNlaWxpbmc7XHJcbiAgICAgICAgLy9TS1kgQ09MVU1OXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KCgoc2xpY2VDb2wpICogc2xpY2VXaWR0aCksIDAsIHNsaWNlV2lkdGgsIGNlaWxpbmcpO1xyXG4gICAgICAgIC8vU1RBUlMgSU4gU0tZXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHguZmlsbFJlY3QoKHNsaWNlQ29sKSAqIHNsaWNlV2lkdGgsIHRoaXMucmFuZFksIDEsIDEpO1xyXG4gICAgICAgIC8vd2FsbCBzaGFkaW5nIGJhc2VkIG9uIHJheSBsZW5ndGhcclxuICAgICAgICBsZXQgY29sb3IgPSB7IHI6IDE3NSwgZzogMTc1LCBiOiAxNzUgfTtcclxuICAgICAgICB0aGlzLmFkanVzdENvbG9yKGNvbG9yLCB7IHI6IC10aGlzLmxlbmd0aCAvIDMuNSwgZzogLXRoaXMubGVuZ3RoIC8gMy41LCBiOiAtdGhpcy5sZW5ndGggLyAzLjUgfSk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2IoJHtjb2xvci5yfSwgJHtjb2xvci5nfSwgJHtjb2xvci5ifSlgO1xyXG4gICAgICAgIC8vY29sb3JpbmcgY2VudGVyIGNvbCBhbmQgZWRnZSBjb2xzIGRpZmZlcmVudGx5XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuZ2FtZVN0YXRlLmdldENlbnRlckRpcigpLmdldERpclJhZCgpIC0gdGhpcy51VmVjRGlyLmdldERpclJhZCgpKSA8PSAwLjAwNzUpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiI0ZGMDAwMFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmVkZ2VSYXkpIHtcclxuICAgICAgICAgICAgbGV0IGNvbG9yID0geyByOiAxMjUsIGc6IDEyNSwgYjogMTI1IH07XHJcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0Q29sb3IoY29sb3IsIHsgcjogLXRoaXMubGVuZ3RoIC8gMy41LCBnOiAtdGhpcy5sZW5ndGggLyAzLjUsIGI6IC10aGlzLmxlbmd0aCAvIDMuNSB9KTtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2IoJHtjb2xvci5yfSwgJHtjb2xvci5nfSwgJHtjb2xvci5ifSlgO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL1dBTEwgQ09MVU1OXHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KCgoc2xpY2VDb2wpICogc2xpY2VXaWR0aCksIGNlaWxpbmcsIHNsaWNlV2lkdGgsIGRpc3RGcm9tQ2VpbFRvRmxvb3IpO1xyXG4gICAgICAgIC8vRkxPT1IgQ09MVU1OXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZ3JkO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdCgoKHNsaWNlQ29sKSAqIHNsaWNlV2lkdGgpLCBmbG9vciwgc2xpY2VXaWR0aCwgY2FudmFzM0RIZWlnaHQgLSBmbG9vcik7XHJcbiAgICAgICAgLy9CVUxMRVQgKyBFTkVNWSBOUEMgQ09MVU1OXHJcbiAgICAgICAgLy9jYW50IHVzZSB0aGUgY2VpbGluZyBhbmQgZmxvb3IgZnJvbSBhYm92ZSBzaW5jZSB0aGUgY3JvdWNoaW5nIGFuZCB3YWxraW5nIHNoaWZ0IG1lc3Mgc3R1ZmYgdXBcclxuICAgICAgICAvL2FsbCB3ZSByZWFsbHkgd2FudCBpcyBhIGZsb29yIGFuZCBjZWlsaW5nIHJlbCB0byBjZW50ZXIgb2Ygc2NyZWVuIGJ1dCBjcm91Y2hpZ24gc2hpZnQgbWFrZXMgc3R1ZmYgb2ZmIGNlbnRlclxyXG4gICAgICAgIC8vY2xvc2VyIHN0dWZmIHdpbGwgZ28gdXAgbW9yZSB0aGFuIGZhcnRoZXIgc3R1ZmYgYW5kIGJlIGV2ZW4gbW9yZSBvZmYgY2VudGVyXHJcbiAgICAgICAgbGV0IGNlaWwgPSBjYW52YXMzREhlaWdodCAvIDIgLSBjYW52YXMzREhlaWdodCAvICh0aGlzLmxlbmd0aCAvIDEyKSArIHdhbGtpbmdGYWN0b3I7XHJcbiAgICAgICAgbGV0IGZsciA9IGNhbnZhczNESGVpZ2h0IC0gY2VpbCArIHdhbGtpbmdGYWN0b3IgKiAyO1xyXG4gICAgICAgIGxldCBjb2xsaXNpb25PYmplY3RzID0gdGhpcy5idWxsZXRDb2xsaXNpb25BcnJheS5jb25jYXQodGhpcy5lbmVteU5wY0NvbGxpc2lvbkFycmF5KTtcclxuICAgICAgICBjb2xsaXNpb25PYmplY3RzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGEubGVuZ3RoID4gYi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb2xsaXNpb25PYmplY3RzLmZvckVhY2goY29sbCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBtaWQgPSAoZmxyIC0gY2VpbCkgLyAyICsgY2VpbDtcclxuICAgICAgICAgICAgbGV0IGxlbmd0aFRvQ29sbGlkZWRPYmogPSBjb2xsLmxlbmd0aCAhPSBudWxsID8gY29sbC5sZW5ndGggOiAxMDsgLy9zYWZldHkgbWVjaFxyXG4gICAgICAgICAgICBsZXQgY3JvdWNoZWRPYmpTaGlmdCA9IGNyb3VjaGluZ1BpeGhpZnQgKiAoMSAvIChsZW5ndGhUb0NvbGxpZGVkT2JqIC8gMTIpKTtcclxuICAgICAgICAgICAgbGV0IHNoaWZ0RnJvbU1pZCA9IC0xO1xyXG4gICAgICAgICAgICBsZXQgc2hpZnRGcm9tTWlkQ2VpbGluZ0ZhY3RvciA9IDE7XHJcbiAgICAgICAgICAgIGxldCBjb2xvciA9IHsgcjogMCwgZzogMCwgYjogMCB9O1xyXG4gICAgICAgICAgICAvL0JVTExFVCBTUEVDSUZJQ1xyXG4gICAgICAgICAgICBpZiAoY29sbC5vYmplY3RIaXQgaW5zdGFuY2VvZiBCdWxsZXQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjcm91Y2hlZEJ1bGxldCA9IGNvbGwub2JqZWN0SGl0LmdldENyb3VjaGVkQnVsbGV0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZVN0YXRlLmlzUGxheWVyQ3JvdWNoaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3JvdWNoZWRCdWxsZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlkICs9IGNyb3VjaGVkT2JqU2hpZnQgKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyb3VjaGVkQnVsbGV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZCArPSBjcm91Y2hlZE9ialNoaWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNoaWZ0RnJvbU1pZCA9IGNhbnZhczNESGVpZ2h0IC8gKGxlbmd0aFRvQ29sbGlkZWRPYmopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbGwub2JqZWN0SGl0IGluc3RhbmNlb2YgRW5lbXlOcGMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZS5pc1BsYXllckNyb3VjaGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWlkICs9IGNyb3VjaGVkT2JqU2hpZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzaGlmdEZyb21NaWQgPSBjYW52YXMzREhlaWdodCAvIChsZW5ndGhUb0NvbGxpZGVkT2JqIC8gMTIpO1xyXG4gICAgICAgICAgICAgICAgLy9lbmVteSBucGMgd2lsbCBiZSAzLzQgb2YgdGhlIHdhbGwgdGFsbCBidXQgNS84dGggd2lsbCBiZSBncmVlbiBwYXJ0IGFuZCB0aGUgb3RoZXIgMS84IGFib2UgbWlkIG9mIHdhbGwgd2lsbCBiZSByZWQgaGVhZCBwYXJ0IGhlbmNlIHRoZSBmYWN0b3Igb2YgOCBoZXJlXHJcbiAgICAgICAgICAgICAgICBzaGlmdEZyb21NaWRDZWlsaW5nRmFjdG9yID0gODtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgY29sbGlkZWRPYmpDZWlsID0gbWlkIC0gc2hpZnRGcm9tTWlkIC8gc2hpZnRGcm9tTWlkQ2VpbGluZ0ZhY3RvcjtcclxuICAgICAgICAgICAgbGV0IGNvbGxpZGVkT2JqRmxvb3IgPSBtaWQgKyBzaGlmdEZyb21NaWQ7XHJcbiAgICAgICAgICAgIC8vQlVMTEVUIFNQRUNJRklDXHJcbiAgICAgICAgICAgIGlmIChjb2xsLm9iamVjdEhpdCBpbnN0YW5jZW9mIEJ1bGxldCkge1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSB7IHI6IDIyNCwgZzogODYsIGI6IDAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0Q29sb3IoY29sb3IsIHsgcjogLWxlbmd0aFRvQ29sbGlkZWRPYmogLyAyLCBnOiAtbGVuZ3RoVG9Db2xsaWRlZE9iaiAvIDIgKiAwLjQsIGI6IDAgfSk7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgoKHNsaWNlQ29sKSAqIHNsaWNlV2lkdGgpLCBjb2xsaWRlZE9iakNlaWwgLSAwLjUsIHNsaWNlV2lkdGgsIChjb2xsaWRlZE9iakZsb29yIC0gY29sbGlkZWRPYmpDZWlsKSArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbGwub2JqZWN0SGl0IGluc3RhbmNlb2YgRW5lbXlOcGMpIHtcclxuICAgICAgICAgICAgICAgIC8vZHJhd2luZyBhIGJpZ2dlciBjb2x1bW4gYmVoaW5kIG1haW4gb25lIHRvIGJlIGFibGUgdG8gZGlzcGxheSB0aGUgcmVkIGhlYWQgcGFydFxyXG4gICAgICAgICAgICAgICAgbGV0IGhlYWRDZWlsaW5nID0gbWlkIC0gc2hpZnRGcm9tTWlkIC8gKHNoaWZ0RnJvbU1pZENlaWxpbmdGYWN0b3IgLyAyKTtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0geyByOiAyNTUsIGc6IDk4LCBiOiAwIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkanVzdENvbG9yKGNvbG9yLCB7IHI6IC0obGVuZ3RoVG9Db2xsaWRlZE9iaiAvIDIpLCBnOiAtbGVuZ3RoVG9Db2xsaWRlZE9iaiAvIDIgKiAwLjQsIGI6IDAgfSk7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYHJnYigke2NvbG9yLnJ9LCAke2NvbG9yLmd9LCAke2NvbG9yLmJ9KWA7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoKChzbGljZUNvbCkgKiBzbGljZVdpZHRoKSwgaGVhZENlaWxpbmcsIHNsaWNlV2lkdGgsIChjb2xsaWRlZE9iakZsb29yIC0gaGVhZENlaWxpbmcpKTtcclxuICAgICAgICAgICAgICAgIC8vbGl0dGxlIGJsYWNrIGxpbmUgYXQgYm90dG9tIGp1c3QgZm9yIGJvcmRlclxyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgoKHNsaWNlQ29sKSAqIHNsaWNlV2lkdGgpLCBjb2xsaWRlZE9iakNlaWwsIHNsaWNlV2lkdGgsIChjb2xsaWRlZE9iakZsb29yIC0gY29sbGlkZWRPYmpDZWlsKSArIDAuNSk7XHJcbiAgICAgICAgICAgICAgICAvL2dyZWVuIHBhcnQvYm9keSBjb2xvcmluZ1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSB7IHI6IDAsIGc6IDIxOSwgYjogMjIgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0Q29sb3IoY29sb3IsIHsgcjogMCwgZzogLWxlbmd0aFRvQ29sbGlkZWRPYmogLyAyLCBiOiAtbGVuZ3RoVG9Db2xsaWRlZE9iaiAvIDIgKiAwLjEgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2IoJHtjb2xvci5yfSwgJHtjb2xvci5nfSwgJHtjb2xvci5ifSlgO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoKChzbGljZUNvbCkgKiBzbGljZVdpZHRoKSwgY29sbGlkZWRPYmpDZWlsLCBzbGljZVdpZHRoLCBjb2xsaWRlZE9iakZsb29yIC0gY29sbGlkZWRPYmpDZWlsKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBcmVhU3RhdGUgfSBmcm9tIFwiLi9BcmVhU3RhdGVcIjtcclxuaW1wb3J0IHsgQXVkaW9Db250cm9sIH0gZnJvbSBcIi4vQXVkaW9Db250cm9sXCI7XHJcbmltcG9ydCB7IEJsb2NrVHlwZSB9IGZyb20gXCIuL01vZGVsL0VCbG9ja1R5cGVcIjtcclxuaW1wb3J0IHsgR2FtZVN0YXRlIH0gZnJvbSBcIi4vR2FtZVN0YXRlXCI7XHJcbmltcG9ydCB7IFJheXMgfSBmcm9tIFwiLi9SYXlzXCI7XHJcbmxldCBjYW52YXMyRCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW52YXNMZWZ0Jyk7XHJcbmxldCBjYW52YXMzRCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW52YXNSaWdodCcpO1xyXG4vL2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9ZG5SWF9iSGJZZ3MgZ290IGF1ZGlvIGZyb20gaGVyZVxyXG4vL2F1ZGlvIGluaXRpYWwgdmFsdWVzXHJcbmxldCBtb3ZlbWVudEF1ZGlvQ29udHJvbCA9IG5ldyBBdWRpb0NvbnRyb2woJ21vdmVtZW50QXVkaW9FbGVtJyk7XHJcbmxldCBzaG9vdGluZ0F1ZGlvQ29udHJvbCA9IG5ldyBBdWRpb0NvbnRyb2woJ3Nob290aW5nQXVkaW9FbGVtJywgMSwgZmFsc2UsIDEpO1xyXG5sZXQgbWFwVGVtcGxhdGUgPSBbXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGxdLFxyXG4gICAgW0Jsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsXSxcclxuICAgIFtCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGxdLFxyXG4gICAgW0Jsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGxdLFxyXG4gICAgW0Jsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGxdLFxyXG4gICAgW0Jsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuV2FsbF0sXHJcbiAgICBbQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLldhbGxdLFxyXG4gICAgW0Jsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5FbXB0eSwgQmxvY2tUeXBlLkVtcHR5LCBCbG9ja1R5cGUuRW1wdHksIEJsb2NrVHlwZS5XYWxsXSxcclxuICAgIFtCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsLCBCbG9ja1R5cGUuV2FsbCwgQmxvY2tUeXBlLldhbGwsIEJsb2NrVHlwZS5XYWxsXSxcclxuXTtcclxuY29uc3QgQVN0YXRlID0gbmV3IEFyZWFTdGF0ZShjYW52YXMyRCwgY2FudmFzM0QsIG1hcFRlbXBsYXRlKTtcclxuY29uc3QgR1N0YXRlID0gbmV3IEdhbWVTdGF0ZShBU3RhdGUsIG1vdmVtZW50QXVkaW9Db250cm9sLCBzaG9vdGluZ0F1ZGlvQ29udHJvbCk7XHJcbmNvbnN0IHJheXMgPSBuZXcgUmF5cyhHU3RhdGUsIEFTdGF0ZSk7XHJcbi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xyXG4vLyAgICAgdmFyIHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbi8vICAgICBjb25zb2xlLmxvZyhlLmNsaWVudFggLSByZWN0LmxlZnQsIGUuY2xpZW50WSAtIHJlY3QudG9wKTtcclxuLy8gfSk7XHJcbmZ1bmN0aW9uIGNsZWFyQ2FudmFzKGNhbnZhcykge1xyXG4gICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG59XHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcbiAgICBjbGVhckNhbnZhcyhjYW52YXMyRCk7XHJcbiAgICBjbGVhckNhbnZhcyhjYW52YXMzRCk7XHJcbiAgICBBU3RhdGUuZHJhd01hcCgpO1xyXG4gICAgR1N0YXRlLmRyYXdQbGF5ZXIyRCgpO1xyXG4gICAgcmF5cy5zZXR1cFJheXMoKTtcclxuICAgIHJheXMuZHJhdzJEKCk7XHJcbiAgICBHU3RhdGUuY2hlY2tFeHRlcm5hbENvbGxpc2lvbnMoKTtcclxuICAgIEdTdGF0ZS51cGRhdGVCdWxsZXRzKCk7XHJcbiAgICBHU3RhdGUudXBkYXRlRW5lbXlOcGNzKCk7XHJcbiAgICBHU3RhdGUuZHJhd0VuZW15TnBjczJEKCk7XHJcbiAgICBHU3RhdGUuZHJhd0J1bGxldHMyRCgpO1xyXG4gICAgcmF5cy5kcmF3M0QoKTtcclxuICAgIEdTdGF0ZS5kcmF3UGxheWVyQ3Jvc3NoYWlyKCk7XHJcbn1cclxuc2V0SW50ZXJ2YWwobWFpbiwgMTAwMCAvIDYwKTtcclxuIiwiaW1wb3J0IHsgTWFwIH0gZnJvbSBcIi4vTWFwXCI7XHJcbmV4cG9ydCBjbGFzcyBBcmVhU3RhdGUge1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzMkQsIGNhbnZhczNELCBtYXBUZW1wbGF0ZSkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzM0QgPSBjYW52YXMzRDtcclxuICAgICAgICB0aGlzLmNhbnZhczJEID0gY2FudmFzMkQ7XHJcbiAgICAgICAgdGhpcy5jZWxsV2lkdGggPSBjYW52YXMyRC53aWR0aCAvIG1hcFRlbXBsYXRlWzBdLmxlbmd0aDtcclxuICAgICAgICB0aGlzLmNlbGxIZWlnaHQgPSBjYW52YXMyRC5oZWlnaHQgLyBtYXBUZW1wbGF0ZS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKHRoaXMuY2VsbFdpZHRoLCB0aGlzLmNlbGxIZWlnaHQsIG1hcFRlbXBsYXRlLCBjYW52YXMyRCk7XHJcbiAgICB9XHJcbiAgICBnZXRDYW52YXMyREhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMyRC5oZWlnaHQ7XHJcbiAgICB9XHJcbiAgICBnZUNhbnZhc3QzREhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMzRC5oZWlnaHQ7XHJcbiAgICB9XHJcbiAgICBnZXRDYW52YXMyRFdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhczJELndpZHRoO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2FudmFzM0RXaWR0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMzRC53aWR0aDtcclxuICAgIH1cclxuICAgIGdldENhbnZhczJEKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhczJEO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2FudmFzM0QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzM0Q7XHJcbiAgICB9XHJcbiAgICBnZXRDZWxsV2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2VsbFdpZHRoO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2VsbEhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jZWxsSGVpZ2h0O1xyXG4gICAgfVxyXG4gICAgZ2V0TWFwKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hcDtcclxuICAgIH1cclxuICAgIGRyYXdNYXAoKSB7XHJcbiAgICAgICAgdGhpcy5tYXAuZHJhd01hcCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJheSB9IGZyb20gXCIuL1JheVwiO1xyXG5pbXBvcnQgeyBVbml0VmVjdG9yIH0gZnJvbSBcIi4vVW5pdFZlY3RvclwiO1xyXG5pbXBvcnQgeyBVdGlsIH0gZnJvbSAnLi9VdGlsJztcclxuZXhwb3J0IGNsYXNzIFJheXMge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZVN0YXRlLCBhcmVhU3RhdGUpIHtcclxuICAgICAgICB0aGlzLnJheXMgPSBbXTtcclxuICAgICAgICB0aGlzLmZvdiA9IDkwO1xyXG4gICAgICAgIHRoaXMuZGlzdFRvUHJvamVjdGlvbiA9IDM1MDtcclxuICAgICAgICB0aGlzLnV0aWwgPSBuZXcgVXRpbCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gZ2FtZVN0YXRlO1xyXG4gICAgICAgIHRoaXMuYXJlYVN0YXRlID0gYXJlYVN0YXRlO1xyXG4gICAgfVxyXG4gICAgLy9zb21lIHJlc291cmNlcyB1c2VkOlxyXG4gICAgLy9odHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNDE3Mzk2Ni9yYXljYXN0aW5nLWVuZ2luZS1yZW5kZXJpbmctY3JlYXRpbmctc2xpZ2h0LWRpc3RvcnRpb24taW5jcmVhc2luZy10b3dhcmRzLWVkZ2VzXHJcbiAgICAvL2h0dHBzOi8vZ2FtZWRldi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMTU2ODQyL2hvdy1jYW4taS1jb3JyZWN0LWFuLXVud2FudGVkLWZpc2hleWUtZWZmZWN0LXdoZW4tZHJhd2luZy1hLXNjZW5lLXdpdGgtcmF5Y2FzdGluLzE1Njg1MyMxNTY4NTNcclxuICAgIC8vaHR0cHM6Ly9nYW1lZGV2LnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy85NzU3NC9ob3ctY2FuLWktZml4LXRoZS1maXNoZXllLWRpc3RvcnRpb24taW4tbXktcmF5Y2FzdC1yZW5kZXJlclxyXG4gICAgLy9odHRwczovL3d3dy5nYW1lZGV2Lm5ldC9mb3J1bXMvdG9waWMvMjcyNTI2LXJheWNhc3RpbmctLS0tZmlzaGV5ZS1kaXN0b3J0aW9uLz9wYWdlPTFcclxuICAgIC8vc28gdGhlcmVzIHR3byBlZmZlY3RzLCBvbmUgaXMgdGhlIGZpc2hleWUgY29ycmVjdGlvbiBidXQgYW5vdGhlciBpcyB0aGUgbm9uIGxpbmVhcml0eSBvZiBhbmdsZSBpbmNyZWFzZXMgYmV0d2VlbiByYXlzXHJcbiAgICBzZXR1cFJheXMoKSB7XHJcbiAgICAgICAgbGV0IGNlbnRlclVWZWMgPSB0aGlzLmdhbWVTdGF0ZS5nZXRDZW50ZXJEaXIoKTtcclxuICAgICAgICB0aGlzLmRpc3RUb1Byb2plY3Rpb24gPSB0aGlzLmFyZWFTdGF0ZS5nZXRDYW52YXMzRFdpZHRoKCkgLyAyIC8gKE1hdGgudGFuKHRoaXMudXRpbC50b1JhZCh0aGlzLmZvdiAvIDIpKSk7XHJcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hcmVhU3RhdGUuZ2V0Q2FudmFzM0RXaWR0aCgpOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgbGV0IGFuZyA9IE1hdGguYXRhbigoaSAtIHRoaXMuYXJlYVN0YXRlLmdldENhbnZhczNEV2lkdGgoKSAvIDIpIC8gdGhpcy5kaXN0VG9Qcm9qZWN0aW9uKSArIGNlbnRlclVWZWMuZ2V0RGlyUmFkKCk7XHJcbiAgICAgICAgICAgIGxldCB1VmVjID0gbmV3IFVuaXRWZWN0b3IodGhpcy51dGlsLnRvRGVnKGFuZykpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yYXlzW2NvdW50ZXJdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJheXNbY291bnRlcl0ucGVyZm9ybVJheUNhbGN1bGF0aW9ucyh1VmVjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdSYXkgPSBuZXcgUmF5KHRoaXMuZ2FtZVN0YXRlLCB0aGlzLmFyZWFTdGF0ZSwgdVZlYyk7XHJcbiAgICAgICAgICAgICAgICBuZXdSYXkucGVyZm9ybVJheUNhbGN1bGF0aW9ucyh1VmVjKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmF5cy5wdXNoKG5ld1JheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRyYXcyRCgpIHtcclxuICAgICAgICB0aGlzLnJheXMuZm9yRWFjaChyYXkgPT4gcmF5LmRyYXdSYXkyRCgpKTtcclxuICAgIH1cclxuICAgIGRyYXczRCgpIHtcclxuICAgICAgICBsZXQgcmF5U2xpY2VXaWR0aCA9IHRoaXMuYXJlYVN0YXRlLmdldENhbnZhczNEV2lkdGgoKSAvIHRoaXMucmF5cy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5yYXlzLmZvckVhY2goKHJheSwgaSkgPT4ge1xyXG4gICAgICAgICAgICByYXkuZHJhd1JheTNEKHJheVNsaWNlV2lkdGgsIGkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=